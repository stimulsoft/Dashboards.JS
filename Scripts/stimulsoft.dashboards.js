/*
Stimulsoft.Dashboards.JS
Version: 2022.4.4
Build date: 2022.11.01
License: https://www.stimulsoft.com/en/licensing/reports
*/
!function(t){var e;"undefined"!=typeof process&&process.__nwjs||"object"!=typeof exports||"undefined"==typeof module?"function"==typeof define&&define.amd?define(["./stimulsoft.reports"],e=>Object.assign(e,t(e.Stimulsoft))):window.Stimulsoft?window.Stimulsoft.Report&&window.Stimulsoft.Report.StiReport?Object.assign(window,t(window.Stimulsoft)):window.Stimulsoft.dashboardsFactory=t:window.Stimulsoft={dashboardsFactory:t}:module.exports=(e=require("./stimulsoft.reports"),Object.assign(e,t(e.Stimulsoft)))}(function(B){var W=B.StiOptions;function b(e,t){for(var r in t)r in e?b(e[r],t[r]):e[r]=t[r];return e}B&&(B.__engineVersion&&"2022.4.4"!==B.__engineVersion?console.warn("Scripts versions mismatch: engine ver. = %s; dashboards ver. = 2022.4.4",B.__engineVersion):"2022.4.4"!==B.__reportsVersion&&console.warn("Scripts versions mismatch: reports ver. = %s; dashboards ver. = 2022.4.4",B.__reportsVersion));var B=b(B||{},{Dashboard:{Components:{Panel:{},Button:{},Cards:{},Helpers:{},Chart:{Design:{}},TreeViewBox:{},TreeView:{},Table:{Design:{}},RegionMap:{},Progress:{},PivotTable:{Design:{}},OnlineMap:{},ListBox:{},DatePicker:{},ComboBox:{},Gauge:{Design:{}},Indicator:{},Design:{},Text:{Design:{}},Image:{Design:{}},Shape:{}},Export:{Settings:{},Helpers:{},Tools:{},Painters:{Table:{}}},Interactions:{Design:{}},Helpers:{},Render:{},Visuals:{Gauge:{},Cards:{},Indicator:{},Progress:{Helpers:{}}},Design:{Helpers:{}},Images:{},Options:{},Visualizers:{},Drawing:{Helpers:{},Painters:{}}},Designer:{Dashboards:{}},Reflection:{}}),F={},s,s,s,s,s,s,s,s,s,s,s,s,s,s;F.a=B.Dashboard,F.b=B.Designer,F.c=B.Reflection,F.d=F.b.Dashboards,F.e=F.a.Components,F.f=F.a.Export,F.g=F.a.Interactions,F.h=F.a.Helpers,F.i=F.a.Render,F.j=F.a.Visuals,F.k=F.a.Design,F.l=F.a.Images,F.m=F.a.Options,F.n=F.a.Visualizers,F.o=F.a.Drawing,F.p=F.o.Helpers,F.q=F.o.Painters,F.r=F.k.Helpers,F.s=F.j.Gauge,F.t=F.j.Cards,F.u=F.j.Indicator,F.v=F.j.Progress,F.w=F.v.Helpers,F.x=F.g.Design,F.y=F.f.Settings,F.z=F.f.Helpers,F.A=F.f.Tools,F.B=F.f.Painters,F.C=F.B.Table,F.D=F.e.Panel,F.E=F.e.Button,F.F=F.e.Cards,F.G=F.e.Helpers,F.H=F.e.Chart,F.I=F.e.TreeViewBox,F.J=F.e.TreeView,F.K=F.e.Table,F.L=F.e.RegionMap,F.M=F.e.Progress,F.N=F.e.PivotTable,F.O=F.e.OnlineMap,F.P=F.e.ListBox,F.Q=F.e.DatePicker,F.R=F.e.ComboBox,F.S=F.e.Gauge,F.T=F.e.Indicator,F.U=F.e.Design,F.V=F.e.Text,F.W=F.e.Image,F.X=F.e.Shape,F.Y=F.W.Design,F.Z=F.V.Design,F._=F.S.Design,F.aa=F.N.Design,F.ab=F.K.Design,F.ac=F.H.Design;{let e;(s=e=F.a.StiTextFormatState||(F.a.StiTextFormatState={}))[s["None"]=0]="None",s[s["DecimalDigits"]=1]="DecimalDigits",s[s["DecimalSeparator"]=2]="DecimalSeparator",s[s["GroupSeparator"]=4]="GroupSeparator",s[s["GroupSize"]=8]="GroupSize",s[s["PositivePattern"]=16]="PositivePattern",s[s["NegativePattern"]=32]="NegativePattern",s[s["CurrencySymbol"]=64]="CurrencySymbol",s[s["PercentageSymbol"]=128]="PercentageSymbol",s[s["Abbreviation"]=256]="Abbreviation",s[s["NegativeInRed"]=512]="NegativeInRed";let t;(s=t=F.a.StiFilterCondition||(F.a.StiFilterCondition={}))[s["EqualTo"]=0]="EqualTo",s[s["NotEqualTo"]=1]="NotEqualTo",s[s["GreaterThan"]=2]="GreaterThan",s[s["GreaterThanOrEqualTo"]=3]="GreaterThanOrEqualTo",s[s["LessThan"]=4]="LessThan",s[s["LessThanOrEqualTo"]=5]="LessThanOrEqualTo",s[s["Between"]=6]="Between",s[s["NotBetween"]=7]="NotBetween",s[s["Containing"]=8]="Containing",s[s["NotContaining"]=9]="NotContaining",s[s["BeginningWith"]=10]="BeginningWith",s[s["EndingWith"]=11]="EndingWith",s[s["IsNull"]=12]="IsNull",s[s["IsNotNull"]=13]="IsNotNull";let r;(s=r=F.a.StiFilterItem||(F.a.StiFilterItem={}))[s["Argument"]=0]="Argument",s[s["Value"]=1]="Value",s[s["ValueEnd"]=2]="ValueEnd",s[s["Expression"]=3]="Expression",s[s["ValueOpen"]=4]="ValueOpen",s[s["ValueClose"]=5]="ValueClose",s[s["ValueLow"]=6]="ValueLow",s[s["ValueHigh"]=7]="ValueHigh";let i;(s=i=F.a.StiFilterDataType||(F.a.StiFilterDataType={}))[s["String"]=0]="String",s[s["Numeric"]=1]="Numeric",s[s["DateTime"]=2]="DateTime",s[s["Boolean"]=3]="Boolean",s[s["Expression"]=4]="Expression"}{let e;(s=e=F.e.StiMeterIdent||(F.e.StiMeterIdent={}))[s["ArgumentChartMeter"]=1]="ArgumentChartMeter",s[s["SeriesChartMeter"]=2]="SeriesChartMeter",s[s["ValueChartMeter"]=3]="ValueChartMeter",s[s["StartValueChartMeter"]=4]="StartValueChartMeter",s[s["EndValueChartMeter"]=5]="EndValueChartMeter",s[s["OpenValueChartMeter"]=6]="OpenValueChartMeter",s[s["CloseValueChartMeter"]=7]="CloseValueChartMeter",s[s["LowValueChartMeter"]=8]="LowValueChartMeter",s[s["HighValueChartMeter"]=9]="HighValueChartMeter",s[s["WeightChartMeter"]=10]="WeightChartMeter",s[s["XChartMeter"]=11]="XChartMeter",s[s["YChartMeter"]=12]="YChartMeter",s[s["MaxGaugeMeter"]=13]="MaxGaugeMeter",s[s["MinGaugeMeter"]=14]="MinGaugeMeter",s[s["SeriesGaugeMeter"]=15]="SeriesGaugeMeter",s[s["ValueGaugeMeter"]=16]="ValueGaugeMeter",s[s["TargetGaugeMeter"]=17]="TargetGaugeMeter",s[s["SeriesIndicatorMeter"]=18]="SeriesIndicatorMeter",s[s["TargetIndicatorMeter"]=19]="TargetIndicatorMeter",s[s["ValueIndicatorMeter"]=20]="ValueIndicatorMeter",s[s["SeriesProgressMeter"]=21]="SeriesProgressMeter",s[s["TargetProgressMeter"]=22]="TargetProgressMeter",s[s["ValueProgressMeter"]=23]="ValueProgressMeter",s[s["LatitudeMapMeter"]=24]="LatitudeMapMeter",s[s["LongitudeMapMeter"]=25]="LongitudeMapMeter",s[s["LocationMapMeter"]=26]="LocationMapMeter",s[s["LocationValueMapMeter"]=27]="LocationValueMapMeter",s[s["LocationColorMapMeter"]=28]="LocationColorMapMeter",s[s["LocationArgumentMapMeter"]=29]="LocationArgumentMapMeter",s[s["KeyMapMeter"]=30]="KeyMapMeter",s[s["NameMapMeter"]=31]="NameMapMeter",s[s["ValueMapMeter"]=32]="ValueMapMeter",s[s["GroupMapMeter"]=33]="GroupMapMeter",s[s["ColorMapMeter"]=34]="ColorMapMeter",s[s["ColorScaleColumn"]=35]="ColorScaleColumn",s[s["DataBarsColumn"]=36]="DataBarsColumn",s[s["DimensionColumn"]=37]="DimensionColumn",s[s["IndicatorColumn"]=38]="IndicatorColumn",s[s["MeasureColumn"]=39]="MeasureColumn",s[s["SparklinesColumn"]=40]="SparklinesColumn",s[s["BubbleColumn"]=41]="BubbleColumn",s[s["ColorScaleCardsColumn"]=42]="ColorScaleCardsColumn",s[s["DataBarsCardsColumn"]=43]="DataBarsCardsColumn",s[s["DimensionCardsColumn"]=44]="DimensionCardsColumn",s[s["IndicatorCardsColumn"]=45]="IndicatorCardsColumn",s[s["MeasureCardsColumn"]=46]="MeasureCardsColumn",s[s["SparklinesCardsColumn"]=47]="SparklinesCardsColumn",s[s["BubbleCardsColumn"]=48]="BubbleCardsColumn",s[s["PivotColumn"]=49]="PivotColumn",s[s["PivotRow"]=50]="PivotRow",s[s["PivotSummary"]=51]="PivotSummary",s[s["NameListBoxMeter"]=52]="NameListBoxMeter",s[s["KeyListBoxMeter"]=53]="KeyListBoxMeter",s[s["KeyTreeViewMeter"]=54]="KeyTreeViewMeter",s[s["KeyTreeViewBoxMeter"]=55]="KeyTreeViewBoxMeter",s[s["NameComboBoxMeter"]=56]="NameComboBoxMeter",s[s["KeyComboBoxMeter"]=57]="KeyComboBoxMeter",s[s["ValueDatePickerMeter"]=58]="ValueDatePickerMeter",s[s["TextMeter"]=59]="TextMeter",s[s["ImageMeter"]=60]="ImageMeter"}let x=B.Report.Components.StiContainer,U=B.Base.Drawing.StiBorder,t=B.Base.Meta.StiColorMeta,i=B.Base.Meta.StiEnumMeta,T=B.Base.Meta.StiNumberMeta,n=B.Base.Meta.StiObjectMeta,e=B.Base.Meta.StiStringMeta,D=B.Base.Meta.StiRemoveMeta,l=B.Base.Meta.StiStringNullOrEmptyMeta,A=B.System.StiMath,I=B.Report.Dashboard.ImplementsIStiDashboardWatermark,R=B.Report.Dashboard.IStiDashboardWatermark,E=B.Base.Drawing.StiAdvancedWatermark,K=B.Report.Components.StiSurfaceViewMode,q=B.Report.Helpers.StiAppExpressionParser,Y=B.Base.StiAppExpressionHelper,L=B.System.StiString,a=B.Base.JsonReportObject.IStiJsonReportObject,Z=B.Report.Dashboard.ImplementsIStiDashboard,o=B.Base.StiJsonReportObjectHelper,Q=B.Base.StiKeyHelper,M=B.Base.Drawing.StiSolidBrush,_=B.Base.Drawing.StiBrush,$=B.Report.Units.StiUnit,ee=B.Report.Components.StiMargins,te=B.Report.StiComponentId,re=B.Data.Engine.StiDataSourcePicker,N=B.System.Drawing.Color,ie=B.Report.Dashboard.IStiSkipOwnFilter,se=B.Data.Engine.IStiUserFilters,ne=B.Report.Dashboard.Helpers.StiCrossLinkedFilterHelper,le=B.Report.Dashboard.IStiFilterElement,ae=B.Report.Dashboard.StiGroupElementHelper,oe=B.Report.Dashboard.IStiElement,P=B.System.Collections.List,u=B.Report.Dashboard.StiElementStyleIdent,ue=B.System.Enum,he=B.Report.Dashboard.IStiDashboard,me=B.Report.Components.StiPage,c=B.Base.Localization.StiLocalization,de=B.System.Drawing.Size,ce=B.Report.Components.StiDashboardViewMode,ge=B.Report.Dashboard.IStiAltProperties,pe=B.Report.Dashboard.IStiTitleElement,Se=B.System.Drawing.Rectangle,we=B.Report.Dashboard.StiDashboardContentAlignment;{class kh extends me{constructor(e=null){super(e),this.backColor=N.transparent,this.margins=new ee(10,10,10,10),this._style=u.Blue,this.customStyleName="",this.dashboardWatermark=new E,this._width2=1200,this._height2=600,this._altSize=de.empty,this._dashboardViewMode=ce.Desktop,this._contentAlignment=we.StretchXY,this._altContentAlignment=we.StretchXY,this._deviceWidth=480,this.key=Q.generateKey(),this.width=1200,this.height=600}implements(){return kh.ImplementsStiDashboard||(kh.ImplementsStiDashboard=super.implements().concat([he,R,...Z,...I,a])),kh.ImplementsStiDashboard}clone(){var e;let t=super.clone();return t.dashboardWatermark=null==(e=this.dashboardWatermark)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new D(["Margins","MirrorMargins","PrintHeadersFootersFromPreviousPage","PrintOnPreviousPage","StopBeforePrint","LargeHeight","LargeHeightFactor","ResetPageNumber","Watermark","ExcelSheet","CanBreak","Interaction","PaperSourceFirstPage","PaperSourceOfFirstPage","PaperSourceOtherPages","PaperSourceOfOtherPages","UseParentStyles","Conditions","PaperSize","NumberOfCopies","BeginRenderEvent","RenderingEvent","EndRenderEvent","GetToolTipEvent","GetTagEvent","GetBookmarkEvent","GetHyperlinkEvent","BeforePrintEvent","AfterPrintEvent","MouseEnterEvent","MouseLeaveEvent","ClickEvent","DoubleEvent","ColumnBeginRenderEvent","ColumnEndRenderEvent","GetExcelSheetEvent","GetDrillDownReportEvent"]),new T("Width","",1200),new T("Height","",600),new T("DeviceWidth","",480),new i("Style","",u,u.Blue),new l("Border").get(()=>o.Serialize.jBorder(this.border)).set(e=>this.border=o.Deserialize.border(e.value)).setXml(e=>this.border=U.loadFromXml(e.textContent)),new t("BackColor","",N.transparent),new i("DashboardViewMode","",ce,ce.Desktop),new e("AltSize","",o.Serialize.sizeD(de.empty)).get(()=>o.Serialize.sizeD(this.altSize)).set(e=>this.altSize=o.Deserialize.sizeD(e.value.toString())).setXml(e=>this.altSize=B.System.Drawing.Size.convertFromXml(e.textContent)),new i("ContentAlignment","",we,we.StretchXY),new i("AltContentAlignment","",we,we.StretchXY),new n("DashboardWatermark")])}getMeters(e=!0,t=null){return this.getElements(e,t).selectMany(e=>e.getMeters())}getElements(t=!0,r=null){return null==r?(t?this.getComponentsList():this.components.list).stimulsoft().toList().where(e=>e.is(oe)).cast():L.isNullOrWhiteSpace(r)?(t?this.getComponentsList():this.components.list).stimulsoft().toList().where(e=>e.is(oe)).cast().where(e=>L.isNullOrWhiteSpace(ae.getGroup(e))).toList():this.report.pages.toList().where(e=>e.isDashboard).selectMany(e=>(t?e.getComponentsList():e.components.list).stimulsoft().toList()).where(e=>e.is(oe)).cast().where(e=>ae.getGroup(e)==r)}getUserFilters(t){if(null==t)return null;let e=ae.getGroup(t),i=this.getElements(!0,e),s=t.as(le);if(null!=s){if(ne.isCrossLinkedFilter(s))return null;let e=i.where(e=>e.is(le)).cast().firstOrDefault(e=>e.getKey()==s.getParentKey());if(null==e)return null;let t=new P,r=e.is(se)?e.userFilters:null;return null!=r&&t.addRange(r),null!=(r=this.as(he).getUserFilters(e.as(oe)))&&t.addRange(r),t}return i.where(e=>e.is(se)&&(e!=t||!(e.is(ie)&&e.allowSkipOwnFilter))).cast().selectMany(this.getUserFilters3)}getUserFilters3(t){return t.userFilters.forEach(e=>e.elementKey=t.as(oe).key),t.userFilters}getUnplacedElements(){return this.getComponents().toList().where(e=>0==e.width||0==e.height).cast()}switchSurfaceViewMode(e){var l;let t=e==K.Desktop?ce.Desktop:ce.Mobile;if(this.dashboardViewMode==t)return;this.dashboardViewMode=t;let a=!1,o=(this.altSize.isEmpty&&e==K.Mobile&&(this.altSize=new de(480,800),a=!0,this.altContentAlignment=this.contentAlignment),this.getComponents());for(let n of o.list){let s=n.as(ge);if(null!=s){let e=n.parent,t=(n.parent.components.remove(n),o.getComponentByGuid(s.altParentKey,this)||this),r=(null!=(l=t.as(x))&&l.components.add(n),s.altParentKey=e.guid,n.clientRectangle.clone()),i=(n.clientRectangle=s.altClientRectangle.clone(),s.altClientRectangle=r,n.as(pe));if(null!=(null==i?void 0:i.title)){let e=i.title.visible;a||(i.title.visible=s.altTitleVisible),s.altTitleVisible=e}}}let r=new de(this.width,this.height),i=(this.width=this.altSize.width,this.height=this.altSize.height,this.altSize=r,this.contentAlignment);this.contentAlignment=this.altContentAlignment,this.altContentAlignment=i}removeMobileSurface(){this.altSize=de.empty;let e=this.getComponents();for(let t of e.list){let e=t.as(ge);null!=e&&(e.altClientRectangle=Se.empty)}this.altContentAlignment=we.StretchXY}get isMobileSurfaceSelected(){return this.dashboardViewMode==ce.Mobile}get isDesktopSurfaceSelected(){return this.dashboardViewMode==ce.Desktop}fetchAllMeters(){return new P}getNestedPages(){return new P}get isEnabled(){return Y.isExpressionSpecified(this,"enabled")?q.parseBoolExpression(this,"enabled",!0):this.enabled}async isEnabledAsync(){return Y.isExpressionSpecified(this,"enabled")?q.parseBoolExpressionAsync(this,"enabled",!0):this.enabled}get isDefined(){return 0<this.components.count}get isQuerable(){return!0}shouldSerializeBackColor(){return!N.transparent.equals(this.backColor)}retrieveUsedDataNames(t){return this.getElements(!0,t).selectMany(e=>e.retrieveUsedDataNames(t)).distinct()}getDictionary(){return null!=this.report?this.report.dictionary:null}getDataSources(e){return re.fetch(this,null,e,null!=this.report?this.getDictionary().fetchDataSources():null)}get serviceCategory(){return c.get("Permissions","ItemDashboards")}get componentId(){return te.StiDashboard}get localizedName(){return c.get("Components","StiDashboard")}get gridSize(){return this.report.info.gridSizePoints}get unit(){return $.HundredthsOfInch}get brush(){return new M(this.backColor)}set brush(e){this.backColor=_.toColor(e)}get skip(){return!0}set skip(e){}convert(e,t,r=!1){}getKey(){return this.key}createNew(){return new kh}get key(){return this.guid}set key(e){this.guid=e}get style(){return this._style}set style(e){if(this._style==e)return;e==u.Auto&&(e=ue.getValues(typeof u).stimulsoft().toList().cast().firstOrDefault(e=>e!=u.Auto)),this._style=e}shouldSerializeDashboardWatermark(){return null==this.dashboardWatermark||!this.dashboardWatermark.isDefault()}getApp(){return this.report}get width(){return this._width2}set width(e){this._width2=A.round2(e,2)}get height(){return this._height2}set height(e){this._height2=A.round2(e,2)}get altSize(){return this._altSize}set altSize(e){this._altSize=e}get dashboardViewMode(){return this._dashboardViewMode}set dashboardViewMode(e){this._dashboardViewMode=e}get contentAlignment(){return this._contentAlignment}set contentAlignment(e){this._contentAlignment=e}get altContentAlignment(){return this._altContentAlignment}set altContentAlignment(e){this._altContentAlignment=e}get deviceWidth(){return this._deviceWidth}set deviceWidth(e){this._deviceWidth=e}get isMobileSurfacePresent(){return!this.altSize.isEmpty}}F.e.StiDashboard=kh}let r=B.Base.Meta.StiMetaHelper,fe=B.System.Type,Ce=B.Base.Meters.IStiLocalizedMeter,ye=B.Base.Meters.IStiMeter,be=B.Base.StiJsonSaveMode,xe=B.Base.StiJson;{class sc{constructor(e,t,r){this.expression="",this.label="",null==e&&(e=Q.generateKey()),this.key=e,null!=t&&(this.expression=t),null!=r&&(this.label=r)}is(e){if(e instanceof B.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}implements(){return sc.ImplementsStiMeter||(sc.ImplementsStiMeter=[ye,Ce,a]),sc.ImplementsStiMeter}clone(e=!0,t=!0){let r=this.stimulsoft().memberwiseClone();return r.key=Q.generateKey(),r}saveToString(){return this.saveToJsonObject(be.Report).serialize()}loadFromString(e){let t=new xe;t.deserialize(e),this.loadFromJsonObject(t)}meta(){return null==this._hash&&(this._hash=[new i("Ident","",F.e.StiMeterIdent).set(()=>{}).setXml(()=>{}),new l("Key"),new l("Expression"),new l("Label")]),this._hash}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}getUniqueCode(){let e=null!=this.expression?this.expression.stimulsoft().getHashCode():0;return e=397*(e=397*(e=397*e^fe.getTypeName(this).stimulsoft().getHashCode())^(null!=this.label?this.label.stimulsoft().getHashCode():0))^(null!=this.key?this.key.stimulsoft().getHashCode():0),Math.abs(e)}get localizedName(){return""}isDefault(){return this.getIsDefault()}getIsDefault(){return null==this.key&&null!=this.expression&&0==this.expression.length&&null!=this.label&&0==this.label.length}toString(){let e=this.stimulsoft().getType().stimulsoft().getTypeName();return L.isNullOrWhiteSpace(this.expression)?e:e+`-"{Expression}"`}}F.e.StiMeter=sc}let Te=B.Base.Meters.IStiDimensionMeter;{class nc extends F.e.StiMeter{constructor(e,t,r){super(e,t,r)}implements(){return nc.ImplementsStiDimensionMeter||(nc.ImplementsStiDimensionMeter=super.implements().concat([Te])),nc.ImplementsStiDimensionMeter}}F.e.StiDimensionMeter=nc}let Fe=B.System.Collections.Dictionary,Me=B.System.Attribute;{class Ke extends Me{constructor(e){super(),this.exportToolTypeName=e}static add(e,t){this.attributes.add(e,new Ke(t))}}Ke.attributes=new Fe,F.f.StiExportToolAttribute=Ke}let h=B.Base.Meta.StiBoolMeta,ve=B.Report.Components.ImplementsIStiCornerRadius,De=B.Report.Components.IStiCornerRadius,m=B.Base.Drawing.StiCornerRadius,Ae=B.Base.Drawing.StiSimpleShadow,Ie=B.Report.Components.IStiSimpleShadow,Re=B.Report.Components.ImplementsIStiSimpleShadow,O=B.System.Drawing.Rectangle,Ee=B.Report.Dashboard.ImplementsIStiMargin,ke=B.Report.Dashboard.ImplementsIStiPadding,Le=B.Report.Dashboard.ImplementsIStiPanel,Ve=B.Report.Dashboard.ImplementsIStiAltProperties,Be=B.Report.Components.StiComponentToolboxPosition,Ne=B.Base.Drawing.StiEmptyBrush,Pe=B.Report.Components.StiToolboxCategory,g=B.Base.Localization.StiLocalization,Oe=B.Base.Drawing.StiSimpleBorder,ze=B.Report.Dashboard.StiPadding,He=B.Report.Dashboard.StiMargin,Xe=B.Report.Dashboard.IStiGroupElement,Ge=B.Report.Dashboard.IStiMargin,je=B.Report.Dashboard.IStiPadding,Je=B.Report.Dashboard.IStiPanel,We=B.Report.Components.IStiSimpleBorder,Ue=B.Report.Components.StiPanel,Ke=F.f.StiExportToolAttribute;{Ke.add("StiPanelElement","Stimulsoft.Dashboard.Export.Tools.StiPanelElementExportTool");class Ze extends Ue{constructor(e=O.empty){super(e),this.margin=He.create(3),this.padding=ze.create(0),this.border2=new Oe,this.backColor=N.transparent,this.dashboardWatermark=new E,this.shadow=new Ae,this.cornerRadius=new m(0),this.altTitleVisible=!0,this.altClientRectangle=Se.empty,this.defaultClientRectangle=new O(0,0,300,300),this.helpUrl="user-manual/dashboards_panel.htm",this.key=Q.generateKey(),this.brush=new Ne,this.placeOnToolbox=!0}implements(){return Ze.ImplementsStiPanelElement||(Ze.ImplementsStiPanelElement=super.implements().concat([We,De,Ie,Je,je,Ge,ge,R,...Le,...ve,...Re,...ke,...Ee,...Ve,...I,a])),Ze.ImplementsStiPanelElement}clone(e){var e,e,e,e;let t=super.clone(e);return t.margin=null==(e=this.margin)?void 0:e.clone(),t.padding=null==(e=this.padding)?void 0:e.clone(),t.border2=null==(e=this.border2)?void 0:e.clone(),t.dashboardWatermark=null==(e=this.dashboardWatermark)?void 0:e.clone().stimulsoft().as(E),t}meta(){return this._hash||(this._hash=[...super.meta(),new D(["Border","UseParentStyles","MinSize","MaxSize","Interaction","PrintOn","GrowToHeight","ShiftMode","CanShrink","CanGrow","Printable","Bookmark","Hyperlink","Conditions","GetBookmarkEvent","GetHyperlinkEvent","GetTagEvent","GetToolTipEvent","BeforePrintEvent","AfterPrintEvent","ClickEvent","DoubleEvent","MouseEnterEvent","MouseLeaveEvent","GetDrillDownReportEvent"]),new n("Margin").get(e=>this.margin.saveToJsonObject(3,3,3,3)),new n("Padding").get(e=>this.padding.saveToJsonObject(0,0,0,0)),new l("Border","border2").get(()=>o.Serialize.jBorder2(this.border2)).set(e=>this.border2=o.Deserialize.simpleBorder(e.value)).setXml(e=>this.border2=o.Deserialize.simpleBorder(e.textContent)),new t("BackColor","",N.transparent),new e("AltClientRectangle","",o.Serialize.rectangleD(Se.empty)).get(()=>o.Serialize.rectangleD(this.altClientRectangle)).set(e=>this.altClientRectangle=o.Deserialize.rectangleD(e.value)).setXml(e=>this.altClientRectangle=this.loadRectangleDFromXml(e.textContent)),new h("AltTitleVisible","",!0),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("DashboardWatermark")])}get componentId(){return te.StiPanelElement}getMeters(e=!0,t=null){return this.getElements(e,t).selectMany(e=>e.getMeters())}getElements(e=!0,t=null){let r=(e?this.getComponents():this.components).toList().where(e=>e.is(oe)).cast();return(null==t?r.where(e=>!e.is(Xe)||null==ae.getGroup(e)):r.where(e=>ae.getGroup(e)==t)).toList()}fetchAllMeters(){return new P}getMeters2(){return new P}getFilterRules(){return new P}getNestedPages(){return new P}get dashboard(){return this.page.as(he)}get isDefined(){return!0}get isQuerable(){return!1}async isEnabledAsync(){return Y.isExpressionSpecified(this,"enabled")?q.parseBoolExpressionAsync(this,"enabled",!0):this.enabled}get zoom(){return null==this.report||null==this.report.info?1:this.report.info.zoom}retrieveUsedDataNames(e){return new P}getDictionary(){return null!=this.report?this.report.dictionary:null}getDataSources(e){var e;return re.fetch(this,null,e,null==(e=this.getDictionary())?void 0:e.fetchDataSources())}shouldSerializeMargin(){return!(3==this.margin.left&&3==this.margin.right&&3==this.margin.top&&3==this.margin.bottom)}shouldSerializePadding(){return!this.padding.isEmpty}shouldSerializeBorder(){return null==this.border||!this.border.isDefault()}shouldSerializeBackColor(){return!N.transparent.equals(this.backColor)}shouldSerializeDashboardWatermark(){return null==this.dashboardWatermark||!this.dashboardWatermark.isDefault()}getApp(){return this.report}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}get toolboxPosition(){return Be.TextElement}get localizedName(){return g.get("Components","StiPanel")}get brush(){return new M(this.backColor)}set brush(e){this.backColor=_.toColor(e)}get serviceCategory(){return c.get("Permissions","ItemDashboards")}get localizedCategory(){return this.serviceCategory}get toolboxCategory(){return Pe.Dashboards}canContainIn(e){return e.is(F.e.StiDashboard)}createNew(){return new Ze}get key(){return this.guid}set key(e){this.guid=e}}F.D.StiPanelElement=Ze}let qe=B.Report.Dashboard.ImplementsIStiElement,Ye=B.Report.Components.ImplementsIStiBackColor,Ze=F.D.StiPanelElement,Qe=B.Report.Components.IStiBackColor,_e=B.Report.Components.StiComponent;{class lc extends _e{constructor(e=O.empty){super(e),this.border2=new Oe,this._backColor=N.transparent,this.margin=He.create(3),this.padding=ze.create(5),this.altTitleVisible=!0,this.altClientRectangle=Se.empty,this.toolboxCategory=Pe.Dashboards,this.defaultClientRectangle=new O(0,0,280,280),this.key=Q.generateKey(),this.placeOnToolbox=!0}implements(){return lc.ImplementsStiElement||(lc.ImplementsStiElement=super.implements().concat([oe,We,Qe,je,Ge,ge,...qe,...Ye,...ke,...Ee,...Ve,a])),lc.ImplementsStiElement}meta(){return this._hash||(this._hash=[...super.meta(),new D(["UseParentStyles","MinSize","MaxSize","Interaction","PrintOn","GrowToHeight","ShiftMode","CanShrink","CanGrow","Printable","Bookmark","Hyperlink","Conditions","GetBookmarkEvent","GetHyperlinkEvent","GetTagEvent","GetToolTipEvent","BeforePrintEvent","AfterPrintEvent","ClickEvent","DoubleEvent","MouseEnterEvent","MouseLeaveEvent","GetDrillDownReportEvent"]),new n("Margin").get(e=>this.margin.saveToJsonObject(3,3,3,3)),new n("Padding").get(e=>this.padding.saveToJsonObject(5,5,5,5)),new l("Border","border2").get(()=>o.Serialize.jBorder2(this.border2)).set(e=>this.border2=o.Deserialize.simpleBorder(e.value)).setXml(e=>this.border2=o.Deserialize.simpleBorder(e.textContent)),new t("BackColor","",N.transparent),new e("AltClientRectangle","",o.Serialize.rectangleD(Se.empty)).get(()=>o.Serialize.rectangleD(this.altClientRectangle)).set(e=>this.altClientRectangle=o.Deserialize.rectangleD(e.value)).setXml(e=>this.altClientRectangle=this.loadRectangleDFromXml(e.textContent)),new h("AltTitleVisible","",!0)])}convert(e,t,r=!1){}fetchAllMeters(){return new P}getMeters(){return new P}get dashboard(){return this.page.as(he)}get isDefined(){return!0}get isQuerable(){return!0}async isEnabledAsync(){return Y.isExpressionSpecified(this,"enabled")?q.parseBoolExpressionAsync(this,"enabled",!0):this.enabled}get zoom(){return null!=this.page?this.page.zoom:1}retrieveUsedDataNames2(e){return this.retrieveUsedDataNames()}retrieveUsedDataNames(){return new P}getDictionary(){return null!=this.report?this.report.dictionary:null}getDataSources(e){var e;return re.fetch(this,null,e,null==(e=this.getDictionary())?void 0:e.fetchDataSources())}clone(e){var e,e,e;let t=super.clone(e);return t.border2=null==(e=this.border2)?void 0:e.clone(),t.margin=null==(e=this.margin)?void 0:e.clone(),t.padding=null==(e=this.padding)?void 0:e.clone(),t}shouldSerializeBorder(){return null==this.border2||!this.border2.isDefault()}get backColor(){return this._backColor}set backColor(e){this._backColor=e}shouldSerializeBackColor(){return!N.transparent.equals(this.backColor)}shouldSerializeMargin(){return!(3==this.margin.left&&3==this.margin.top&&3==this.margin.right&&3==this.margin.bottom)}shouldSerializePadding(){return null==this.padding||5!=this.padding.left||5!=this.padding.top||5!=this.padding.right||5!=this.padding.bottom}get serviceCategory(){return c.get("Permissions","ItemDashboards")}canContainIn(e){return e.is(F.e.StiDashboard)||e.is(Ze)}get localizedCategory(){return this.serviceCategory}get localizedName(){return c.get("Components","StiDashboard")}get key(){return this.guid}set key(e){this.guid=e}getNestedPages(){return null}}F.e.StiElement=lc}let $e=B.Data.Engine.StiDataSorter,et=B.System.Data.DataColumn,tt=B.Report.Dashboard.StiEmptyCellsAs,rt=B.Report.Dashboard.StiReportParser,v=B.Base.Helpers.StiValueHelper,it=B.Data.Engine.StiDataGrouper,st=B.System.Data.DataTable,nt=B.Data.Engine.StiDataTable,lt=B.Report.Helpers.StiStringsTableHelper;{class ac{static getIndicatorDataTable(e,t){let r=lt.loadStringRowsFromCache(t),i=(null==r&&(r=lt.loadStringRowsFromPackedString(e,[this.columnValue,this.columnTarget,this.columnSeries])),new P);if(i.add(new F.T.StiValueIndicatorMeter(null,null,g.get("PropertyMain","Value"))),i.add(new F.T.StiTargetIndicatorMeter(null,null,g.get("PropertyMain","Target"))),i.add(new F.T.StiSeriesIndicatorMeter(null,null,g.get("Chart","Series"))),null==r)return new nt(i,new P);let s=r.groupBy(e=>e[2]).select(e=>[e.sum(e=>this.parseDecimal(e[0],t)),this.sumNullable(e.select(e=>this.parseNullableDecimal(e[1],t)).toList()),this.parseString(e.key,t)]);return new nt(i,s.toList())}static getProgressDataTable(e,t){let r=lt.loadStringRowsFromCache(t),i=(null==r&&(r=lt.loadStringRowsFromPackedString(e,[this.columnValue,this.columnTarget,this.columnSeries])),new P);if(i.add(new F.M.StiValueProgressMeter(null,null,g.get("PropertyMain","Value"))),i.add(new F.M.StiTargetProgressMeter(null,null,g.get("PropertyMain","Target"))),i.add(new F.M.StiSeriesProgressMeter(null,null,g.get("Chart","Series"))),null==r)return new nt(i,new P);let s=r.groupBy(e=>e[2]).select(e=>[e.sum(e=>this.parseDecimal(e[0],t)),this.sumNullable(e.select(e=>this.parseNullableDecimal(e[1],t)).toList()),this.parseString(e.key,t)]);return new nt(i,s.toList())}static getGaugeDataTable(e,t){let r=lt.loadStringRowsFromCache(t),i=(null==r&&(r=lt.loadStringRowsFromPackedString(e,[this.columnValue,this.columnTarget,this.columnSeries])),new P);if(i.add(new F.S.StiValueGaugeMeter(null,null,g.get("PropertyMain","Value"))),i.add(new F.S.StiTargetGaugeMeter(null,null,g.get("PropertyMain","Target"))),i.add(new F.S.StiSeriesGaugeMeter(null,null,g.get("Chart","Series"))),null==r)return new nt(i,new P);let s=r.groupBy(e=>e[2]).select(e=>[e.sum(e=>this.parseDecimal(e[0],t)),this.sumNullable(e.select(e=>this.parseNullableDecimal(e[1],t)).toList()),this.parseString(e.key,t)]);return new nt(i,s.toList())}static getChartDataTable(e,l){let t=l.as(F.H.StiChartElement),a={ref:[]},r=lt.loadColumnsAndStringRowsFromCache(l,a),o=(null==r&&(r=lt.loadColumnsAndStringRowsFromPackedString(e,a)),t.isBubbleChart),i=t.isRange,s=t.isFinancial,n=t.manuallyEnteredChartMeter,u=new P,h=new P;for(let t of a.ref){let e=h.length;switch(t){case this.columnValue:if(o)h.add(new F.H.StiYChartMeter("Value","T.Value","Y"));else if(i)h.add(new F.H.StiStartValueChartMeter("Value","Sum(T.Value)",g.get("PropertyMain","Values"),n.seriesType));else if(s)h.add(new F.H.StiOpenValueChartMeter("Value","Sum(T.Value)",g.get("PropertyMain","OpenValues"),n.seriesType));else{let e=n.clone().as(F.H.StiValueChartMeter);e.expression="Sum(T.Value)",e.label=g.get("PropertyMain","Values"),e.key="Value",e.showNulls=tt.ConnectPointsWithLine,e.showZeros=tt.ConnectPointsWithLine,h.add(e)}break;case this.columnEndValue:i&&h.add(new F.H.StiEndValueChartMeter("EndValue","Sum(T.EndValue)",g.get("PropertyMain","EndValues")));break;case this.columnCloseValue:s&&h.add(new F.H.StiCloseValueChartMeter("CloseValue","Sum(T.CloseValue)",g.get("PropertyMain","CloseValues")));break;case this.columnLowValue:s&&h.add(new F.H.StiLowValueChartMeter("LowValue","Sum(T.LowValue)",g.get("PropertyMain","LowValues")));break;case this.columnHighValue:s&&h.add(new F.H.StiHighValueChartMeter("HighValue","Sum(T.HighValue)",g.get("PropertyMain","HighValues")));break;case this.columnArgument:o?h.add(new F.H.StiXChartMeter("Argument","T.Argument","X")):h.add(new F.H.StiArgumentChartMeter("Argument","T.Argument",g.get("PropertyMain","Arguments")));break;case this.columnWeight:o&&h.add(new F.H.StiWeightChartMeter("Weight","Sum(T.Weight)",g.get("PropertyMain","Weights")));break;case this.columnSeries:h.add(new F.H.StiSeriesChartMeter("Series","T.Series",g.get("PropertyMain","Series")));break}h.length!=e&&u.add(t)}if(null==r||!r.any())return new nt(h,new P);let m=new st;m.tableName="T";for(let n of r){let i=m.newRow(),s=0;for(let r of a.ref){let t=null;switch(r){case this.columnValue:t=this.parseDecimal(n[s],l);break;case this.columnEndValue:t=this.parseDecimal(n[s],l);break;case this.columnCloseValue:t=this.parseDecimal(n[s],l);break;case this.columnLowValue:t=this.parseDecimal(n[s],l);break;case this.columnHighValue:t=this.parseDecimal(n[s],l);break;case this.columnArgument:t=o?this.parseDecimal(n[s],l):this.parseString(n[s],l);break;case this.columnWeight:t=this.parseDecimal(n[s],l);break;case this.columnSeries:t=this.parseString(n[s],l);break}let e=u.indexOf(r);if(-1!=e){if(!m.columns.contains("T."+r)){let e=new et("T."+r,"string"==typeof t?String:Number);m.columns.add(e)}i.sett(e,t)}s++}m.rows.add(i)}let d=it.group(l.getDictionary(),m,h.toList());return $e.sort(d,t.userSorts,t.report,0)}static sumNullable(e){if(null==e)return null;if(!(e=null==e?void 0:e.where(e=>null!=e)).any())return null;return e.sum()}static parseDecimal(e,t){return null!=e&&0<=e.indexOf("{")?v.tryToNumber(rt.parse2(e,t.report)):v.tryToNumber(e)}static parseNullableDecimal(e,t){return null!=e&&0<=e.indexOf("{")&&(e=rt.parse2(e,t.report)),L.isNullOrWhiteSpace(e)?null:v.tryToNumber(e)}static parseString(e,t){if(null==e)return"";let r="string"==typeof e?e:null==e?void 0:e.stimulsoft().toString();return null!=r&&0<=r.indexOf("{")?rt.parse2(r,t.report):r}}ac.columnValue="Value",ac.columnEndValue="EndValue",ac.columnTarget="Target",ac.columnCloseValue="CloseValue",ac.columnLowValue="LowValue",ac.columnHighValue="HighValue",ac.columnArgument="Argument",ac.columnWeight="Weight",ac.columnSeries="Series",F.e.StiManuallyEnteredDataParser=ac}let at=B.Base.Meters.IStiMeasureMeter;{class oc extends F.e.StiMeter{constructor(e,t,r){super(e,t,r)}implements(){return oc.ImplementsStiMeasureMeter||(oc.ImplementsStiMeasureMeter=super.implements().concat([at])),oc.ImplementsStiMeasureMeter}}F.e.StiMeasureMeter=oc}let ot=B.Report.Dashboard.StiTextSizeMode,ut=B.Base.Meta.StiFontMeta,ht=B.Report.Dashboard.ImplementsIStiTitle,mt=B.Report.Dashboard.IStiTitle,dt=B.System.ICloneable,k=B.System.Drawing.FontStyle,z=B.System.Drawing.Font,V=B.Base.Drawing.StiHorAlignment;{class Fn{constructor(e,t,r,i,s,n,l){this.horAlignment=V.Left,this.font=new z("Arial",11),this.backColor=N.transparent,this.foreColor=N.transparent,this.text="",this.visible=!0,this.sizeMode=ot.Fit,this.text=e,null!=t&&(this.foreColor=t),null!=r&&(this.backColor=r),null!=i&&(this.font=i),null!=s&&(this.horAlignment=s),null!=n&&(this.visible=n),null!=l&&(this.sizeMode=l)}implements(){return Fn.ImplementsStiTitle||(Fn.ImplementsStiTitle=[dt,a,mt,...ht]),Fn.ImplementsStiTitle}meta(){return this._hash||(this._hash=[new e("Text"),new t("ForeColor","",N.transparent),new t("BackColor","",N.transparent),new h("Visible","",!0),new ut("Font","","Arial",11),new i("HorAlignment","",V,V.Left),new i("SizeMode","",ot,ot.Fit)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static createFromJsonObject(e){let t=new Fn;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Fn;return t.loadFromXml(e),t}clone(){return this.stimulsoft().memberwiseClone()}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&11==this.font.sizeInPoints&&this.font.style==k.Regular)}shouldSerializeBackColor(){return!N.transparent.equals(this.backColor)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}}F.e.StiTitle=Fn}let ct=B.Report.Helpers.StiFontIcons,gt=B.Base.Design.IStiDefault,pt=B.Report.Dashboard.IStiButtonElementIconSet;{class yt{constructor(e,t){this.icon=null,this.checkedIcon=null,this.uncheckedIcon=null,null!=e&&(this.checkedIcon=e),null!=t&&(this.uncheckedIcon=t)}implements(){return[pt,gt,dt]}meta(){return this._hash||(this._hash=[new i("Icon","",ct).check(()=>null!=this.icon),new i("CheckedIcon","",ct).check(()=>null!=this.checkedIcon),new i("UncheckedIcon","",ct).check(()=>null!=this.uncheckedIcon)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static createFromJsonObject(e){let t=new yt;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new yt;return t.loadFromXml(e),t}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return null==this.icon&&null==this.checkedIcon&&null==this.uncheckedIcon}}F.E.StiButtonElementIconSet=yt}let St=B.Base.Meta.StiEventMeta,wt=B.Report.Events.StiCheckedChangedEvent,ft=B.Report.Events.StiClickEvent,Ct=B.Base.Meta.StiBrushMeta,yt=F.E.StiButtonElementIconSet,bt=B.Report.Dashboard.StiIconAlignment,xt=B.Base.StiAlignValue,Tt=B.Report.Design.StiCopyStyleExtHub,Ft=B.Base.Drawing.StiStyleBrush,Mt=B.Base.Drawing.StiVertAlignment,H=B.Base.Drawing.StiBorderSides,X=B.Base.Drawing.StiTextHorAlignment,vt=B.Report.Components.TextFormats.StiGeneralFormatService,Dt=B.Report.Dashboard.StiButtonType,At=B.System.StiNumber,It=B.Base.Drawing.StiButtonShapeType,Rt=B.Report.Dashboard.StiButtonStretch,Et=B.Report.Dashboard.ImplementsIStiButtonElement,kt=B.Report.Design.IStiCopyStyleExt,Lt=B.Report.Components.IStiWordWrap,Vt=B.Report.Components.IStiTextBrush,Bt=B.Report.Dashboard.IStiButtonElement,Nt=B.Report.Dashboard.ImplementsIStiFixedHeightElement,Pt=B.Report.Components.ImplementsIStiFont,Ot=B.Report.Components.ImplementsIStiVertAlignment,zt=B.Report.Components.ImplementsIStiTextHorAlignment,Ht=B.Report.Components.IStiBrush,Xt=B.Report.Dashboard.IStiFixedHeightElement,Gt=B.Report.Components.IStiFont,jt=B.Report.Components.IStiVertAlignment,Jt=B.Report.Components.IStiTextHorAlignment;{let t=B.Base.Drawing.SizeD,r=B.Base.Drawing.RectangleD;class Sh extends F.e.StiElement{constructor(e=O.empty){super(e),this.checkedValue=!1,this.shapeType=It.Rectangle,this._stretch=Rt.StretchXY,this.type=Dt.Button,this.shadow=new Ae,this._style=u.Auto,this._customStyleName="",this.userFilters=new P,this.textFormat=new vt,this.font=new z("Arial",10),this.cornerRadius=new m,this.horAlignment=X.Center,this.vertAlignment=Mt.Center,this.wordWrap=!0,this.brush=new Ft,this.textBrush=new Ft,this.defaultClientRectangle=new r(0,0,140,40),this.helpUrl="user-manual/dashboards_data_filtering_button.htm",this.text="Button",this.group="",this.iconAlignment=bt.Left,this.iconBrush=new Ft,this.iconSet=new yt,this.visualStates=new F.E.StiButtonVisualStates,this.border2.side=H.All,this.border2.size=2}implements(){return Sh.ImplementsStiButtonElement||(Sh.ImplementsStiButtonElement=super.implements().concat([Bt,kt,Jt,jt,Lt,Gt,Xt,Ht,Vt,a,...Et,...zt,...Ot,...Pt,...Nt])),Sh.ImplementsStiButtonElement}clone(e){var e,e,e,e,e,e,e;let t=super.clone(e);return t.brush=null==(e=this.brush)?void 0:e.clone(),t.textBrush=null==(e=this.textBrush)?void 0:e.clone(),t.iconBrush=null==(e=this.iconBrush)?void 0:e.clone(),t.iconSet=null==(e=this.iconSet)?void 0:e.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.font=null==(e=this.font)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t.visualStates=this.visualStates.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new e("Text","","Button"),new i("Style","",u,u.Auto),new i("Type","",Dt,Dt.Button),new i("ShapeType","",It,It.Rectangle),new i("Stretch","",Rt,Rt.StretchXY),new l("CustomStyleName"),new l("Group"),new i("HorAlignment","",X,X.Center),new i("VertAlignment","",Mt,Mt.Center),new i("IconAlignment","",bt,bt.Left),new h("WordWrap","",!0),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new Ct("Brush"),new Ct("TextBrush"),new Ct("IconBrush"),new ut("Font","","Arial",10),new h("Checked"),new n("IconSet").check(()=>null!=this.iconSet&&!this.iconSet.isDefault()).get(()=>this.iconSet.saveToJsonObject(be.Report)).set(e=>this.iconSet=yt.createFromJsonObject(e.value)).setXml(e=>this.iconSet=yt.createFromXml(e)),new n("VisualStates").check(()=>null!=this.visualStates).get(()=>this.visualStates.saveToJsonObject(be.Report)).set(e=>this.visualStates=F.E.StiButtonVisualStates.createFromJsonObject(e.value)).setXml(e=>this.visualStates=F.E.StiButtonVisualStates.createFromXml(e)),new St("ClickEvent",ft),new St("CheckedChangedEvent",wt)])}get componentId(){return te.StiButtonElement}get isFixedHeight(){return this.stretch==Rt.StretchX}get checked(){return this.checkedValue}set checked(e){this.checkedValue!=e&&(this.checkedValue=e)}get stretch(){return this._stretch}set stretch(e){if(this._stretch!=e&&(this._stretch=e)==Rt.StretchX&&this.isDesigning){let e=this.getFixedHeight();null!=e&&(this.height=At.getValueOrDefault(e))}}getIconSet(){return this.iconSet}getVisualStates(){return this.visualStates}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault()}get style(){return this._style}set style(e){this._style!=e&&(this._style=e)!=u.Custom&&(this.customStyleName="")}get customStyleName(){return this._customStyleName}set customStyleName(e){this._customStyleName!=e&&(this._customStyleName=e,L.isNullOrWhiteSpace(e)||(this._style=u.Custom))}convertFrom(e){}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&10==this.font.sizeInPoints&&this.font.style==k.Regular)}getParentKey(){return""}setParentKey(e){}async applyDefaultFilters(){}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}getFonts(){let e=super.getFonts().stimulsoft().toList();return e.add(new z(this.font.name,this.font.size,this.font.style,this.font.unit)),e.addRange(this.visualStates.getFonts()),e.distinct().cast().toList()}shouldSerializeBrush(){return!this.brush.is(Ft)}shouldSerializeTextBrush(){return!this.textBrush.is(Ft)}get backColor(){return _.toColor(this.brush)}set backColor(e){this.brush=new M(e)}get foreColor(){return _.toColor(this.textBrush)}set foreColor(e){this.textBrush=new M(e)}invokeSetCopyStyle(){null!=Tt.visualStateDefault&&this.loadFromJsonObject(Tt.visualStateDefault),this.visualStates.invokeSetCopyStyle()}invokeGetCopyStyle(){Tt.visualStateDefault=this.saveToJsonObject(be.Report),this.visualStates.invokeGetCopyStyle()}get toolboxPosition(){return Be.ButtonElement}get localizedName(){return g.get("Components","StiButton")}createNew(){return new Sh}getFixedHeight(){var e;let t=null==(e=this.report)?void 0:e.getCurrentPage();if(null==t)return null;return xt.alignToMaxGrid(this.defaultClientRectangle.height,t.gridSize,!0)}getEvents(){let e=new P;return null!=this.clickEvent&&e.add(this.clickEvent),null!=this.checkedChangedEvent&&e.add(this.checkedChangedEvent),e}get visualStates(){return this._visualStates}set visualStates(e){e!=this._visualStates&&null!=(this._visualStates=e)&&(e.parent=this)}shouldSerializeVisualStates(){return null==this.visualStates||!this.visualStates.isDefault()}get isChecked(){return Y.isExpressionSpecified(this,"checked")?q.parseBoolExpression(this,"checked",!0):this.checked}getMinSize(){if(!this.isFixedHeight)return super.getMinSize();let e=this.getFixedHeight();if(null==e)return t.empty;return new t(0,At.getValueOrDefault(e))}setMinSize(e){this.isFixedHeight||super.setMinSize(e)}getMaxSize(){if(!this.isFixedHeight)return super.getMaxSize();let e=this.getFixedHeight();if(null==e)return t.empty;return new t(0,At.getValueOrDefault(e))}setMaxSize(e){this.isFixedHeight||super.setMaxSize(e)}shouldSerializeIconSet(){return null==this.iconSet||!this.iconSet.isDefault()}shouldSerializeIconBrush(){return!this.iconBrush.is(Ft)}invokeCheckedChanged(e,t){}get checkedChangedEvent(){return new wt(this)}set checkedChangedEvent(e){null!=e&&e.set(this,e.script)}}Sh.eventCheckedChanged={},F.E.StiButtonElement=Sh}let Wt=B.Base.Drawing.StiDefaultBrush,Ut=B.Report.Dashboard.IStiButtonVisualState;{class uc{constructor(){this.font=null,this.brush=new Wt,this.textBrush=new Wt,this.border=null,this.iconSet=new F.E.StiButtonElementIconSet,this.iconBrush=new Wt}implements(){return[Ut,dt,gt]}meta(){return this._hash||(this._hash=[new Ct("Brush").check(()=>null!=this.brush),new Ct("TextBrush").check(()=>null!=this.textBrush),new Ct("IconBrush").check(()=>null!=this.iconBrush),new l("Font").check(()=>null!=this.font).get(()=>o.Serialize.font(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new l("Border").check(()=>null!=this.border).get(()=>o.Serialize.jBorder2(this.border)).set(e=>this.border=o.Deserialize.simpleBorder(e.value)).setXml(e=>this.border=o.Deserialize.simpleBorder(e.textContent)),new n("IconSet").check(()=>null!=this.iconSet&&!this.iconSet.isDefault()).get(()=>this.iconSet.saveToJsonObject(be.Report)).set(e=>this.iconSet=F.E.StiButtonElementIconSet.createFromJsonObject(e.value)).setXml(e=>this.iconSet=F.E.StiButtonElementIconSet.createFromXml(e))])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static createFromJsonObject(e){let t=new uc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new uc;return t.loadFromXml(e),t}clone(){var e,e,e,e,e,e;let t=this.stimulsoft().memberwiseClone();return t.border=null==(e=this.border)?void 0:e.clone(),t.brush=null==(e=this.brush)?void 0:e.clone(),t.textBrush=null==(e=this.textBrush)?void 0:e.clone(),t.iconBrush=null==(e=this.iconBrush)?void 0:e.clone(),t.font=null==(e=this.font)?void 0:e.clone(),t.iconSet=null==(e=this.iconSet)?void 0:e.clone(),t}isDefault(){return!(this.shouldSerializeBrush()||this.shouldSerializeTextBrush()||this.shouldSerializeIconBrush()||this.shouldSerializeBorder()||this.shouldSerializeIconSet()||this.shouldSerializeFont())}shouldSerializeFont(){return null!=this.font}shouldSerializeBrush(){return!this.brush.is(Wt)}shouldSerializeTextBrush(){return!this.textBrush.is(Wt)}shouldSerializeBorder(){return null!=this.border}shouldSerializeIconSet(){return null==this.iconSet||!this.iconSet.isDefault()}getIconSet(){return this.iconSet}shouldSerializeIconBrush(){return!this.iconBrush.is(Wt)}}F.E.StiButtonVisualState=uc}let Kt=B.Base.IStiGetFonts,qt=B.Report.Dashboard.IStiButtonVisualStates;{class hc{constructor(){this.hover=new F.E.StiButtonVisualState,this.pressed=new F.E.StiButtonVisualState,this.checked=new F.E.StiButtonVisualState}implements(){return[qt,dt,Kt,kt,gt]}meta(){return this._hash||(this._hash=[new n("Hover").check(()=>null!=this.hover).get(()=>this.hover.saveToJsonObject(be.Report)).set(e=>this.hover=F.E.StiButtonVisualState.createFromJsonObject(e.value)).setXml(e=>this.hover=F.E.StiButtonVisualState.createFromXml(e)),new n("Pressed").check(()=>null!=this.pressed).get(()=>this.pressed.saveToJsonObject(be.Report)).set(e=>this.pressed=F.E.StiButtonVisualState.createFromJsonObject(e.value)).setXml(e=>this.pressed=F.E.StiButtonVisualState.createFromXml(e)),new n("Checked").check(()=>null!=this.checked).get(()=>this.checked.saveToJsonObject(be.Report)).set(e=>this.checked=F.E.StiButtonVisualState.createFromJsonObject(e.value)).setXml(e=>this.checked=F.E.StiButtonVisualState.createFromXml(e))])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static createFromJsonObject(e){let t=new hc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new hc;return t.loadFromXml(e),t}clone(){let e=this.stimulsoft().memberwiseClone();return e.hover=this.hover.clone(),e.pressed=this.pressed.clone(),e.checked=this.checked.clone(),e}isDefault(){return!this.shouldSerializeHover()&&!this.shouldSerializePressed()&&!this.shouldSerializeChecked()}getFonts(){let e=new P;return e.add(this.hover.font),e.add(this.pressed.font),e.add(this.checked.font),e.distinct().toList()}invokeSetCopyStyle(){null!=Tt.visualStateHover&&(this.hover=new F.E.StiButtonVisualState,this.hover.loadFromJsonObject(Tt.visualStateHover)),null!=Tt.visualStatePressed&&(this.pressed=new F.E.StiButtonVisualState,this.pressed.loadFromJsonObject(Tt.visualStatePressed)),null!=Tt.visualStateChecked&&(this.checked=new F.E.StiButtonVisualState,this.checked.loadFromJsonObject(Tt.visualStateDisabled))}invokeGetCopyStyle(){Tt.visualStateHover=this.hover.saveToJsonObject(be.Report),Tt.visualStatePressed=this.pressed.saveToJsonObject(be.Report),Tt.visualStateChecked=this.checked.saveToJsonObject(be.Report)}getHoverState(){return this.hover}getPressedState(){return this.pressed}getCheckedState(){return this.checked}get hover(){return this._hover}set hover(e){this._hover!=e&&null!=(this._hover=e)&&(e.parent=this.parent)}shouldSerializeHover(){return null==this.hover||!this.hover.isDefault()}get pressed(){return this._pressed}set pressed(e){this._pressed!=e&&null!=(this._pressed=e)&&(e.parent=this.parent)}shouldSerializePressed(){return null==this.pressed||!this.pressed.isDefault()}get checked(){return this._checked}set checked(e){this._checked!=e&&null!=(this._checked=e)&&(e.parent=this.parent)}shouldSerializeChecked(){return null==this.checked||!this.checked.isDefault()}}F.E.StiButtonVisualStates=hc}let Yt=B.Base.Meters.IStiCardsColumn,Zt=B.Base.Drawing.StiCardsColumnVisibility,Qt=B.Report.Components.ImplementsIStiForeColor,_t=B.Report.Components.ImplementsIStiHorAlignment,$t=B.Report.Components.TextFormats.StiFormatService,er=B.Report.Components.IStiForeColor,tr=B.Report.Components.IStiTextFormat,rr=B.Report.Components.IStiHorAlignment;{class sr extends F.e.StiMeter{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r),this.horAlignment=V.Center,this.vertAlignment=Mt.Center,this.textFormat=new vt,this.font=new z("Arial",10),this.foreColor=N.transparent,this.wrapLine=!0,this.height=0,this.visibility=Zt.True,this.visibilityExpression=null,null!=i&&(this.horAlignment=i),null!=s&&(this.vertAlignment=s),null!=l&&(this.textFormat=l),null!=a&&(this.visibility=a),null!=o&&(this.visibilityExpression=o),null!=u&&(this.foreColor=u),null!=n&&(this.height=n),null!=h&&(this.wrapLine=h)}implements(){return sr.ImplementsStiCardsColumn||(sr.ImplementsStiCardsColumn=super.implements().concat([Yt,rr,jt,er,tr,Gt,..._t,...Qt,...Pt])),sr.ImplementsStiCardsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",V,V.Center),new i("VertAlignment","",Mt,Mt.Center),new T("Height",""),new h("WrapLine","",!0),new n("TextFormat").check(()=>!(this.textFormat.is(vt)||null==this.textFormat)).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>{let t=$t.loadFormatFromXml(e);null!=t&&(this.textFormat=t)}),new t("ForeColor","",N.transparent),new i("Visibility","",Zt,Zt.True),new ut("Font","","Arial",10),new l("VisibilityExpression").check(()=>null!=this.visibilityExpression)])}clone(){let e=super.clone();return e.textFormat=this.textFormat.clone(),e}shouldSerializeTextFormat(){return!this.textFormat.is(vt)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}isDefault(){return super.isDefault()&&this.visibility==Zt.True&&null==this.visibilityExpression&&this.horAlignment==V.Left&&!this.shouldSerializeTextFormat()&&!this.shouldSerializeForeColor()}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*(e=397*e^this.horAlignment)^this.vertAlignment)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^this.visibility.stimulsoft().getHashCode())^this.height.stimulsoft().getHashCode(),null!=this.visibilityExpression&&(e=397*e^this.visibilityExpression.stimulsoft().getHashCode()),Math.abs(e)}}F.F.StiCardsColumn=sr}let ir=B.Base.Meters.IStiMeasureCardsColumn,sr=F.F.StiCardsColumn,nr=B.Base.Meters.IStiMeasureColumn;{class lr extends sr{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=F.e.StiMeterIdent.MeasureCardsColumn}implements(){return lr.ImplementsStiMeasureCardsColumn||(lr.ImplementsStiMeasureCardsColumn=super.implements().concat([at,nr,ir])),lr.ImplementsStiMeasureCardsColumn}get localizedName(){return c.get("Dashboard","Measure")}}F.F.StiMeasureCardsColumn=lr}let lr=F.F.StiMeasureCardsColumn,ar=B.Base.Drawing.StiColor,or=B.Base.Meters.IStiBubbleColumn;{class di extends lr{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c){super(e,t,r,i,s,n,l,a,o,u,c),this.ident=F.e.StiMeterIdent.BubbleCardsColumn,this.allowCustomColors=!1,this.positiveColor=ar.get("537eb6"),this.negativeColor=ar.get("ff0000"),this.horAlignment=V.Center,null!=h&&(this.allowCustomColors=h),null!=m&&(this.positiveColor=m),null!=d&&(this.negativeColor=d)}implements(){return di.ImplementsStiBubbleCardsColumn||(di.ImplementsStiBubbleCardsColumn=super.implements().concat([or,a])),di.ImplementsStiBubbleCardsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",V,V.Center),new h("AllowCustomColors"),new t("PositiveColor","",ar.get("537eb6")),new t("NegativeColor","",ar.get("ff0000"))])}getUniqueCode(){let e=super.getUniqueCode();return e=397*e^this.horAlignment.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&this.horAlignment==V.Center&&!this.allowCustomColors&&!this.shouldSerializePositiveColor()&&!this.shouldSerializeNegativeColor()}shouldSerializePositiveColor(){return!ar.get("537eb6").equals(this.positiveColor)}shouldSerializeNegativeColor(){return!ar.get("ff0000").equals(this.negativeColor)}get localizedName(){return c.get("Chart","Bubble")}}F.F.StiBubbleCardsColumn=di}F.F.StiCardsColumnVisibilityHelper=class{static getVisible(e,t){if(e.visibility==Zt.True)return!0;if(e.visibility==Zt.False)return!1;if(L.isNullOrWhiteSpace(e.visibilityExpression))return!1;let r=rt.parse2(e.visibilityExpression,t);return v.tryToBool(r)}};let ur=B.Base.Meters.IStiDimensionCardsColumn;{class Si extends sr{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=F.e.StiMeterIdent.DimensionCardsColumn}implements(){return Si.ImplementsStiDimensionCardsColumn||(Si.ImplementsStiDimensionCardsColumn=super.implements().concat([Te,ur])),Si.ImplementsStiDimensionCardsColumn}get localizedName(){return c.get("Dashboard","Dimension")}}F.F.StiDimensionCardsColumn=Si}let hr=B.Base.StiActivator,mr=(F.G.StiMeterLoader=class{static loadFromJson2(e){let t=new P;return e.forEach(e=>t.add(this.loadFromJson(e))),t.where(e=>null!=e)}static loadFromJson(r){let i=r.properties().firstOrDefault(e=>"Ident"==e.name);if(null!=i){let e=i.value.toString(),t=F.G.StiMeterCreator.neww(e);if(null!=t)return t.loadFromJsonObject(r),t}return null}static loadFromXml(r){let e=r.attributes.getNamedItem("type");if(null!=e){let t=r.attributes.getNamedItem("type").value;if(!L.isNullOrEmpty(t)){let e=hr.createObject2(t);if(null!=e)return e.loadFromXml(r),e}}return null}},B.Base.Meters.IStiArgumentMeter);{class ds extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.ArgumentChartMeter}implements(){return ds.ImplementsStiArgumentChartMeter||(ds.ImplementsStiArgumentChartMeter=super.implements().concat([mr])),ds.ImplementsStiArgumentChartMeter}get localizedName(){return c.get("PropertyMain","Argument")}}F.H.StiArgumentChartMeter=ds}let dr=B.Base.Meters.IStiValueMeter;{class Fi extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.KeyTreeViewBoxMeter}implements(){return Fi.ImplementsStiKeyTreeViewBoxMeter||(Fi.ImplementsStiKeyTreeViewBoxMeter=super.implements().concat([dr])),Fi.ImplementsStiKeyTreeViewBoxMeter}get localizedName(){return c.get("PropertyMain","Key")}}F.I.StiKeyTreeViewBoxMeter=Fi}{class Mi extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.KeyTreeViewMeter}implements(){return Mi.ImplementsStiKeyTreeViewMeter||(Mi.ImplementsStiKeyTreeViewMeter=super.implements().concat([dr])),Mi.ImplementsStiKeyTreeViewMeter}get localizedName(){return c.get("PropertyMain","Key")}}F.J.StiKeyTreeViewMeter=Mi}F.x.StiDashboardInteractionLoader=class{static loadInteractionFromJsonObject(e){let t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),r=F.x.StiDashboardInteractionCreator.new2(t);return r.loadFromJsonObject(e),r}static loadInteractionFromXml(r){let e=r.attributes.getNamedItem("type");if(null!=e){let t=r.attributes.getNamedItem("type").value;if(!L.isNullOrEmpty(t)){let e=hr.createObject2(t);if(null!=e)return e.loadFromXml(r),e}}return null}};let cr=B.Report.Dashboard.IStiDashboardInteraction,gr=B.Report.Dashboard.StiInteractionOnHover,pr=B.Report.Dashboard.StiInteractionOnClick,Sr=B.Report.Dashboard.StiInteractionOpenHyperlinkDestination,wr=B.Report.Dashboard.StiInteractionIdent,fr=B.Report.Dashboard.StiAvailableInteractionOnClick,Cr=B.Report.Dashboard.StiAvailableInteractionOnHover,yr=B.Report.Dashboard.StiAvailableInteractionOnDataManipulation;{class mc{constructor(e,t,r,i,s,n,l){this.availableOnClick=fr.All,this.availableOnHover=Cr.All,this.availableOnDataManipulation=yr.None,this.onHover=gr.ShowToolTip,this.onClick=pr.ApplyFilter,this.hyperlinkDestination=Sr.NewTab,this.toolTip="",this.hyperlink="",this.drillDownPageKey="",this.drillDownParameters=new P,null!=e&&(this.onHover=e),null!=t&&(this.onClick=t),null!=r&&(this.hyperlinkDestination=r),null!=i&&(this.toolTip=i),null!=s&&(this.hyperlink=s),null!=n&&(this.drillDownPageKey=n),null!=l&&(this.drillDownParameters=l)}implements(){return mc.ImplementsStiDashboardInteraction||(mc.ImplementsStiDashboardInteraction=[cr,a]),mc.ImplementsStiDashboardInteraction}is(e){if(e instanceof B.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(e=!0,t=!0){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new i("Ident","",wr),new i("OnHover","",gr),new i("OnClick","",pr),new i("HyperlinkDestination","",Sr),new l("ToolTip"),new l("DrillDownPageKey"),new l("Hyperlink"),new n("DrillDownParameters").get(e=>o.Serialize.objectArray(this.drillDownParameters,e)).set(e=>this.drillDownParameters.addRange(e.value.properties().select(e=>F.g.StiDashboardDrillDownParameter.loadFromJson(e.value)))).setXml(e=>this.drillDownParameters.addRange(e.childNodes.select(e=>F.g.StiDashboardDrillDownParameter.loadFromXml(e))))])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}isDefault(){return this.onHover==gr.ShowToolTip&&this.onClick==pr.ApplyFilter&&this.hyperlinkDestination==Sr.NewTab&&L.isNullOrEmpty(this.hyperlink)&&L.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&L.isNullOrEmpty(this.toolTip)}getDrillDownParameters(){return this.drillDownParameters.cast().toList()}setDrillDownParameters(e){this.drillDownParameters=new P,null!=e&&e.stimulsoft().toList().forEach(e=>{let t=new F.g.StiDashboardDrillDownParameter;t.name=e["name"],t.expression=e["expression"],this.drillDownParameters.add(t)})}shouldSerializeOnHover(){return this.onHover!=gr.ShowToolTip}shouldSerializeOnClick(){return this.onClick!=pr.ApplyFilter}}F.g.StiDashboardInteraction=mc}F.g.StiTableColumnDashboardInteraction=class extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(e,t,r,i,s,n,l),this.ident=wr.TableColumn,this.availableOnClick=fr.ApplyFilter|fr.ShowDashboard,this.onHover=gr.None,this.onClick=pr.None}isDefault(){return this.onHover==gr.None&&this.onClick==pr.None&&this.hyperlinkDestination==Sr.NewTab&&L.isNullOrEmpty(this.hyperlink)&&L.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&L.isNullOrEmpty(this.toolTip)}};let br=B.Base.Drawing.StiTableColumnVisibility,xr=B.Data.Engine.IStiDataFormat,Tr=B.Report.Components.TextFormats.StiTimeFormatService,Fr=B.Report.Components.TextFormats.StiDateFormatService,Mr=B.Report.Components.TextFormats.StiNumberFormatService,vr=B.Report.Components.TextFormats.StiCurrencyFormatService,Dr=B.Report.Components.TextFormats.StiPercentageFormatService,Ar=B.Report.Components.TextFormats.StiBooleanFormatService,Ir=B.Data.Engine.StiDataFormatKind,Rr=B.Base.StiSummaryColumnType,Er=B.Report.Dashboard.IStiElementInteraction,kr=F.x.StiDashboardInteractionLoader,Lr=F.g.StiTableColumnDashboardInteraction,Vr=B.Report.Components.ImplementsIStiTextFormat,Br=B.Base.Meters.IStiTableColumn;{class Qi extends F.e.StiMeter{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d){super(e,t,r),this.horAlignment=V.Left,this.textFormat=new vt,this.foreColor=N.transparent,this.dashboardInteraction=new Lr,this.visibility=br.True,this.visibilityExpression=null,this.showTotalSummary=!1,this.summaryType=Rr.Sum,this.summaryAlignment=V.Right,this.headerAlignment=V.Center,null!=i&&(this.horAlignment=i),null!=s&&(this.textFormat=s),null!=n&&(this.visibility=n),null!=l&&(this.visibilityExpression=l),null!=o&&(this.showTotalSummary=o),null!=h&&(this.summaryAlignment=h),null!=m&&(this.headerAlignment=m),null!=u&&(this.summaryType=u),null!=a&&(this.foreColor=a),null!=d&&(this.dashboardInteraction=d)}implements(){return Qi.ImplementsStiTableColumn||(Qi.ImplementsStiTableColumn=super.implements().concat([rr,tr,Br,xr,er,..._t,...Vr,...Qt,a,Er])),Qi.ImplementsStiTableColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",V,V.Left),new i("SummaryAlignment","",V,V.Right),new i("HeaderAlignment","",V,V.Center),new n("TextFormat").check(()=>!(this.textFormat.is(vt)||null==this.textFormat)).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>{let t=$t.loadFormatFromXml(e);null!=t&&(this.textFormat=t)}),new t("ForeColor","",N.transparent),new h("ShowTotalSummary"),new i("SummaryType","",Rr,Rr.Sum),new h("Visible","",!0).check(()=>!1),new i("Visibility","",br,br.True),new l("VisibilityExpression").check(()=>null!=this.visibilityExpression),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(Lr)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(Lr);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(Lr);null!=t&&(this.dashboardInteraction=t)})])}clone(){let e=super.clone();return e.textFormat=this.textFormat.clone(),e.dashboardInteraction=this.dashboardInteraction.clone(),e}shouldSerializeTextFormat(){return!this.textFormat.is(vt)}getDataFormat(){if(this.textFormat.is(Ar))return Ir.Boolean;if(this.textFormat.is(Dr))return Ir.Percentage;if(this.textFormat.is(vr))return Ir.Currency;if(this.textFormat.is(Mr))return Ir.Number;if(this.textFormat.is(Fr))return Ir.Date;if(this.textFormat.is(Tr))return Ir.Time;return Ir.General}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}isDefault(){return super.isDefault()&&this.visibility==br.True&&null==this.visibilityExpression&&!this.showTotalSummary&&this.summaryType==Rr.Sum&&this.horAlignment==V.Left&&this.summaryAlignment==V.Right&&this.headerAlignment==V.Center&&!this.shouldSerializeTextFormat()&&!this.shouldSerializeForeColor()&&!this.shouldSerializeDashboardInteraction()}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*(e=397*e^this.horAlignment)^this.summaryAlignment)^this.headerAlignment)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^this.visibility.stimulsoft().getHashCode(),null!=this.visibilityExpression&&(e=397*e^this.visibilityExpression.stimulsoft().getHashCode()),Math.abs(e)}get visible(){return this.visibility==br.True}set visible(e){this.visibility=e?br.True:br.False}}F.K.StiTableColumn=Qi}{class Li extends F.K.StiTableColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d){super(e,t,r,i,s,n,l,a,o,u,h,m,d),this.ident=F.e.StiMeterIdent.MeasureColumn}implements(){return Li.ImplementsStiMeasureColumn||(Li.ImplementsStiMeasureColumn=super.implements().concat([at,nr])),Li.ImplementsStiMeasureColumn}get localizedName(){return c.get("Dashboard","Indicator")}}F.K.StiMeasureColumn=Li}let Nr=B.Base.Meters.IStiIndicatorColumn;{class vi extends F.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=F.e.StiMeterIdent.IndicatorColumn}implements(){return vi.ImplementsStiIndicatorColumn||(vi.ImplementsStiIndicatorColumn=super.implements().concat([Nr])),vi.ImplementsStiIndicatorColumn}get localizedName(){return c.get("Dashboard","Dimension")}}F.K.StiIndicatorColumn=vi}let Pr=B.Base.Meters.IStiColorScaleColumn;{class Di extends F.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=F.e.StiMeterIdent.ColorScaleColumn,this.minimumColor=N.red,this.maximumColor=N.green,null!=m&&(this.minimumColor=m),null!=d&&(this.maximumColor=d)}implements(){return Di.ImplementsStiColorScaleColumn||(Di.ImplementsStiColorScaleColumn=super.implements().concat([Pr,a])),Di.ImplementsStiColorScaleColumn}meta(){return this._hash||(this._hash=[...super.meta(),new t("MinimumColor","",N.red),new t("MaximumColor","",N.green)])}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*e^this.minimumColor.stimulsoft().getHashCode())^this.maximumColor.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&!this.shouldSerializeMinimumColor()&&!this.shouldSerializeMaximumColor()}shouldSerializeMinimumColor(){return!N.red.equals(this.minimumColor)}shouldSerializeMaximumColor(){return!N.green.equals(this.maximumColor)}get localizedName(){return c.get("Dashboard","ColorScale")}}F.K.StiColorScaleColumn=Di}let Or=B.Base.Meters.IStiDataBarsColumn;{class Ai extends F.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=F.e.StiMeterIdent.DataBarsColumn}implements(){return Ai.ImplementsStiDataBarsColumn||(Ai.ImplementsStiDataBarsColumn=super.implements().concat([Or,a])),Ai.ImplementsStiDataBarsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",V,V.Center)])}getUniqueCode(){let e=super.getUniqueCode();return e=397*e^this.horAlignment,Math.abs(e)}get localizedName(){return c.get("Dashboard","DataBars")}}F.K.StiDataBarsColumn=Ai}let zr=B.Base.Meters.IStiSparklinesColumn;{class Ii extends F.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g,p,S){super(e,t,r,i,s,o,u,h,m,d,c),this.type=F.K.StiSparklinesType.Area,this.showHighLowPoints=!1,this.showFirstLastPoints=!0,this.allowCustomColors=!1,this.positiveColor=ar.get("537eb6"),this.negativeColor=ar.get("ff0000"),this.ident=F.e.StiMeterIdent.SparklinesColumn,null!=n&&(this.type=n),null!=l&&(this.showHighLowPoints=l),null!=a&&(this.showFirstLastPoints=a),null!=g&&(this.allowCustomColors=g),null!=p&&(this.positiveColor=p),null!=S&&(this.negativeColor=S)}implements(){return Ii.ImplementsStiSparklinesColumn||(Ii.ImplementsStiSparklinesColumn=super.implements().concat([zr,a])),Ii.ImplementsStiSparklinesColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("Type","",F.K.StiSparklinesType,F.K.StiSparklinesType.Area),new h("ShowHighLowPoints"),new h("ShowFirstLastPoints","",!0),new h("AllowCustomColors"),new t("PositiveColor","",ar.get("537eb6")),new t("NegativeColor","",ar.get("ff0000"))])}shouldSerializePositiveColor(){return!this.positiveColor.equals(ar.get("537eb6"))}shouldSerializeNegativeColor(){return!this.positiveColor.equals(ar.get("ff0000"))}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*(e=397*e^this.showHighLowPoints.stimulsoft().getHashCode())^this.showFirstLastPoints.stimulsoft().getHashCode())^this.allowCustomColors.stimulsoft().getHashCode())^this.positiveColor.stimulsoft().getHashCode())^this.negativeColor.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&this.type==F.K.StiSparklinesType.Area&&!this.showHighLowPoints&&this.showFirstLastPoints&&!this.allowCustomColors&&!this.shouldSerializePositiveColor()&&!this.shouldSerializeNegativeColor()}get localizedName(){return c.get("Dashboard","Sparklines")}}F.K.StiSparklinesColumn=Ii}{class fi extends F.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=F.e.StiMeterIdent.BubbleColumn,this.allowCustomColors=!1,this.positiveColor=ar.get("537eb6"),this.negativeColor=ar.get("ff0000"),this.horAlignment=V.Center,null!=m&&(this.allowCustomColors=m),null!=d&&(this.positiveColor=d),null!=c&&(this.negativeColor=c)}implements(){return fi.ImplementsStiBubbleColumn||(fi.ImplementsStiBubbleColumn=super.implements().concat([or,a])),fi.ImplementsStiBubbleColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",V,V.Center),new h("AllowCustomColors"),new t("PositiveColor","",ar.get("537eb6")),new t("NegativeColor","",ar.get("ff0000"))])}getUniqueCode(){let e=super.getUniqueCode();return e=397*e^this.horAlignment.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&this.horAlignment==V.Center&&!this.allowCustomColors&&!this.shouldSerializePositiveColor()&&!this.shouldSerializeNegativeColor()}shouldSerializePositiveColor(){return!ar.get("537eb6").equals(this.positiveColor)}shouldSerializeNegativeColor(){return!ar.get("ff0000").equals(this.negativeColor)}get localizedName(){return c.get("Chart","Bubble")}}F.K.StiBubbleColumn=fi}let Hr=B.System.Globalization.CultureInfo,Xr=(F.h.StiCultureHelper=class{static set(e){if(L.isNullOrWhiteSpace(e.culture))return null;let t=Hr.currentCulture;try{L.isNullOrEmpty(e.culture)||null==Hr.cultures[e.culture]||(Hr.currentCulture=Hr.cultures[e.culture])}catch(e){}return t}static restore(e){if(null==e)return;Hr.currentCulture=e}},B.Data.Functions.StiExtValueConverter),Gr=F.h.StiCultureHelper,jr=B.Report.Dictionary.StiDataColumn,Jr=B.Data.Helpers.StiMoneyNameHelper;{class Ei{static get defaultGeneralFormat(){return null==this._defaultGeneralFormat&&(this._defaultGeneralFormat=new vt),this._defaultGeneralFormat}static get defaultCurrencyFormat(){return null==this._defaultCurrencyFormat&&(this._defaultCurrencyFormat=new vr),this._defaultCurrencyFormat}static get defaultPercentageFormat(){return null==this._defaultPercentageFormat&&(this._defaultPercentageFormat=new Dr(1,1,null,null,0,null,100,null,null,null,null,B.Report.Components.StiTextFormatState.DecimalDigits|B.Report.Components.StiTextFormatState.GroupSize|B.Report.Components.StiTextFormatState.PositivePattern|B.Report.Components.StiTextFormatState.NegativePattern)),this._defaultPercentageFormat}static get defaultNumberFormat(){return null==this._defaultNumberFormat&&(this._defaultNumberFormat=new Mr),this._defaultNumberFormat}static get defaultIntegerFormat(){return null==this._defaultIntegerFormat&&(this._defaultIntegerFormat=new Mr(null,null,null,0,null,null,!1,!1)),this._defaultIntegerFormat}static get defaultDateFormat(){return null==this._defaultDateFormat&&(this._defaultDateFormat=new Fr),this._defaultDateFormat}static get defaultBooleanFormat(){return null==this._defaultBooleanFormat&&(this._defaultBooleanFormat=new Ar),this._defaultBooleanFormat}static formatBasedOnColumnType(e,t,r){return Ei.formatBasedOnColumnType2(e,t.textFormat,t,r)}static formatBasedOnColumnType2(e,t,r,i){var s,n;this.storedCulture=Gr.set(e.report);try{if(null==i)return"";if(null==r)return i.toString();if(Xr.isEligable(i,null==(s=null==e?void 0:e.report)?void 0:s.culture))return Xr.convert(i,null==(n=null==e?void 0:e.report)?void 0:n.culture);if(null==t||t.is(vt)){let e=fe.getType(i);if(fe.isDateType(e))return this.defaultDateFormat.format(i);if((fe.isNumericType(e)||fe.isIntegerType(e))&&Jr.isMoneyName(r.label))return this.defaultCurrencyFormat.format(i);if(fe.isIntegerType(e))return this.defaultIntegerFormat.format(i);if(fe.isNumericType(e))return this.defaultNumberFormat.format(i);if(e==Boolean)return this.defaultBooleanFormat.format(i)}return t.format(i)}catch(e){return i.toString()}finally{F.h.StiCultureHelper.restore(this.storedCulture)}}static format(e,t,r){this.storedCulture=Gr.set(e);try{if(null==r)return"";return null!=t?t.format(r):r.toString()}catch(e){return r.toString()}finally{F.h.StiCultureHelper.restore(this.storedCulture)}}static formatAsPercentage(e,t){this.storedCulture=Gr.set(e);try{if(null==t)return"";return this.defaultPercentageFormat.format(t)}catch(e){return t.toString()}finally{F.h.StiCultureHelper.restore(this.storedCulture)}}static formatAsPercentage2(e,t,r){this.storedCulture=Gr.set(e);try{if(null==r)return"";if(null==t||t.is(vt))return this.defaultPercentageFormat.format(r);return t.format(r)}catch(e){return r.toString()}finally{F.h.StiCultureHelper.restore(this.storedCulture)}}static getDefaultFormatForColumn(e){let t=F.h.StiMeterHelper.toDataType(e);if(null==t)return this.defaultGeneralFormat;if(fe.isNumericType(t)){if(Jr.isMoneyName(e.as(jr).nameInSource))return this.defaultCurrencyFormat;if(fe.isIntegerType(t))return this.defaultIntegerFormat;return this.defaultNumberFormat}if(fe.isDateType(t))return this.defaultDateFormat;if(t==Boolean)return this.defaultBooleanFormat;return this.defaultGeneralFormat}}F.h.StiTextFormatHelper=Ei}let Wr=B.Report.Dashboard.StiTableColumnSize,Ur=B.Report.Dashboard.IStiTableColumnSize,Kr=B.Base.Meters.IStiDimensionColumn;{class ki extends F.K.StiTableColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g){super(e,t,r,i,s,n,l,o,m,d,c),this.ident=F.e.StiMeterIdent.DimensionColumn,this.showHyperlink=!1,this.hyperlinkPattern="",this.size=new Wr,null!=u&&(this.showHyperlink=u),null!=h&&(this.hyperlinkPattern=h),null!=g&&(this.size=g)}implements(){return ki.ImplementsStiDimensionColumn||(ki.ImplementsStiDimensionColumn=super.implements().concat([Te,Kr,Ur])),ki.ImplementsStiDimensionColumn}meta(){return this._hash||(this._hash=[...super.meta(),new h("ShowHyperlink"),new l("HyperlinkPattern"),new n("Size").check(()=>null!=this.size).set(e=>this.size=Wr.createFromJsonObject(e.value)).setXml(e=>this.size=Wr.createFromXml(e))])}clone(){var e;let t=super.clone();return t.size=null==(e=this.size)?void 0:e.clone(),t}get localizedName(){return c.get("Dashboard","Dimension")}shouldSerializeSize(){return null==this.size||!this.size.isDefault()}checkRules(){var e;null!=(e=this.size)&&e.checkRules()}isDefault(){return super.isDefault()&&!this.showHyperlink&&L.isNullOrEmpty(this.hyperlinkPattern)&&null!=this.size&&this.size.isDefault()}}F.K.StiDimensionColumn=ki}let qr=B.Base.Meters.IStiColorMapMeter;{class Vi extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.ColorMapMeter}implements(){return Vi.ImplementsStiColorMapMeter||(Vi.ImplementsStiColorMapMeter=super.implements().concat([qr])),Vi.ImplementsStiColorMapMeter}get localizedName(){return c.get("PropertyMain","Color")}}F.L.StiColorMapMeter=Vi}let Yr=B.Base.Meters.IStiValueMapMeter;{class Bi extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.ValueMapMeter}implements(){return Bi.ImplementsStiValueMapMeter||(Bi.ImplementsStiValueMapMeter=super.implements().concat([Yr])),Bi.ImplementsStiValueMapMeter}get localizedName(){return c.get("PropertyMain","Value")}}F.L.StiValueMapMeter=Bi}let Zr=B.Base.Meters.IStiGroupMapMeter;{class Ni extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.GroupMapMeter}implements(){return Ni.ImplementsStiGroupMapMeter||(Ni.ImplementsStiGroupMapMeter=super.implements().concat([Zr])),Ni.ImplementsStiGroupMapMeter}get localizedName(){return c.get("PropertyMain","Group")}}F.L.StiGroupMapMeter=Ni}let Qr=B.Base.Meters.IStiNameMapMeter;{class Pi extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.NameMapMeter}implements(){return Pi.ImplementsStiNameMapMeter||(Pi.ImplementsStiNameMapMeter=super.implements().concat([Qr])),Pi.ImplementsStiNameMapMeter}get localizedName(){return c.get("PropertyMain","Name")}}F.L.StiNameMapMeter=Pi}let _r=B.Base.Meters.IStiKeyMapMeter;{class Oi extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.KeyMapMeter}implements(){return Oi.ImplementsStiKeyMapMeter||(Oi.ImplementsStiKeyMapMeter=super.implements().concat([_r])),Oi.ImplementsStiKeyMapMeter}get localizedName(){return c.get("PropertyMain","Key")}}F.L.StiKeyMapMeter=Oi}{class zi extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.ValueProgressMeter}implements(){return zi.ImplementsStiValueProgressMeter||(zi.ImplementsStiValueProgressMeter=super.implements().concat([dr])),zi.ImplementsStiValueProgressMeter}get localizedName(){return c.get("PropertyMain","Value")}}F.M.StiValueProgressMeter=zi}{class Hi extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.TargetProgressMeter}implements(){return Hi.ImplementsStiValueProgressMeter||(Hi.ImplementsStiValueProgressMeter=super.implements().concat([dr])),Hi.ImplementsStiValueProgressMeter}get localizedName(){return c.get("PropertyMain","Target")}}F.M.StiTargetProgressMeter=Hi}{class Xi extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.SeriesProgressMeter}implements(){return Xi.ImplementsStiSeriesProgressMeter||(Xi.ImplementsStiSeriesProgressMeter=super.implements().concat([dr])),Xi.ImplementsStiSeriesProgressMeter}get localizedName(){return c.get("PropertyMain","Series")}}F.M.StiSeriesProgressMeter=Xi}let $r=B.Report.CrossTab.Core.StiSortDirection,ei=B.Report.Dashboard.IStiMeterRules,ti=B.Report.Dashboard.ImplementsIStiTableColumnSize,ri=B.Base.Meters.IStiPivotColumn,ii=B.Data.Engine.IStiDataTopN,si=B.Data.Engine.StiDataTopN;{class Gi extends F.e.StiMeter{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r),this.horAlignment=V.Center,this.showTotal=!0,this.totalLabel="",this.textFormat=new vt,this.size=new Wr,this.expandExpression="",this.topN=new si,this.sortDirection=$r.Asc,this.ident=F.e.StiMeterIdent.PivotColumn,null!=i&&(this.horAlignment=i),null!=s&&(this.textFormat=s),null!=n&&(this.topN=n),null!=o&&(this.size=o),null!=l&&(this.showTotal=l),null!=a&&(this.totalLabel=a),null!=u&&(this.sortDirection=u),null!=h&&(this.expandExpression=h)}implements(){return Gi.ImplementsStiPivotColumn||(Gi.ImplementsStiPivotColumn=super.implements().concat([Te,rr,tr,Ur,ri,ii,ei,..._t,...Vr,...ti,a])),Gi.ImplementsStiPivotColumn}clone(){var e;let t=super.clone();return t.textFormat=this.textFormat.clone(),t.topN=this.topN.clone(),t.size=null==(e=this.size)?void 0:e.clone(),t.horAlignment=this.horAlignment,t.showTotal=this.showTotal,t.totalLabel=this.totalLabel,t.sortDirection=this.sortDirection,t.expandExpression=this.expandExpression,t}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",V,V.Center),new h("ShowTotal","",!0),new l("TotalLabel"),new n("TextFormat").check(()=>!(this.textFormat.is(vt)||null==this.textFormat)).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e)),new n("TopN").check(()=>null!=this.topN).set(e=>this.topN=si.createFromJsonObject(e.value)).setXml(e=>this.topN=si.createFromXml(e)),new n("Size").check(()=>null!=this.size).set(e=>this.size=Wr.createFromJsonObject(e.value)).setXml(e=>this.size=Wr.createFromXml(e)),new i("SortDirection","",$r,$r.Asc),new l("ExpandExpression")])}checkRules(){var e;null!=(e=this.size)&&e.checkRules()}shouldSerializeTextFormat(){return!this.textFormat.is(vt)}shouldSerializeSize(){return null==this.size||!this.size.isDefault()}get strSortDirection(){return``+ue.getName($r,this.sortDirection)+(this.sortDirection!=$r.None?"ending":"")}set strSortDirection(e){this.sortDirection=ue.parse($r,e.replace("ending",""))}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*(e=397*(e=397*(e=397*(e=397*e^this.horAlignment)^this.sortDirection)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^(null!=this.topN?this.topN.stimulsoft().getHashCode():0))^(null!=this.size?this.size.stimulsoft().getHashCode():0))^(null!=this.showTotal?this.showTotal.stimulsoft().getHashCode():0))^(null!=this.totalLabel?this.totalLabel.stimulsoft().getHashCode():0))^(null!=this.expandExpression?this.expandExpression.stimulsoft().getHashCode():0),Math.abs(e)}get localizedName(){return c.get("Components","StiPivotColumn")}}F.N.StiPivotColumn=Gi}let ni=B.Base.Meters.IStiPivotRow;{class ji extends F.e.StiMeter{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r),this.horAlignment=V.Center,this.showTotal=!0,this.totalLabel="",this.textFormat=new vt,this.size=new Wr,this.expandExpression="",this.topN=new si,this.sortDirection=$r.Asc,this.ident=F.e.StiMeterIdent.PivotRow,null!=i&&(this.horAlignment=i),null!=s&&(this.textFormat=s),null!=n&&(this.topN=n),null!=o&&(this.size=o),null!=l&&(this.showTotal=l),null!=a&&(this.totalLabel=a),null!=u&&(this.sortDirection=u),null!=h&&(this.expandExpression=h)}implements(){return ji.ImplementsStiPivotRow||(ji.ImplementsStiPivotRow=super.implements().concat([Te,rr,tr,Ur,ni,ii,ei,..._t,...Vr,...ti,a])),ji.ImplementsStiPivotRow}clone(){var e;let t=super.clone();return t.textFormat=this.textFormat.clone(),t.topN=this.topN.clone(),t.size=null==(e=this.size)?void 0:e.clone(),t.horAlignment=this.horAlignment,t.showTotal=this.showTotal,t.totalLabel=this.totalLabel,t.sortDirection=this.sortDirection,t.expandExpression=this.expandExpression,t}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",V,V.Center),new h("ShowTotal","",!0),new l("TotalLabel"),new n("TextFormat").check(()=>!(this.textFormat.is(vt)||null==this.textFormat)).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e)),new n("TopN").check(()=>null!=this.topN).set(e=>this.topN=si.createFromJsonObject(e.value)).setXml(e=>this.topN=si.createFromXml(e)),new n("Size").check(()=>null!=this.size).set(e=>this.size=Wr.createFromJsonObject(e.value)).setXml(e=>this.size=Wr.createFromXml(e)),new i("SortDirection","",$r,$r.Asc),new l("ExpandExpression")])}checkRules(){var e;null!=(e=this.size)&&e.checkRules()}shouldSerializeTextFormat(){return!this.textFormat.is(vt)}shouldSerializeSize(){return null==this.size||!this.size.isDefault()}get strSortDirection(){return``+ue.getName($r,this.sortDirection)+(this.sortDirection!=$r.None?"ending":"")}set strSortDirection(e){this.sortDirection=ue.parse($r,e.replace("ending",""))}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*(e=397*(e=397*(e=397*(e=397*e^this.horAlignment)^this.sortDirection)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^(null!=this.topN?this.topN.stimulsoft().getHashCode():0))^(null!=this.size?this.size.stimulsoft().getHashCode():0))^(null!=this.showTotal?this.showTotal.stimulsoft().getHashCode():0))^(null!=this.totalLabel?this.totalLabel.stimulsoft().getHashCode():0))^(null!=this.expandExpression?this.expandExpression.stimulsoft().getHashCode():0),Math.abs(e)}get localizedName(){return c.get("Components","StiPivotRow")}}F.N.StiPivotRow=ji}let li=B.Base.Meters.IStiPivotSummary;{class Ji extends F.e.StiMeasureMeter{constructor(e,t,r,i,s,n,l){super(e,t,r),this.horAlignment=V.Center,this.textFormat=new vt,this.size=new Wr,this.hideZeros=!0,this.ident=F.e.StiMeterIdent.PivotSummary,null!=i&&(this.horAlignment=i),null!=s&&(this.textFormat=s),null!=n&&(this.size=n),null!=l&&(this.hideZeros=l)}implements(){return Ji.ImplementsStiPivotSummary||(Ji.ImplementsStiPivotSummary=super.implements().concat([rr,tr,Ur,li,ei,..._t,...Vr,...ti,a])),Ji.ImplementsStiPivotSummary}clone(){var e;let t=super.clone();return t.textFormat=this.textFormat.clone(),t.size=null==(e=this.size)?void 0:e.clone(),t.hideZeros=this.hideZeros,t.horAlignment=this.horAlignment,t}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",V,V.Center),new n("TextFormat").check(()=>!(this.textFormat.is(vt)||null==this.textFormat)).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e)),new n("Size").check(()=>null!=this.size).set(e=>this.size=Wr.createFromJsonObject(e.value)).setXml(e=>this.size=Wr.createFromXml(e)),new h("HideZeros","",!0)])}checkRules(){var e;null!=(e=this.size)&&e.checkRules()}shouldSerializeTextFormat(){return!this.textFormat.is(vt)}shouldSerializeSize(){return null==this.size||!this.size.isDefault()}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*e^this.horAlignment)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^(null!=this.size?this.size.stimulsoft().getHashCode():0))^(null!=this.hideZeros?this.hideZeros.stimulsoft().getHashCode():0),Math.abs(e)}get localizedName(){return c.get("Components","StiPivotSummary")}}F.N.StiPivotSummary=Ji}F.O.StiLatitudeMapMeter=class extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.LatitudeMapMeter}get localizedName(){return c.get("PropertyMain","Latitude")}},F.O.StiLongitudeMapMeter=class extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.LongitudeMapMeter}get localizedName(){return c.get("PropertyMain","Longitude")}};{class Ki extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.KeyListBoxMeter}implements(){return Ki.ImplementsStiKeyListBoxMeter||(Ki.ImplementsStiKeyListBoxMeter=super.implements().concat([dr])),Ki.ImplementsStiKeyListBoxMeter}get localizedName(){return c.get("PropertyMain","Key")}}F.P.StiKeyListBoxMeter=Ki}{class qi extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.NameListBoxMeter}implements(){return qi.ImplementsStiNameListBoxMeter||(qi.ImplementsStiNameListBoxMeter=super.implements().concat([mr])),qi.ImplementsStiNameListBoxMeter}get localizedName(){return c.get("PropertyMain","Name")}}F.P.StiNameListBoxMeter=qi}{class Yi extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.ValueDatePickerMeter}implements(){return Yi.ImplementsStiValueDatePickerMeter||(Yi.ImplementsStiValueDatePickerMeter=super.implements().concat([dr])),Yi.ImplementsStiValueDatePickerMeter}get localizedName(){return c.get("PropertyMain","Value")}}F.Q.StiValueDatePickerMeter=Yi}F.H.StiEndValueChartMeter=class extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.EndValueChartMeter}get localizedName(){return c.get("PropertyMain","ValueEnd")}};{class _i extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.NameComboBoxMeter}implements(){return _i.ImplementsStiNameComboBoxMeter||(_i.ImplementsStiNameComboBoxMeter=super.implements().concat([mr])),_i.ImplementsStiNameComboBoxMeter}get localizedName(){return c.get("PropertyMain","Name")}}F.R.StiNameComboBoxMeter=_i}{class $i extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.KeyComboBoxMeter}implements(){return $i.ImplementsStiKeyComboBoxMeter||($i.ImplementsStiKeyComboBoxMeter=super.implements().concat([dr])),$i.ImplementsStiKeyComboBoxMeter}get localizedName(){return c.get("PropertyMain","Key")}}F.R.StiKeyComboBoxMeter=$i}let ai=B.Base.Meters.IStiSeriesMeter;{class es extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.SeriesGaugeMeter}implements(){return es.ImplementsStiSeriesGaugeMeter||(es.ImplementsStiSeriesGaugeMeter=super.implements().concat([ai])),es.ImplementsStiSeriesGaugeMeter}get localizedName(){return c.get("PropertyMain","Series")}}F.S.StiSeriesGaugeMeter=es}{class ts extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.ValueGaugeMeter}implements(){return ts.ImplementsStiValueGaugeMeter||(ts.ImplementsStiValueGaugeMeter=super.implements().concat([dr])),ts.ImplementsStiValueGaugeMeter}get localizedName(){return c.get("PropertyMain","Value")}}F.S.StiValueGaugeMeter=ts}let oi=B.Base.Meters.IStiTargetMeter;{class rs extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.TargetGaugeMeter}implements(){return rs.ImplementsStiTargetGaugeMeter||(rs.ImplementsStiTargetGaugeMeter=super.implements().concat([oi])),rs.ImplementsStiTargetGaugeMeter}get localizedName(){return c.get("PropertyMain","Target")}}F.S.StiTargetGaugeMeter=rs}{class is extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.SeriesIndicatorMeter}implements(){return is.ImplementsStiSeriesIndicatorMeter||(is.ImplementsStiSeriesIndicatorMeter=super.implements().concat([ai])),is.ImplementsStiSeriesIndicatorMeter}get localizedName(){return c.get("PropertyMain","Series")}}F.T.StiSeriesIndicatorMeter=is}{class ss extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.ValueIndicatorMeter}implements(){return ss.ImplementsStiValueIndicatorMeter||(ss.ImplementsStiValueIndicatorMeter=super.implements().concat([dr])),ss.ImplementsStiValueIndicatorMeter}get localizedName(){return c.get("PropertyMain","Value")}}F.T.StiValueIndicatorMeter=ss}{class ns extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.TargetIndicatorMeter}implements(){return ns.ImplementsStiTargetIndicatorMeter||(ns.ImplementsStiTargetIndicatorMeter=super.implements().concat([oi])),ns.ImplementsStiTargetIndicatorMeter}get localizedName(){return c.get("PropertyMain","Target")}}F.T.StiTargetIndicatorMeter=ns}F.H.StiWeightChartMeter=class extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.WeightChartMeter}get localizedName(){return c.get("PropertyMain","Weight")}};let d=B.Report.Dashboard.StiChartSeriesType,ui=B.Base.Drawing.StiPenStyle,hi=B.Report.Chart.StiSeriesYAxis;{class cs extends F.e.StiMeasureMeter{constructor(e,t,r,i,s,n,l,a,o){super(e,t,r),this.seriesType=d.ClusteredColumn,this.yAxis=hi.LeftYAxis,this.lineStyle=ui.Solid,this.lineWidth=2,this.showZeros=tt.Zero,this.showNulls=tt.Zero,this.ident=F.e.StiMeterIdent.ValueChartMeter,null!=i&&(this.seriesType=i),null!=s&&(this.yAxis=s),null!=n&&(this.lineStyle=n),null!=l&&(this.lineWidth=l),null!=o&&(this.showNulls=o),null!=a&&(this.showZeros=a)}implements(){return cs.ImplementsStiValueChartMeter||(cs.ImplementsStiValueChartMeter=super.implements().concat([dr,a])),cs.ImplementsStiValueChartMeter}meta(){return this._hash||(this._hash=[...super.meta(),new i("SeriesType","",d,d.ClusteredColumn),new i("YAxis","",hi,hi.LeftYAxis),new i("LineStyle","",ui,ui.Solid),new T("LineWidth","",2),new i("ShowZeros","",tt,tt.Zero),new i("ShowNulls","",tt,tt.Zero)])}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*(e=397*(e=397*e^this.seriesType)^this.yAxis)^this.lineStyle)^this.lineWidth)^this.showNulls)^this.showZeros,Math.abs(e)}get localizedName(){return c.get("PropertyMain","Value")}}F.H.StiValueChartMeter=cs}F.H.StiOpenValueChartMeter=class extends F.H.StiValueChartMeter{constructor(e,t,r,i){super(e,t,r,i),this.ident=F.e.StiMeterIdent.OpenValueChartMeter,this.seriesType=d.Candlestick,null!=i&&(this.seriesType=i)}get localizedName(){return c.get("PropertyMain","ValueOpen")}},F.H.StiCloseValueChartMeter=class extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.CloseValueChartMeter}get localizedName(){return c.get("PropertyMain","ValueClose")}},F.H.StiLowValueChartMeter=class extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.LowValueChartMeter}get localizedName(){return c.get("PropertyMain","ValueLow")}},F.H.StiHighValueChartMeter=class extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.HighValueChartMeter}get localizedName(){return c.get("PropertyMain","ValueHigh")}};{class gs extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.SeriesChartMeter}implements(){return gs.ImplementsStiSeriesChartMeter||(gs.ImplementsStiSeriesChartMeter=super.implements().concat([ai])),gs.ImplementsStiSeriesChartMeter}get localizedName(){return c.get("PropertyMain","Series")}}F.H.StiSeriesChartMeter=gs}F.O.StiLocationMapMeter=class extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.LocationMapMeter}get localizedName(){return c.get("PropertyMain","Location")}},F.O.StiLocationColorMapMeter=class extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.LocationColorMapMeter}get localizedName(){return c.get("PropertyMain","Group")}},F.O.StiLocationValueMapMeter=class extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.LocationValueMapMeter}get localizedName(){return c.get("PropertyMain","Value")}},F.O.StiLocationArgumentMapMeter=class extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.LocationArgumentMapMeter}get localizedName(){return c.get("PropertyMain","Argument")}};{class mi extends F.F.StiMeasureCardsColumn{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=F.e.StiMeterIdent.IndicatorCardsColumn}implements(){return mi.ImplementsStiIndicatorCardsColumn||(mi.ImplementsStiIndicatorCardsColumn=super.implements().concat([Nr])),mi.ImplementsStiIndicatorCardsColumn}get localizedName(){return c.get("Dashboard","Dimension")}}F.F.StiIndicatorCardsColumn=mi}{class ci extends F.F.StiMeasureCardsColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d){super(e,t,r,i,s,n,l,a,o,u,d),this.ident=F.e.StiMeterIdent.ColorScaleCardsColumn,this.minimumColor=N.red,this.maximumColor=N.green,null!=h&&(this.minimumColor=h),null!=m&&(this.maximumColor=m)}implements(){return ci.ImplementsStiColorScaleCardsColumn||(ci.ImplementsStiColorScaleCardsColumn=super.implements().concat([Pr,a])),ci.ImplementsStiColorScaleCardsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new t("MinimumColor","",N.red),new t("MaximumColor","",N.green)])}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*e^this.minimumColor.stimulsoft().getHashCode())^this.maximumColor.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&!this.shouldSerializeMinimumColor()&&!this.shouldSerializeMaximumColor()}shouldSerializeMinimumColor(){return!N.red.equals(this.minimumColor)}shouldSerializeMaximumColor(){return!N.green.equals(this.maximumColor)}get localizedName(){return c.get("Dashboard","ColorScale")}}F.F.StiColorScaleCardsColumn=ci}{class gi extends F.F.StiMeasureCardsColumn{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=F.e.StiMeterIdent.DataBarsCardsColumn}implements(){return gi.ImplementsStiDataBarsCardsColumnn||(gi.ImplementsStiDataBarsCardsColumnn=super.implements().concat([Or,a])),gi.ImplementsStiDataBarsCardsColumnn}get localizedName(){return c.get("Dashboard","DataBars")}}F.F.StiDataBarsCardsColumn=gi}{class pi extends F.F.StiMeasureCardsColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g,p,S){super(e,t,r,i,s,n,l,h,m,d,S),this.type=F.K.StiSparklinesType.Area,this.showHighLowPoints=!1,this.showFirstLastPoints=!0,this.allowCustomColors=!1,this.positiveColor=ar.get("537eb6"),this.negativeColor=ar.get("ff0000"),this.height=0,this.ident=F.e.StiMeterIdent.SparklinesCardsColumn,null!=a&&(this.type=a),null!=o&&(this.showHighLowPoints=o),null!=u&&(this.showFirstLastPoints=u),null!=c&&(this.allowCustomColors=c),null!=g&&(this.positiveColor=g),null!=p&&(this.negativeColor=p)}implements(){return pi.ImplementsStiSparklinesCardsColumn||(pi.ImplementsStiSparklinesCardsColumn=super.implements().concat([zr,a])),pi.ImplementsStiSparklinesCardsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("Type","",F.K.StiSparklinesType,F.K.StiSparklinesType.Area),new h("ShowHighLowPoints"),new h("ShowFirstLastPoints","",!0),new h("AllowCustomColors"),new T("Height"),new t("PositiveColor","",ar.get("537eb6")),new t("NegativeColor","",ar.get("ff0000"))])}shouldSerializePositiveColor(){return!this.positiveColor.equals(ar.get("537eb6"))}shouldSerializeNegativeColor(){return!this.positiveColor.equals(ar.get("ff0000"))}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*(e=397*e^this.showHighLowPoints.stimulsoft().getHashCode())^this.showFirstLastPoints.stimulsoft().getHashCode())^this.allowCustomColors.stimulsoft().getHashCode())^this.positiveColor.stimulsoft().getHashCode())^this.negativeColor.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&this.type==F.K.StiSparklinesType.Area&&!this.showHighLowPoints&&this.showFirstLastPoints&&!this.allowCustomColors&&!this.shouldSerializePositiveColor()&&!this.shouldSerializeNegativeColor()}get localizedName(){return c.get("Dashboard","Sparklines")}}F.F.StiSparklinesCardsColumn=pi}let mi=F.F.StiIndicatorCardsColumn,di=F.F.StiBubbleCardsColumn,ci=F.F.StiColorScaleCardsColumn,gi=F.F.StiDataBarsCardsColumn,pi=F.F.StiSparklinesCardsColumn,Si=F.F.StiDimensionCardsColumn,wi=B.Report.Dictionary.StiDataColumnExt,fi=F.K.StiBubbleColumn,Ci=F.O.StiLocationArgumentMapMeter,yi=F.O.StiLocationMapMeter,bi=F.O.StiLocationColorMapMeter,xi=F.O.StiLocationValueMapMeter,Ti=B.Data.Engine.StiDataFilterCondition,Fi=F.I.StiKeyTreeViewBoxMeter,Mi=F.J.StiKeyTreeViewMeter,vi=F.K.StiIndicatorColumn,Di=F.K.StiColorScaleColumn,Ai=F.K.StiDataBarsColumn,Ii=F.K.StiSparklinesColumn,Ri=B.Data.Functions.Funcs,Ei=F.h.StiTextFormatHelper,ki=F.K.StiDimensionColumn,Li=F.K.StiMeasureColumn,Vi=F.L.StiColorMapMeter,Bi=F.L.StiValueMapMeter,Ni=F.L.StiGroupMapMeter,Pi=F.L.StiNameMapMeter,Oi=F.L.StiKeyMapMeter,zi=F.M.StiValueProgressMeter,Hi=F.M.StiTargetProgressMeter,Xi=F.M.StiSeriesProgressMeter,Gi=F.N.StiPivotColumn,ji=F.N.StiPivotRow,Ji=F.N.StiPivotSummary,Wi=F.O.StiLatitudeMapMeter,Ui=F.O.StiLongitudeMapMeter,Ki=F.P.StiKeyListBoxMeter,qi=F.P.StiNameListBoxMeter,Yi=F.Q.StiValueDatePickerMeter,Zi=B.Data.Engine.StiDataExpressionHelper,Qi=F.K.StiTableColumn,w=B.System.DateTime,p=B.Data.Engine.StiDataFilterRule,_i=F.R.StiNameComboBoxMeter,$i=F.R.StiKeyComboBoxMeter,es=F.S.StiSeriesGaugeMeter,ts=F.S.StiValueGaugeMeter,rs=F.S.StiTargetGaugeMeter,is=F.T.StiSeriesIndicatorMeter,ss=F.T.StiValueIndicatorMeter,ns=F.T.StiTargetIndicatorMeter,ls=B.Data.Helpers.StiExpressionHelper,as=F.H.StiWeightChartMeter,os=F.H.StiOpenValueChartMeter,us=F.H.StiCloseValueChartMeter,hs=F.H.StiLowValueChartMeter,ms=F.H.StiHighValueChartMeter,ds=F.H.StiArgumentChartMeter,cs=F.H.StiValueChartMeter,gs=F.H.StiSeriesChartMeter,ps=F.H.StiEndValueChartMeter,Ss=B.Base.IStiAppAlias,ws=B.Report.Dictionary.StiVariable;{class dc{static getValue(e){if(e.is(cs))return e;let t=new cs;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getGanttStartValue(e){let t=new cs;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t.seriesType=d.Gantt,t}static getGanttEndValue(e){let t=new ps;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getEndValue(e){if(e.is2(ps))return e;let t=new ps;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getOpenValue(e){if(e.is(os))return e;let t=new os;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getCloseValue(e){if(e.is2(us))return e;let t=new us;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getLowValue(e){if(e.is2(hs))return e;let t=new hs;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getHighValue(e){if(e.is2(ms))return e;let t=new ms;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getValue2(e,t){let r=new cs;return r.expression=S.toTotalExpression2(e),r.seriesType=null!=t.values&&0<t.values.length?t.values.firstOrDefault().seriesType:d.ClusteredColumn,r.label=S.toAlias(e),r}static getEndValue2(e){let t=new ps;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getCloseValue2(e){let t=new us;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getLowValue2(e){let t=new hs;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getHighValue2(e){let t=new ms;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getWeight(e){if(e.is2(as))return e;let t=new as;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getWeight2(e){let t=new as;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getArgument(e){if(e.is2(ds))return e;let t=new ds;return t.expression=ls.removeFunction(e.expression),t.label=e.label,t}static getArgument2(e){let t=new ds;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getX2(e){let t=new ds;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getX(e){if(e.is2(ds))return e;let t=new ds;return t.expression=ls.removeFunction(e.expression),t.label=e.label,t}static getY2(e){let t=new cs;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getY(e){if(e.is(cs))return e;let t=new cs;return t.expression=ls.removeFunction(e.expression),t.label=e.label,t}static getSeries(e){if(e.is2(gs))return e;let t=new gs;return t.expression=ls.removeFunction(e.expression),t.label=e.label,t}static getSeries2(e){let t=new gs;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}}F.h.Chart=dc;class cc{static getName(e){if(e.is2(_i))return e;let t=new _i;return t.expression=e.expression,t.label=e.label,t}static getName2(e){let t=new _i;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getKey(e){if(e.is2($i))return e;let t=new $i;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new $i;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}}F.h.ComboBox=cc;class gc{static getFilter2(e){let t="",r=(null!=e&&null!=e.type&&(fe.isDateType(e.type)?t=w.now.toString("MM/dd/yyyy"):fe.isNumericType(e.type)&&(t="0")),new p);return r.key=Q.generateKey(),r.condition=Ti.EqualTo,r.path=S.toExpression(e),r.value=t,r.value2=t,r}static getFilter(e,t){let r=Zi.getDataColumnFromExpression(t.page.as(F.e.StiDashboard),e.expression),i="",s=(null!=r&&null!=r.getDataType()&&(fe.isDateType(r.getDataType())?i=w.now.toString("MM/dd/yyyy"):fe.isNumericType(r.getDataType())&&(i="0")),new p);return s.key=Q.generateKey(),s.condition=Ti.EqualTo,s.path=ls.removeFunction(e.expression),s.value=i,s.value2=i,s}}F.h.DataFilter=gc;class pc{static getValue(e){if(e.is2(Yi))return e;let t=new Yi;return t.expression=e.expression,t.label=e.label,t}static getValue2(e){let t=new Yi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}}F.h.DatePicker=pc;class Sc{static getSeries(e){if(e.is2(es))return e;let t=new es;return t.expression=ls.removeFunction(e.expression),t.label=e.label,t}static getSeries2(e){let t=new es;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getValue(e){if(e.is2(ts))return e;let t=new ts;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getValue2(e){let t=new ts;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getTarget(e){if(e.is2(rs))return e;let t=new rs;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getTarget2(e){let t=new rs;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}}F.h.Gauge=Sc;class wc{static getSeries(e){if(e.is2(is))return e;let t=new is;return t.expression=ls.removeFunction(e.expression),t.label=e.label,t}static getSeries2(e){let t=new is;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getValue(e){if(e.is2(ss))return e;let t=new ss;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getValue2(e){let t=new ss;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getTarget(e){if(e.is2(ns))return e;let t=new ns;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getTarget2(e){let t=new ns;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}}F.h.Indicator=wc;class fc{static getName(e){if(e.is2(qi))return e;let t=new qi;return t.expression=e.expression,t.label=e.label,t}static getName2(e){let t=new qi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getKey(e){if(e.is2(Ki))return e;let t=new Ki;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new Ki;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}}F.h.ListBox=fc;class Cc{static getLatitude(e){if(e.is2(Wi))return e;let t=new Wi;return t.expression=e.expression,t.label=e.label,t}static getLongitude(e){if(e.is2(Ui))return e;let t=new Ui;return t.expression=e.expression,t.label=e.label,t}static getLocation(e){if(e.is2(yi))return e;return new yi(null,e.expression,e.label)}static getLocationColor(e){if(e.is2(bi))return e;return new bi(null,e.expression,e.label)}static getLocationValue(e){if(e.is2(xi))return e;return new xi(null,e.expression,e.label)}static getLocationArgument(e){if(e.is2(Ci))return e;return new Ci(null,e.expression,e.label)}static getLatitude2(e){let t=new Wi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getLongitude2(e){let t=new Ui;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getLocation2(e){return new yi(null,S.toExpression(e),S.toAlias(e))}static getLocationColor2(e){return new bi(null,S.toExpression(e),S.toAlias(e))}static getLocationValue2(e){return new xi(null,S.toExpression(e),S.toAlias(e))}static getLocationArgument2(e){return new Ci(null,S.toExpression(e),S.toAlias(e))}}F.h.OnlineMap=Cc;class yc{static getColumn(e){if(e.is(Gi))return e;let t=new Gi;return t.expression=e.expression,t.label=e.label,t.textFormat=this.getFormat(e),t.topN=this.getTopN(e),t.horAlignment=e.is(rr)?e.as(rr).horAlignment:V.Center,t.size=e.is(Ur)?e.size:new Wr,t.totalLabel=this.getTotalLabel(e),t.showTotal=this.getShowTotal(e),t.sortDirection=this.getSortDirection(e),t.expandExpression=this.getExpandExpression(e),t}static getRow(e){if(e.is(ji))return e;let t=new ji;return t.expression=e.expression,t.label=e.label,t.textFormat=this.getFormat(e),t.topN=this.getTopN(e),t.horAlignment=e.is(rr)?e.as(rr).horAlignment:V.Center,t.size=e.is(Ur)?e.size:new Wr,t.totalLabel=this.getTotalLabel(e),t.showTotal=this.getShowTotal(e),t.sortDirection=this.getSortDirection(e),t.expandExpression=this.getExpandExpression(e),t}static getShowTotal(e){return e.is(ni)?e.as(ni).showTotal:!e.is(ri)||e.as(ri).showTotal}static getTotalLabel(e){return e.is(ni)?e.as(ni).totalLabel:e.is(ri)?e.as(ri).totalLabel:""}static getSortDirection(e){return e.is(ni)?e.as(ni).strSortDirection:e.is(ri)?e.as(ri).strSortDirection:"None"}static getExpandExpression(e){return e.is(ni)?e.as(ni).expandExpression:e.is(ri)?e.as(ri).expandExpression:""}static getSummary(e){if(e.is(Ji))return e;let t=new Ji;return t.expression=S.toTotalExpression(e),t.label=e.label,t.textFormat=this.getFormat(e),t}static getSummary3(e,t){if(e.is(Ji))return e;let r=new Ji;return r.expression=S.toTotalExpression3(e,t),r.label=e.label,r.textFormat=this.getFormat(e),r}static getColumn2(e){let t=new Gi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getRow2(e){let t=new ji;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getSummary2(e){let t=new Ji;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getFormat(e){if(e.is(Gi))return e.textFormat;if(e.is(ji))return e.textFormat;if(e.is(Ji))return e.textFormat;return new vt}static getTopN(e){if(e.is(Gi))return e.topN;if(e.is(ji))return e.topN;return new si}}F.h.Pivot=yc;class bc{static getSeries(e){if(e.is2(Xi))return e;let t=new Xi;return t.expression=ls.removeFunction(e.expression),t.label=e.label,t}static getSeries2(e){let t=new Xi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getValue(e){if(e.is2(zi))return e;let t=new zi;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getValue2(e){let t=new zi;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getTarget(e){if(e.is2(Hi))return e;let t=new Hi;return t.expression=S.toTotalExpression(e),t.label=e.label,t}static getTarget2(e){let t=new Hi;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}}F.h.Progress=bc;class xc{static getKey(e){if(e.is2(Oi))return e;let t=new Oi;return t.expression=e.expression,t.label=e.label,t}static getName(e){if(e.is2(Pi))return e;let t=new Pi;return t.expression=e.expression,t.label=e.label,t}static getGroup(e){if(e.is2(Ni))return e;let t=new Ni;return t.expression=e.expression,t.label=e.label,t}static getValue(e,t){let r=new Bi,i=(r.loadFromString(e.saveToString()),Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count");return r.expression=ls.replaceFunction(r.expression,i),r}static getColor(e){if(e.is2(Vi))return e;let t=new Vi;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new Oi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getName2(e){let t=new Pi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getValue2(e){let t=new Bi;return t.expression=S.toTotalExpression2(e),t.label=S.toAlias(e),t}static getGroup2(e){let t=new Ni;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}static getColor2(e){let t=new Vi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}}F.h.RegionMap=xc;class Tc{static getColumn(e){let t=e.as(Qi);return(t=null==t?new(e.is(at)?Li:ki):t).loadFromString(e.saveToString()),t}static getDimension(e){let t=new ki;return t.loadFromString(e.saveToString()),Ri.isMeasureFunction(t.expression)&&(t.expression=ls.removeFunction(t.expression)),t}static getDimension2(e){let t=new ki;return t.textFormat=Ei.getDefaultFormatForColumn(e),t.expression=S.toExpression(e),t.horAlignment=F.h.StiTableAlignmentHelper.getHorAlign(e),t.label=S.toAlias(e),t}static getMeasure(e,t){let r=new Li;if(r.loadFromString(e.saveToString()),e.is(ki)||e.is(Ii)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count";r.expression=ls.replaceFunction(r.expression,e)}return r}static getMeasure2(e){let t=new Li;return t.textFormat=Ei.getDefaultFormatForColumn(e),t.expression=S.toTotalExpression2(e),t.horAlignment=F.h.StiTableAlignmentHelper.getHorAlign(e),t.label=S.toAlias(e),t}static getDataBars(e,t){let r=new Ai;if(r.loadFromString(e.saveToString()),e.is(ki)||e.is(Ii)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"First";r.expression=ls.replaceFunction(r.expression,e)}return r}static getColorScale(e,t){let r=new Di;if(r.loadFromString(e.saveToString()),e.is(ki)||e.is(Ii)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count";r.expression=ls.replaceFunction(r.expression,e)}return r}static getSparklines(e){let t=new Ii;return t.loadFromString(e.saveToString()),Ri.isMeasureFunction(t.expression)&&(t.expression=ls.removeFunction(t.expression)),t}static getBubble(e,t){let r=new fi;if(r.loadFromString(e.saveToString()),e.is(ki)||e.is(Ii)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count";r.expression=ls.replaceFunction(r.expression,e)}return r}static getIndicator(e,t){let r=new vi;if(r.loadFromString(e.saveToString()),e.is(ki)||e.is(Ii)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count";r.expression=ls.replaceFunction(r.expression,e)}return r.horAlignment=V.Right,r}}F.h.Table=Tc;class Fc{static getColumn(e){let t=e.as(sr);return(t=null==t?new(e.is(at)?lr:Si):t).loadFromString(e.saveToString()),t}static getDimension(e){let t=new Si;return t.loadFromString(e.saveToString()),Ri.isMeasureFunction(t.expression)&&(t.expression=ls.removeFunction(t.expression)),t}static getDimension2(e){let t=new Si;return t.textFormat=Ei.getDefaultFormatForColumn(e),t.expression=S.toExpression(e),t.horAlignment=F.h.StiTableAlignmentHelper.getHorAlign(e),t.label=S.toAlias(e),t}static getMeasure(e,t){let r=new lr;if(r.loadFromString(e.saveToString()),e.is2(Si)||e.is2(pi)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count";r.expression=ls.replaceFunction(r.expression,e)}return r}static getMeasure2(e){let t=new lr;return t.textFormat=Ei.getDefaultFormatForColumn(e),t.expression=S.toTotalExpression2(e),t.horAlignment=F.h.StiTableAlignmentHelper.getHorAlign(e),t.label=S.toAlias(e),t}static getDataBars(e,t){let r=new gi;if(r.loadFromString(e.saveToString()),e.is2(Si)||e.is2(pi)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"First";r.expression=ls.replaceFunction(r.expression,e)}return r}static getColorScale(e,t){let r=new ci;if(r.loadFromString(e.saveToString()),e.is2(Si)||e.is2(pi)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count";r.expression=ls.replaceFunction(r.expression,e)}return r}static getSparklines(e){let t=new pi;return t.loadFromString(e.saveToString()),Ri.isMeasureFunction(t.expression)&&(t.expression=ls.removeFunction(t.expression)),t}static getBubble(e,t){let r=new di;if(r.loadFromString(e.saveToString()),e.is2(Si)||e.is2(pi)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count";r.expression=ls.replaceFunction(r.expression,e)}return r}static getIndicator(e,t){let r=new mi;if(r.loadFromString(e.saveToString()),e.is2(Si)||e.is2(pi)){let e=Zi.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count";r.expression=ls.replaceFunction(r.expression,e)}return r.horAlignment=V.Right,r}}F.h.Cards=Fc;class Mc{static getKey(e){if(e.is2(Mi))return e;let t=new Mi;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new Mi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}}F.h.TreeView=Mc;class vc{static getKey(e){if(e.is2(Fi))return e;let t=new Fi;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new Fi;return t.expression=S.toExpression(e),t.label=S.toAlias(e),t}}F.h.TreeViewBox=vc;class S{static toTotalExpression2(e){let t=null==e?void 0:e.as(jr);if(null!=t)return wi.isNumericType(t)?this.toSumExpression2(t):this.toCountExpression2(t);return null==e?void 0:e.getName()}static toTotalExpression(e){if(ls.isFunctionPresent(e.expression))return e.expression;return this.toCountExpression(e.expression)}static toTotalExpression3(e,t){if(ls.isFunctionPresent(e.expression))return e.expression;return Zi.isNumericDataColumnInExpression(t,e.expression)?this.toSumExpression(e.expression):this.toCountExpression(e.expression)}static toSumExpression2(e){return`Sum(${this.toExpression(e)})`}static toSumExpression(e){return`Sum(${e})`}static toCountExpression2(e){return`Count(${this.toExpression(e)})`}static toCountExpression(e){return`Count(${e})`}static toExpression(e){let t=null==e?void 0:e.as(jr);if(null!=t)return Ri.toExpression2(t.dataSource.name,t.name);return Ri.toExpression(null==e?void 0:e.getName())}static toAlias(e){let t=e.as(Ss);if(null!=t)return t.getAlias();return null==e?void 0:e.getName()}static toDataType(e){var t,t;let r=null==(t=null==e?void 0:e.as(jr))?void 0:t.type;if(null!=r)return r;return null==(t=null==e?void 0:e.as(ws))?void 0:t.type}}S.Chart=dc,S.ComboBox=cc,S.DataFilter=gc,S.DatePicker=pc,S.Gauge=Sc,S.Indicator=wc,S.ListBox=fc,S.OnlineMap=Cc,S.Pivot=yc,S.Progress=bc,S.RegionMap=xc,S.Table=Tc,S.Cards=Fc,S.TreeView=Mc,S.TreeViewBox=vc,F.h.StiMeterHelper=S}F.F.StiCardsItem=class{constructor(){this.cornerRadius=new m(0),this.margin=new He(12,12,12,12),this.padding=new ze(12,12,12,12),this.colorEach=!1}meta(){return this._hash||(this._hash=[new n("Margin").get(e=>this.margin.saveToJsonObject(12,12,12,12)),new n("Padding").get(e=>this.padding.saveToJsonObject(12,12,12,12)),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new h("ColorEach")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return this.cornerRadius.isDefault&&this.isDefaultMargin()&&this.isDefaultPadding()}isDefaultMargin(){return 12==this.margin.left&&12==this.margin.top&&12==this.margin.right&&12==this.margin.bottom}isDefaultPadding(){return 12==this.padding.left&&12==this.padding.top&&12==this.padding.right&&12==this.padding.bottom}};let S=F.h.StiMeterHelper,fs=B.System.Text.StiReportObjectStringConverter,Cs=B.Report.Dashboard.IStiSeriesColors,ys=F.F.StiCardsItem,f=F.G.StiMeterLoader,bs=B.Report.Dashboard.StiItemOrientation,xs=B.Report.Dashboard.ImplementsIStiCardsElement,Ts=B.Report.IStiGlobalizationProvider,Fs=B.Report.Dashboard.ImplementsIStiElementLayout,Ms=B.Report.Dashboard.IStiElementLayout,vs=B.Report.Dashboard.StiElementLayout,Ds=B.Report.Dashboard.ImplementsIStiTitleElement,As=B.Data.Helpers.StiUsedDataHelper,Is=B.Report.Dashboard.IStiCardsElement,Rs=B.Data.Engine.StiDataSortRule,Es=B.Data.Engine.StiDataActionRule;{class Mh extends F.e.StiElement{constructor(e=O.empty){super(e),this.helpUrl="user-manual/dashboards_cards.htm",this.dataFilters=new P,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.group="",this.title=new F.e.StiTitle,this.crossFiltering=!0,this.shadow=new Ae,this.layout=new vs,this.cornerRadius=new m(0),this._style=u.Auto,this.customStyleName="",this.seriesColors=[],this.orientation=bs.Horizontal,this.columns=new P,this.cards=new ys,this.columnCount=0,this.title.text=this.localizedName}implements(){return Mh.ImplementsStiCardsElement||(Mh.ImplementsStiCardsElement=super.implements().concat([Is,Ie,pe,Ms,De,Cs,Ts,...xs,...Ds,...Fs,...ve,a])),Mh.ImplementsStiCardsElement}clone(e){var e,e,e;let t=super.clone(e);return t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.columns=this.columns.select(e=>e.clone()).toList(),t.dashboardInteraction=null==(e=this.dashboardInteraction)?void 0:e.clone(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.seriesColors=null!=this.seriesColors?this.seriesColors.stimulsoft().clone():null,t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("Columns").get(e=>o.Serialize.objectArray(this.columns,e)).set(e=>this.columns.addRange(e.value.properties().select(e=>f.loadFromJson(e.value).as(sr)).where(e=>null!=e))).setXml(e=>this.columns.addRange(e.childNodes.select(e=>f.loadFromXml(e)).where(e=>null!=e))),new i("Orientation","",bs,bs.Horizontal),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e)),new n("Layout").check(()=>null!=this.layout).set(e=>this.layout=vs.createFromJsonObject(e.value)).setXml(e=>this.layout=vs.createFromXml(e)),new i("Style","",u,u.Auto),new l("CustomStyleName"),new T("ColumnCount","",0),new l("Group"),new h("CrossFiltering","",!0),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("Cards").get(e=>this.cards.saveToJsonObject(e)),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("SeriesColors").get(()=>o.Serialize.colorArray(this.seriesColors)).set(e=>this.seriesColors=o.Deserialize.colorArray(e.value)).setXml(e=>this.seriesColors=fs.convertStringToColorArray(e.textContent))])}get componentId(){return te.StiCardsElement}get toolboxPosition(){return Be.CardsElement}get localizedName(){return g.get("Components","StiCards")}shouldSerializeDataTransformation(){return null==this.transformActions||this.transformActions.any()||null==this.transformFilters||this.transformFilters.any()||null==this.transformSorts||this.transformSorts.any()}isDefaultDataTransformation(){return!this.shouldSerializeDataTransformation()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}convertFrom(e){let t=e.fetchAllMeters();if(this.columns.clear(),null==t)return;t.cast().forEach(e=>{let t=null;e.is2(Te)?t=new Si:e.is2(zr)?t=new F.F.StiSparklinesCardsColumn:e.is2(Or)?t=new F.F.StiDataBarsCardsColumn:e.is2(Nr)?t=new F.F.StiIndicatorCardsColumn:e.is2(Pr)?t=new F.F.StiColorScaleCardsColumn:e.is2(or)?t=new F.F.StiBubbleCardsColumn:e.is2(at)&&((t=new lr).horAlignment=V.Right),null!=t&&(t.loadFromJsonObject(e.saveToJsonObject(be.Report)),this.columns.add(t))},this)}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}createMeters(e){let t=e.as(Mh);this.columns.clear();for(let e of t.columns)this.columns.add(e)}createMeters2(t){this.columns.clear();for(let e of t.columns.list)null!=e&&null!=e.type&&fe.isNumericType(e.type)?this.columns.add(S.Cards.getMeasure2(e)):this.columns.add(S.Cards.getDimension2(e))}createMeter(e){let t=e.as(jr),r=e.as(ws),i=null!=t?t.type:null==r?void 0:r.type;if(null!=i&&fe.isNumericType(i)){let e=S.Cards.getMeasure2(t);this.columns.add(e)}else this.columns.add(S.Cards.getDimension2(e))}removeMeter(e){e<this.columns.length&&this.columns.removeAt(e)}removeAllMeters(){this.columns.clear()}insertMeter(e,t){let r=t.as(sr);if(null==r)return;0<=e&&e<this.columns.length?this.columns.insert(e,r):this.columns.add(r)}insertNewDimension(e){let t=new Si;t.horAlignment=V.Left,this.insertMeter(e,t)}insertNewMeasure(e){let t=new lr;t.expression="Sum()",t.horAlignment=V.Right,this.insertMeter(e,t)}getMeasure(e){return S.Cards.getMeasure2(e)}getDimension(e){return S.Cards.getDimension2(e)}getCards(){return this.cards}fetchAllMeters(){return this.columns.cast()}getMeters(){return this.columns.cast()}retrieveUsedDataNames(){return As.getMany2(this.columns)}get isDefined(){return null!=this.columns&&0<this.columns.length}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){let e=["Title.Text"];return e}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}createNew(){return new Mh}}F.F.StiCardsElement=Mh}{let e;(s=e=F.H.StiChartLabelsStyle||(F.H.StiChartLabelsStyle={}))[s["Value"]=0]="Value",s[s["PercentOfTotal"]=1]="PercentOfTotal",s[s["Category"]=2]="Category",s[s["CategoryValue"]=3]="CategoryValue",s[s["CategoryPercentOfTotal"]=4]="CategoryPercentOfTotal";let t;(s=t=F.H.StiLegendVisibility||(F.H.StiLegendVisibility={}))[s["False"]=0]="False",s[s["Auto"]=1]="Auto",s[s["Always"]=2]="Always"}let ks=B.Report.Dashboard.IStiChartArea;{class Dc{constructor(e,t,r,i,s,n,l,a,o,u,h){this.sideBySide=!1,this.colorEach=!1,this.reverseHor=!1,this.reverseVert=!1,this.interlacingHor=new F.H.StiHorChartInterlacing,this.interlacingVert=new F.H.StiVertChartInterlacing,this.gridLinesHor=new F.H.StiHorChartGridLines,this.gridLinesVert=new F.H.StiVertChartGridLines,this.xAxis=new F.H.StiXChartAxis,this.xTopAxis=new F.H.StiXTopChartAxis,this.yAxis=new F.H.StiYChartAxis,this.yRightAxis=new F.H.StiYRightChartAxis,null!=e&&(this.colorEach=e),null!=t&&(this.reverseHor=t),null!=r&&(this.reverseVert=r),null!=i&&(this.gridLinesHor=i),null!=s&&(this.gridLinesVert=s),null!=s&&(this.interlacingHor=n),null!=l&&(this.interlacingVert=l),null!=a&&(this.xAxis=a),null!=o&&(this.yAxis=o),null!=u&&(this.xTopAxis=u),null!=h&&(this.yRightAxis=h)}implements(){return Dc.ImplementsStiChartArea||(Dc.ImplementsStiChartArea=[ks,a]),Dc.ImplementsStiChartArea}meta(){return this._hash||(this._hash=[new h("ColorEach"),new h("SideBySide"),new n("GridLinesHor"),new n("GridLinesVert"),new n("InterlacingHor"),new n("InterlacingVert"),new h("ReverseHor"),new h("ReverseVert"),new n("XAxis").check(()=>!1),new n("XTopAxis").check(()=>!1),new n("YAxis").check(()=>!1),new n("YRightAxis").check(()=>!1)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.gridLinesHor=null!=this.gridLinesHor?this.gridLinesHor.clone():null,e.gridLinesVert=null!=this.gridLinesVert?this.gridLinesVert.clone():null,e.interlacingHor=null!=this.interlacingHor?this.interlacingHor.clone():null,e.interlacingVert=null!=this.interlacingVert?this.interlacingVert.clone():null,e}shouldSerializeXAxis(){return null==this.xAxis||!this.xAxis.isDefault()}shouldSerializeXTopAxis(){return null==this.xTopAxis||!this.xTopAxis.isDefault()}shouldSerializeYAxis(){return null==this.yAxis||!this.yAxis.isDefault()}shouldSerializeYRightAxis(){return null==this.yRightAxis||!this.yRightAxis.isDefault()}}F.H.StiChartArea=Dc}let Ls=B.Report.Chart.StiLabelsPlacement;{class Vs{constructor(e,t,r,i,s,n,l){this.angle=0,this.color=N.transparent,this.font=new z("Arial",8),this.placement=Ls.AutoRotation,this.textAlignment=V.Right,this.textAfter="",this.textBefore="",this.step=0,null!=e&&(this.textBefore=e),null!=t&&(this.textAfter=t),null!=r&&(this.angle=r),null!=i&&(this.font=i),null!=s&&(this.placement=s),null!=n&&(this.color=n),null!=l&&(this.textAlignment=l)}implements(){return Vs.ImplementsStiChartAxisLabels||(Vs.ImplementsStiChartAxisLabels=[dt,Gt,...Pt,a]),Vs.ImplementsStiChartAxisLabels}meta(){return this._hash||(this._hash=[new T("Angle","",0),new l("TextBefore"),new l("TextAfter"),new ut("Font","","Arial",8),new i("Placement","",Ls,Ls.AutoRotation),new t("Color","",N.transparent),new i("TextAlignment","",V,V.Right),new T("Step","",0)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}shouldSerializeColor(){return!N.transparent.equals(this.color)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==k.Regular)}isDefault(){return!this.shouldSerializeFont()&&!this.shouldSerializeColor()&&this.placement==Ls.AutoRotation&&this.textAlignment==V.Right&&""==this.textAfter&&""==this.textBefore&&0==this.angle&&0==this.step}}F.H.StiChartAxisLabels=Vs}let Vs=F.H.StiChartAxisLabels;{class Ac{constructor(e,t,r){this.labels=new Vs,this.range=new F.H.StiChartAxisRange,this.visible=!0,null!=e&&(this.labels=e),null!=t&&(this.range=t),null!=r&&(this.visible=r)}implements(){return Ac.ImplementsStiChartAxis||(Ac.ImplementsStiChartAxis=[a,gt,dt]),Ac.ImplementsStiChartAxis}is(e){if(e instanceof B.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){let e=this.stimulsoft().memberwiseClone();return e.labels=this.labels.clone(),e.range=this.range.clone(),e}meta(){return this._hash||(this._hash=[new n("Labels").check(()=>null!=this.labels),new n("Range").check(()=>null!=this.range),new h("Visible","",!0)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}shouldSerializeLabels(){return null==this.labels||!this.labels.isDefault()}shouldSerializeRange(){return null==this.range||!this.range.isDefault()}isDefault(){return!this.shouldSerializeLabels()&&this.visible}}F.H.StiChartAxis=Ac}{class Ic{constructor(e,t,r){this._minimum=0,this.maximum=0,this.auto=!0,null!=e&&(this.auto=e),null!=t&&(this.minimum=t),null!=r&&(this.maximum=r)}implements(){return Ic.ImplementsStiChartAxisRange||(Ic.ImplementsStiChartAxisRange=[a,dt]),Ic.ImplementsStiChartAxisRange}meta(){return this._hash||(this._hash=[new T("Minimum","",0),new T("Maximum","",0),new h("Auto","",!0)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}get minimum(){return this._minimum}set minimum(e){this._minimum=e}isDefault(){return 0==this.minimum&&0==this.maximum&&this.auto}}F.H.StiChartAxisRange=Ic}let Bs=B.Report.Chart.StiTitlePosition,Ns=B.System.Drawing.StringAlignment;{let e;(s=e=F.H.Order||(F.H.Order={}))[s["Alignment"]=1]="Alignment",s[s["Color"]=2]="Color",s[s["Direction"]=3]="Direction",s[s["Font"]=4]="Font",s[s["Placement"]=5]="Placement",s[s["Position"]=6]="Position",s[s["Text"]=7]="Text",s[s["Visible"]=8]="Visible";class Rc{constructor(e,t,r,i,s,n){this.visible=!0,this.alignment=Ns.Center,this.color=N.transparent,this.font=new z("Arial",12,k.Bold),this.position=Bs.Outside,this.text="",null!=e&&(this.font=e),null!=t&&(this.text=t),null!=r&&(this.color=r),null!=i&&(this.alignment=i),null!=s&&(this.position=s),null!=n&&(this.visible=n)}implements(){return Rc.ImplementsStiChartAxisTitle||(Rc.ImplementsStiChartAxisTitle=[a,gt]),Rc.ImplementsStiChartAxisTitle}is(e){if(e instanceof B.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}meta(){return this._hash||(this._hash=[new ut("Font","","Arial",12,k.Bold),new l("Text"),new t("Color","",N.transparent),new i("Alignment","",Ns,Ns.Center),new i("Position","",Bs,Bs.Outside),new h("Visible","",!0)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}shouldSerializeColor(){return!N.transparent.equals(this.color)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&12==this.font.sizeInPoints&&this.font.style==k.Bold)}isDefault(){return null!=z&&!this.shouldSerializeFont()&&!this.shouldSerializeColor()&&null!=this.text&&0==this.text.length&&this.position==Bs.Outside&&this.alignment==Ns.Center&&this.visible}}F.H.StiChartAxisTitle=Rc}let Ps=B.Report.Chart.StiConstantLines_StiTextPosition,Os=B.Report.Dashboard.IStiChartConstantLines;{class Ec{constructor(e,t,r,i,s,n){this.text="",this.lineStyle=ui.Solid,this.lineColor=N.black,this.axisValue="1",this.lineWidth=1,this.position=Ps.LeftTop,null!=e&&(this.text=e),null!=t&&(this.axisValue=t),null!=r&&(this.lineColor=r),null!=i&&(this.lineStyle=i),null!=s&&(this.lineWidth=s),null!=n&&(this.position=n)}implements(){return Ec.ImplementsStiChartConstantLines||(Ec.ImplementsStiChartConstantLines=[dt,Os,a]),Ec.ImplementsStiChartConstantLines}meta(){return this._hash||(this._hash=[new l("Text"),new t("LineColor"),new i("LineStyle","",ui,ui.Solid),new T("LineWidth","",1),new e("AxisValue","","1"),new i("Position","",Ps,Ps.LeftTop)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}static createFromJson(e){let t=new Ec;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Ec;return t.loadFromXml(e),t}}F.H.StiChartConstantLines=Ec}let zs=B.Report.Chart.StiMarkerType,Hs=B.Report.Chart.StiExtendedStyleBool;{class dn{constructor(e){this.size=7,this.angle=0,this.type=zs.Circle,this.visible=Hs.FromStyle,null!=e&&(this.size=e)}implements(){return dn.ImplementsStiChartMarker||(dn.ImplementsStiChartMarker=[dt,a]),dn.ImplementsStiChartMarker}meta(){return this._hash||(this._hash=[new T("Size","",7),new T("Angle","",0),new i("Type","",zs,zs.Circle),new i("Visible","",Hs,Hs.FromStyle)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return 7==this.size&&0==this.angle&&this.type==zs.Circle}static createFromJson(e){let t=new F.H.StiChartConstantLines;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new F.H.StiChartConstantLines;return t.loadFromXml(e),t}}F.H.StiChartMarker=dn}F.H.StiChartLegendTitle=class{constructor(e,t,r){this.color=N.transparent,this.font=new z("Arial",12,k.Bold),this.text="",null!=e&&(this.font=e),null!=t&&(this.text=t),null!=r&&(this.color=r)}meta(){return this._hash||(this._hash=[new ut("Font","","Arial",12,k.Bold),new l("Text"),new t("Color","",N.transparent)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}shouldSerializeColor(){return!N.transparent.equals(this.color)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&12==this.font.sizeInPoints&&this.font.style==k.Bold)}isDefault(){return null!=this.font&&!this.shouldSerializeFont()&&!this.shouldSerializeColor()&&null!=this.text&&0==this.text.length}};let Xs=B.Report.Chart.StiSeriesLabelsValueType;{class Js{constructor(e,t,r){this.color=N.transparent,this.font=new z("Arial",8),this.valueType=null,null!=e&&(this.font=e),null!=t&&(this.color=t),null!=r&&(this.valueType=r)}implements(){return Js.ImplementsStiChartLegendLabels||(Js.ImplementsStiChartLegendLabels=[dt,Gt,...Pt,a]),Js.ImplementsStiChartLegendLabels}meta(){return this._hash||(this._hash=[new ut("Font","","Arial",8),new t("Color","",N.transparent),new i("ValueType","",Xs)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}shouldSerializeColor(){return!N.transparent.equals(this.color)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==k.Regular)}isDefault(){return!this.shouldSerializeFont()&&!this.shouldSerializeColor()}}F.H.StiChartLegendLabels=Js}let Gs=B.Report.Chart.StiLegendDirection,js=F.H.StiChartLegendTitle,Js=F.H.StiChartLegendLabels,Ws=B.Report.Chart.StiLegendVertAlignment,Us=B.Report.Chart.StiLegendHorAlignment;{let e;(s=e=F.H.Order||(F.H.Order={}))[s["HorAlignment"]=1]="HorAlignment",s[s["Labels"]=2]="Labels",s[s["Title"]=3]="Title",s[s["VertAlignment"]=4]="VertAlignment";class Tn{constructor(e,t,r,i,s,n,l){this.horAlignment=Us.Left,this.vertAlignment=Ws.TopOutside,this.visibility=F.H.StiLegendVisibility.Auto,this.direction=Gs.TopToBottom,this.columns=0,this.labels=new Js,this.title=new js,null!=e&&(this.title=e),null!=t&&(this.labels=t),null!=r&&(this.horAlignment=r),null!=i&&(this.vertAlignment=i),null!=s&&(this.visibility=s),null!=n&&(this.direction=n),null!=l&&(this.columns=l)}implements(){return Tn.ImplementsStiChartLegend||(Tn.ImplementsStiChartLegend=[a]),Tn.ImplementsStiChartLegend}meta(){return this._hash||(this._hash=[new n("Title"),new n("Labels"),new i("HorAlignment","",Us,Us.Left),new i("VertAlignment","",Ws,Ws.TopOutside),new h("Visible","",!0),new i("Visibility","",F.H.StiLegendVisibility,F.H.StiLegendVisibility.Auto),new i("Direction","",Gs,Gs.TopToBottom),new T("Columns")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.title=this.title.clone(),e.labels=this.labels.clone(),e.horAlignment=this.horAlignment,e.vertAlignment=this.vertAlignment,e.visible=this.visible,e.direction=this.direction,e.columns=this.columns,e.visibility=this.visibility,e}get visible(){return this.visibility==F.H.StiLegendVisibility.Auto}set visible(e){this.visibility=e?F.H.StiLegendVisibility.Auto:F.H.StiLegendVisibility.False}isDefault(){return this.title.isDefault()&&this.labels.isDefault()&&this.horAlignment==Us.Left&&this.vertAlignment==Ws.TopOutside&&this.direction==Gs.TopToBottom&&0==this.columns&&this.visibility==F.H.StiLegendVisibility.Auto}}F.H.StiChartLegend=Tn}let Ks=B.Report.Chart.StiDirection,qs=(F.H.StiYChartAxisTitle=class extends F.H.StiChartAxisTitle{constructor(e,t,r,i,s,n,l){super(e,t,r,i,n,l),this.direction=Ks.BottomToTop,null!=s&&(this.direction=s)}meta(){return this._hash||(this._hash=[...super.meta(),new i("Direction","",Ks,Ks.BottomToTop)])}isDefault(){return this.direction==Ks.BottomToTop}},F.H.StiYChartAxisTitle),Ys=(F.H.StiYChartAxis=class extends F.H.StiChartAxis{constructor(e,t,r,i){super(e),this.title=new qs,this.startFromZero=!0,null!=e&&(this.labels=e),null!=t&&(this.title=t),null!=r&&(this.visible=r),null!=i&&(this.startFromZero=i)}clone(){var e;let t=super.clone();return t.title=this.title.clone(),t.range=null==(e=this.range)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("Title"),new h("StartFromZero","",!0)])}shouldSerializeTitle(){return!(null!=this.title&&this.title.isDefault())}shouldSerializeStartFromZero(){return!this.startFromZero}isDefault(){return!this.shouldSerializeTitle()&&!this.shouldSerializeStartFromZero()}},B.Base.StiAutoBool),Zs=(F.H.StiXChartAxis=class extends F.H.StiChartAxis{constructor(e,t,r,i,s){super(e),this.title=new F.H.StiXChartAxisTitle,this.showEdgeValues=Ys.Auto,this.startFromZero=Ys.Auto,null!=e&&(this.labels=e),null!=t&&(this.title=t),null!=r&&(this.visible=r),null!=i&&(this.startFromZero=i),null!=s&&(this.showEdgeValues=s)}clone(){let e=super.clone();return e.title=this.title.clone(),e}meta(){return this._hash||(this._hash=[...super.meta(),new n("Title").check(()=>null!=this.title),new i("ShowEdgeValues","",Ys,Ys.Auto),new i("StartFromZero","",Ys,Ys.Auto)])}shouldSerializeTitle(){return null==this.title||!this.title.isDefault()}shouldSerializeShowEdgeValues(){return this.showEdgeValues!=Ys.Auto}shouldSerializeStartFromZero(){return this.startFromZero!=Ys.Auto}isDefault(){return!this.shouldSerializeTitle()&&!this.shouldSerializeShowEdgeValues()&&!this.shouldSerializeStartFromZero()}},F.H.StiYChartMeter=class extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.YChartMeter}get localizedName(){return`Y`+c.get("PropertyMain","Value")}},B.Report.Dashboard.IStiChartDashboardInteraction),Qs=B.Report.Dashboard.StiInteractionViewsState,_s=B.Report.Dashboard.IStiAllowUserSortingDashboardInteraction,$s=B.Report.Dashboard.IStiInteractionLayout,en=B.Report.Dashboard.IStiAllowUserDrillDownDashboardInteraction;{class gn extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g){super(e,t,r,i,s,n,l),this.ident=wr.Chart,this.allowUserDrillDown=!1,this.allowUserSorting=!0,this.availableOnClick=fr.ApplyFilter|fr.OpenHyperlink|fr.ShowDashboard|fr.DrillDown,this.availableOnDataManipulation=yr.AllowDrillDown|yr.AllowSorting,this.viewsState=Qs.OnHover,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=a&&(this.allowUserDrillDown=a),null!=o&&(this.fileName=o),null!=u&&(this.headerText=u),null!=h&&(this.footerText=h),null!=m&&(this.showFullScreenButton=m),null!=d&&(this.showSaveButton=d),null!=c&&(this.showViewDataButton=c),null!=g&&(this.viewsState=g)}implements(){return gn.ImplementsIStiChartDashboardInteraction||(gn.ImplementsIStiChartDashboardInteraction=super.implements().concat([Zs,en,_s,a,$s])),gn.ImplementsIStiChartDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new h("AllowUserDrillDown"),new h("AllowUserSorting","",!0),new h("ShowFullScreenButton","",!0),new h("ShowSaveButton","",!0),new h("ShowViewDataButton","",!0),new l("FileName"),new l("HeaderText"),new l("FooterText"),new i("ViewsState","",Qs,Qs.OnHover)])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.onHover==gr.ShowToolTip&&this.onClick==pr.ApplyFilter&&this.hyperlinkDestination==Sr.NewTab&&L.isNullOrEmpty(this.hyperlink)&&L.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&L.isNullOrEmpty(this.toolTip)&&!this.allowUserDrillDown&&this.allowUserSorting&&this.isDefaultLayout}}F.g.StiChartDashboardInteraction=gn}let tn=B.Data.Engine.IStiDrillDownElement,rn=(F.g.StiDrillDownHelper=class{static isDrillAvailable(e){let t=e.is(Er)?e.dashboardInteraction.as(en):null;if(null==t||!t.allowUserDrillDown)return!1;let r=e.as(tn);return null!=r}static isDrillUpAvailable(e){if(!this.isDrillAvailable(e))return!1;let t=e.as(tn);return 0<t.drillDownCurrentLevel}static isDrillDownAvailable(e){if(!this.isDrillAvailable(e))return!1;let t=e.as(tn);return t.drillDownCurrentLevel<t.drillDownLevelCount-1}static drillUp(e){let t=e.as(tn);t.drillDownCurrentLevel--,t.drillDownFilters=t.drillDownFiltersList[t.drillDownCurrentLevel],t.drillDownFiltersList.removeAt(t.drillDownFiltersList.length-1)}static drillDown(e,t=null){let r=e.as(tn);r.drillDownFiltersList.add(r.drillDownFilters),r.drillDownFilters=t,r.drillDownCurrentLevel++}},B.Report.Dashboard.StiChartTrendLineType);{class In{constructor(e,t,r,i,s){this.type=rn.None,this.lineStyle=ui.Solid,this.lineColor=N.black,this.lineWidth=1,null!=e&&(this.keyValueMeter=e),null!=t&&(this.type=t),null!=r&&(this.lineColor=r),null!=i&&(this.lineStyle=i),null!=s&&(this.lineWidth=s)}implements(){return In.ImplementsStiChartTrendLine||(In.ImplementsStiChartTrendLine=[dt,Os,a]),In.ImplementsStiChartTrendLine}meta(){return this._hash||(this._hash=[new l("KeyValueMeter"),new i("Type","",rn,rn.None),new i("LineStyle","",ui,ui.Solid),new t("LineColor","",N.black),new T("LineWidth","",1)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}static createFromJson(e){let t=new In;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new In;return t.loadFromXml(e),t}}F.H.StiChartTrendLine=In}let sn=B.Report.Chart.StiColumnShape3D,nn=B.Report.Chart.StiPie3dOptions,ln=B.Report.StiDataMode,an=B.Report.Dashboard.StiUserViewState,on=B.Report.Dashboard.IStiUserViewStates,un=B.System.StiArray,hn=B.Report.Components.StiTextFormatState,mn=B.Report.Dashboard.StiChartSeriesCreator,dn=F.H.StiChartMarker,cn=F.g.StiDrillDownHelper,gn=F.g.StiChartDashboardInteraction,pn=B.Report.Dashboard.IStiNegativeSeriesColors,Sn=B.Report.Dashboard.IStiParetoSeriesColors,wn=B.Report.Dashboard.ImplementsIStiSeriesColors,fn=B.Report.Dashboard.ImplementsIStiNegativeSeriesColors,Cn=B.Report.Dashboard.ImplementsIStiParetoSeriesColors,yn=B.Report.Dashboard.ImplementsIStiUserViewStates,bn=B.Report.Dashboard.ImplementsIStiSkipOwnFilter,xn=B.Report.Dashboard.ImplementsIStiChartElement,Tn=F.H.StiChartLegend,Fn=F.e.StiTitle,Mn=F.H.StiYChartMeter,vn=B.Report.Dashboard.StiChartGroups,Dn=B.Report.Dashboard.IStiChartElement,An=B.Data.Engine.ImplementsIStiDrillDownElement,In=F.H.StiChartTrendLine,Rn=B.Report.Chart.IStiShowNullsSeries;{Ke.add("StiChartElement","Stimulsoft.Dashboard.Export.Tools.StiChartElementExportTool");class Eh extends F.e.StiElement{constructor(e=O.empty){super(e),this.title=new Fn,this.layout=new vs,this.group="",this.crossFiltering=!0,this._style=u.Auto,this.customStyleName="",this.userFilters=new P,this.userSorts=new P,this.userViewStates=new P,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.topN=new si,this.dataTransformation={},this.dataFilters=new P,this.seriesColors=[],this.negativeSeriesColors=[],this.paretoSeriesColors=[],this.cornerRadius=new m(0),this.shadow=new Ae,this.helpUrl="user-manual/dashboards_chart.htm",this.manuallyEnteredChartMeter=new F.H.StiValueChartMeter,this.values=new P,this.endValues=new P,this.closeValues=new P,this.lowValues=new P,this.highValues=new P,this.arguments=new P,this.weights=new P,this.legend=new Tn,this.area=new F.H.StiChartArea,this._labels=new F.H.StiChartLabels,this.argumentFormat=new vt,this.valueFormat=new Mr(null,null,null,0,null,null,null,null,null,hn.DecimalDigits|hn.Abbreviation),this.trendLines=new P,this.constantLines=new P,this.chartConditions=new P,this.marker=new dn,this.icon=null,this.roundValues=!0,this.columnShape=sn.Box,this.dataMode=ln.UsingDataFields,this.drillDownFiltersList=new P,this.drillDownFilters=new P,this.drillDownCurrentLevel=0,this.title.text=this.localizedName,this.dashboardInteraction=new gn,this.labels=new F.H.StiChartLabels,this.previousAnimations=new P,this.options3D=new nn}implements(){return Eh.ImplementsStiChartElement||(Eh.ImplementsStiChartElement=super.implements().concat([Dn,Ie,De,on,ie,pe,Ms,Ts,Cs,pn,Sn,...xn,...Re,...ve,...yn,...bn,...Ds,...Fs,...wn,...fn,...Cn,...An,a,Er,tn])),Eh.ImplementsStiChartElement}clone(e){var e,e,e,e;let t=super.clone(e);return t.values=this.values.select(e=>e.clone()).toList(),t.endValues=this.endValues.select(e=>e.clone()).toList(),t.closeValues=this.closeValues.select(e=>e.clone()).toList(),t.lowValues=this.lowValues.select(e=>e.clone()).toList(),t.highValues=this.highValues.select(e=>e.clone()).toList(),t.arguments=this.arguments.select(e=>e.clone()).toList(),t.weights=this.weights.select(e=>e.clone()).toList(),t.series=null!=this.series?this.series.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.userViewStates=this.userViewStates.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.topN=this.topN.clone(),t.argumentFormat=null!=this.argumentFormat?this.argumentFormat.clone():null,t.valueFormat=null!=this.valueFormat?this.valueFormat.clone():null,t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.xAxis=null!=this.xAxis?this.xAxis.clone():null,t.xTopAxis=null==(e=this.xTopAxis)?void 0:e.clone(),t.yAxis=null!=this.yAxis?this.yAxis.clone():null,t.yRightAxis=null==(e=this.yRightAxis)?void 0:e.clone(),t.legend=null!=this.legend?this.legend.clone():null,t.area=null!=this.area?this.area.clone():null,t.seriesColors=null!=this.seriesColors?this.seriesColors.stimulsoft().clone():null,t.negativeSeriesColors=null!=this.negativeSeriesColors?this.negativeSeriesColors.stimulsoft().clone():null,t.paretoSeriesColors=null!=this.paretoSeriesColors?this.paretoSeriesColors.stimulsoft().clone():null,t.marker=null!=this.marker?this.marker.clone():null,t.constantLines=this.constantLines.select(e=>e.clone()).toList(),t.trendLines=this.trendLines.select(e=>e.clone()).toList(),t.chartConditions=this.chartConditions.select(e=>e.clone()).toList(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("UserFilters").get(e=>o.Serialize.objectArray(this.userFilters,e)).set(e=>this.userFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.userFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("UserSorts").get(e=>o.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("Values").get(e=>o.Serialize.objectArray(this.values,e)).set(e=>this.values.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.values.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("EndValues").get(e=>o.Serialize.objectArray(this.endValues,e)).set(e=>this.endValues.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.endValues.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("CloseValues").get(e=>o.Serialize.objectArray(this.closeValues,e)).set(e=>this.closeValues.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.closeValues.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("LowValues").get(e=>o.Serialize.objectArray(this.lowValues,e)).set(e=>this.lowValues.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.lowValues.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("HighValues").get(e=>o.Serialize.objectArray(this.highValues,e)).set(e=>this.highValues.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.highValues.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("Arguments").get(e=>o.Serialize.objectArray(this.arguments,e)).set(e=>this.arguments.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.arguments.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("Weights").get(e=>o.Serialize.objectArray(this.weights,e)).set(e=>this.weights.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.weights.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("UserViewStates").get(e=>o.Serialize.objectArray(this.userViewStates,e)).set(e=>this.userViewStates.addRange(e.value.properties().select(e=>an.loadFromJson(e.value)))).setXml(e=>this.userViewStates.addRange(e.childNodes.select(e=>an.loadFromXml(e)))),new h("ColorEach"),new h("CrossFiltering","",!0),new n("TopN").check(()=>null!=this.topN).set(e=>this.topN=si.createFromJsonObject(e.value)).setXml(e=>this.topN=si.createFromXml(e)),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(gn)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(gn);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(gn);null!=t&&(this.dashboardInteraction=t)}),new n("Title").check(()=>null!=this.title).set(e=>this.title=Fn.createFromJsonObject(e.value)).setXml(e=>this.title=Fn.createFromXml(e)),new n("Layout").check(()=>null!=this.layout).set(e=>this.layout=vs.createFromJsonObject(e.value)).setXml(e=>this.layout=vs.createFromXml(e)),new n("ManuallyEnteredChartMeter").check(()=>null!=this.manuallyEnteredChartMeter).set(e=>{let t=f.loadFromJson(e.value).as(F.H.StiValueChartMeter);null!=t&&(this.manuallyEnteredChartMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.H.StiValueChartMeter);null!=t&&(this.manuallyEnteredChartMeter=t)}),new n("Series").check(()=>null!=this.series).set(e=>{let t=f.loadFromJson(e.value).as(gs);null!=t&&(this.series=t)}).setXml(e=>{let t=f.loadFromXml(e).as(gs);null!=t&&(this.series=t)}),new n("ArgumentFormat").check(()=>null!=this.argumentFormat).set(e=>this.argumentFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.argumentFormat=$t.loadFormatFromXml(e,this.report)),new n("ValueFormat").check(()=>null!=this.valueFormat).set(e=>this.valueFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.valueFormat=$t.loadFormatFromXml(e,this.report)),new n("XAxis").check(()=>null!=this.xAxis),new n("XTopAxis").check(()=>null!=this.xTopAxis),new n("YAxis").check(()=>null!=this.yAxis),new n("YRightAxis").check(()=>null!=this.yRightAxis),new n("Legend").check(()=>null!=this.legend),new n("Area").check(()=>null!=this.area),new n("Marker").check(()=>null!=this.marker),new n("Labels").check(()=>null!=this.labels),new n("Options3D").check(()=>null!=this.options3D),new n("SeriesColors").get(()=>o.Serialize.colorArray(this.seriesColors)).set(e=>this.seriesColors=o.Deserialize.colorArray(e.value)).setXml(e=>this.seriesColors=fs.convertStringToColorArray(e.textContent)),new n("NegativeSeriesColors").get(()=>o.Serialize.colorArray(this.negativeSeriesColors)).set(e=>this.negativeSeriesColors=o.Deserialize.colorArray(e.value)).setXml(e=>this.negativeSeriesColors=fs.convertStringToColorArray(e.textContent)),new n("ParetoSeriesColors").get(()=>o.Serialize.colorArray(this.paretoSeriesColors)).set(e=>this.paretoSeriesColors=o.Deserialize.colorArray(e.value)).setXml(e=>this.paretoSeriesColors=fs.convertStringToColorArray(e.textContent)),new i("Style","",u,u.Auto),new l("Group"),new l("CustomStyleName"),new n("ConstantLines").get(e=>o.Serialize.objectArray(this.constantLines,e)).set(e=>this.constantLines.addRange(e.value.properties().select(e=>F.H.StiChartConstantLines.createFromJson(e.value)))).setXml(e=>this.constantLines.addRange(e.childNodes.select(e=>F.H.StiChartConstantLines.createFromXml(e)))),new n("TrendLines").get(e=>o.Serialize.objectArray(this.trendLines,e)).set(e=>this.trendLines.addRange(e.value.properties().select(e=>In.createFromJson(e.value)))).setXml(e=>this.trendLines.addRange(e.childNodes.select(e=>In.createFromXml(e)))),new n("ChartConditions").get(e=>o.Serialize.objectArray(this.chartConditions,e)).set(e=>this.chartConditions.addRange(e.value.properties().select(e=>F.H.StiChartElementCondition.createFromJson(e.value)))).setXml(e=>this.chartConditions.addRange(e.childNodes.select(e=>F.H.StiChartElementCondition.createFromXml(e)))),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new i("DataMode","",ln,ln.UsingDataFields),new l("ManuallyEnteredData"),new i("Icon","",ct).check(()=>null!=this.icon),new h("RoundValues","",!0),new l("SelectedViewStateKey").check(()=>null!=this.selectedViewStateKey),new i("ColumnShape","",sn,sn.Box)])}get componentId(){return te.StiChartElement}convertToBubble(){null!=this.arguments&&this.arguments.where(e=>null!=e).toList().forEach(e=>{e.expression=ls.replaceFunction(e.expression,"Sum")})}convertFromBubble(){null!=this.arguments&&this.arguments.where(e=>null!=e).toList().forEach(e=>{e.expression=ls.removeFunction(e.expression)}),null!=this.weights&&this.weights.clear()}convertToGantt(){var e;null!=this.values&&null!=(e=this.values)&&e.where(e=>null!=e).toList().forEach(e=>{e.expression=ls.removeFunction(e.expression)})}getChartSeriesTypes(r){let i=new P;if(1<this.values.length){let e=ue.parse(d,r),t=vn.getGroup(e);if(null!=t)for(let e of t)i.add(ue.getName(d,e))}return i}getManuallyEnteredChartMeter(){return this.manuallyEnteredChartMeter}addValue(e){null!=e&&this.values.add(S.Chart.getValue2(e,this))}getValue2(e){return null!=e?S.Chart.getValue2(e,this):null}getValue(e){return null!=e?S.Chart.getValue(e.as(F.e.StiMeter)):null}getGanttStartValue(e){return null!=e?S.Chart.getGanttStartValue(e):null}getGanttEndValue(e){return null!=e?S.Chart.getGanttEndValue(e):null}getY(e){return null!=e?S.Chart.getY2(e):null}getX(e){return null!=e?S.Chart.getX2(e):null}fetchAllValues(){return this.values.cast().toList()}getValueByIndex(e){return e<this.values.length?this.values[e]:null}insertValue(e,t){let r=t.as(F.H.StiValueChartMeter);null!=r&&(0<=e&&e<this.values.length?this.values.insert(e,r):this.values.add(r))}removeValue(e){e<this.values.length&&this.values.removeAt(e)}removeAllValues(){this.values.clear()}createNewValue(){let e=new F.H.StiValueChartMeter;return e.expression="Sum()",this.values.add(e),e}addEndValue(e){null!=e&&this.endValues.add(S.Chart.getEndValue2(e))}getEndValue2(e){return null!=e?S.Chart.getEndValue2(e):null}getEndValue(e){return null!=e?S.Chart.getEndValue(e.as(F.e.StiMeter)):null}getEndValueByIndex(e){return e<this.endValues.length?this.endValues[e]:null}insertEndValue(e,t){let r=t.as(ps);null!=r&&(0<=e&&e<this.endValues.length?this.endValues.insert(e,r):this.endValues.add(r))}removeEndValue(e){e<this.endValues.length&&this.endValues.removeAt(e)}removeAllEndValues(){this.endValues.clear()}createNewEndValue(){let e=new ps;return e.expression="Sum()",this.endValues.add(e),e}addCloseValue(e){null!=e&&this.closeValues.add(S.Chart.getCloseValue2(e))}getCloseValue2(e){return null!=e?S.Chart.getCloseValue2(e):null}getCloseValue(e){return null!=e?S.Chart.getCloseValue(e.as(F.e.StiMeter)):null}getCloseValueByIndex(e){return e<this.closeValues.length?this.closeValues[e]:null}insertCloseValue(e,t){let r=t.as(us);null!=r&&(0<=e&&e<this.closeValues.length?this.closeValues.insert(e,r):this.closeValues.add(r))}removeCloseValue(e){e<this.closeValues.length&&this.closeValues.removeAt(e)}removeAllCloseValues(){this.closeValues.clear()}createNewCloseValue(){let e=new us;return e.expression="Sum()",this.closeValues.add(e),e}addLowValue(e){null!=e&&this.lowValues.add(S.Chart.getLowValue2(e))}getLowValue2(e){return null!=e?S.Chart.getLowValue2(e):null}getLowValue(e){return null!=e?S.Chart.getLowValue(e.as(F.e.StiMeter)):null}getLowValueByIndex(e){return e<this.lowValues.length?this.lowValues[e]:null}insertLowValue(e,t){let r=t.as(hs);null!=r&&(0<=e&&e<this.lowValues.length?this.lowValues.insert(e,r):this.lowValues.add(r))}removeLowValue(e){e<this.lowValues.length&&this.lowValues.removeAt(e)}removeAllLowValues(){this.lowValues.clear()}createNewLowValue(){let e=new hs;return e.expression="Sum()",this.lowValues.add(e),e}addHighalue(e){null!=e&&this.highValues.add(S.Chart.getHighValue2(e))}getHighValue2(e){return null!=e?S.Chart.getHighValue2(e):null}getHighValue(e){return null!=e?S.Chart.getHighValue(e.as(F.e.StiMeter)):null}getHighValueByIndex(e){return e<this.highValues.length?this.highValues[e]:null}insertHighValue(e,t){let r=t.as(ms);null!=r&&(0<=e&&e<this.highValues.length?this.highValues.insert(e,r):this.highValues.add(r))}removeHighValue(e){e<this.highValues.length&&this.highValues.removeAt(e)}removeAllHighValues(){this.highValues.clear()}createNewHighValue(){let e=new ms;return e.expression="Sum()",this.highValues.add(e),e}addArgument(e){null!=e&&this.arguments.add(S.Chart.getArgument2(e))}getArgument2(e){return null!=e?S.Chart.getArgument2(e):null}getArgument(e){return null!=e?S.Chart.getArgument(e.as(F.e.StiMeter)):null}fetchAllArguments(){return this.arguments.cast().toList()}getArgumentByIndex(e){return e<this.arguments.length?this.arguments[e]:null}insertArgument(e,t){let r=t.as(ds);null!=r&&(0<=e&&e<this.arguments.length?this.arguments.insert(e,r):this.arguments.add(r))}removeArgument(e){e<this.arguments.length&&this.arguments.removeAt(e)}removeAllArguments(){this.arguments.clear()}createNewArgument(){this.arguments.add(new ds)}addWeight(e){null!=e&&this.weights.add(S.Chart.getWeight2(e))}getWeight2(e){return null!=e?S.Chart.getWeight2(e):null}getWeight(e){return null!=e?S.Chart.getWeight(e.as(F.e.StiMeter)):null}getWeightByIndex(e){return e<this.weights.length?this.weights[e]:null}insertWeight(e,t){let r=t.as(as);null!=r&&(0<=e&&e<this.weights.length?this.weights.insert(e,r):this.weights.add(r))}removeWeight(e){e<this.weights.length&&this.weights.removeAt(e)}removeAllWeights(){this.weights.clear()}createNewWeight(){let e=new as;e.expression="Sum()",this.weights.add(e)}addSeries(e){this.series=null!=e?S.Chart.getSeries2(e):null}getSeries2(e){return null!=e?S.Chart.getSeries2(e):null}getSeries(e){return null!=e?S.Chart.getSeries(e.as(F.e.StiMeter)):null}getSeries3(){return this.series}insertSeries(e){this.series=e.as(gs)}removeSeries(){this.series=null}createNewSeries(){this.series=new gs}fetchConstantLines(){let e=new P;return null!=this.constantLines&&e.addRange(this.constantLines),e}addConstantLine(){this.constantLines.add(new F.H.StiChartConstantLines)}removeConstantLine(e){0<=e&&e<this.constantLines.length&&this.constantLines.removeAt(e)}moveConstantLine(t,r){if(0<=t&&t<this.constantLines.length){let e=this.constantLines[t];this.constantLines.removeAt(t),this.constantLines.insert(r,e)}}addTrendLines(e,t,r,i,s){this.trendLines.add(new In(e,t,r,i,s))}fetchTrendLines(){let e=new P;return null!=e&&e.addRange(this.trendLines),e}clearTrendLines(){this.trendLines.clear()}addChartCondition(e,t,r,i,s,n,l,a,o){this.chartConditions.add(new F.H.StiChartElementCondition(e,s,t,r,i,n,l,a,o))}fetchChartConditions(){let e=new P;return null!=this.chartConditions&&e.addRange(this.chartConditions),e}clearChartConditions(){this.chartConditions.clear()}convertFrom(e){let t=e.fetchAllMeters();if(this.values.clear(),this.arguments.clear(),null==t)return;t.where(e=>(e.is2(dr)||e.is2(at))&&!e.is2(ai)).cast().forEach(e=>{let t=new F.H.StiValueChartMeter;t.loadFromJsonObject(e.saveToJsonObject(be.Report)),this.values.add(t)},this),t.where(e=>e.is(ai)).cast().forEach(e=>{let t=new ds;t.loadFromJsonObject(e.saveToJsonObject(be.Report)),this.arguments.add(t)},this),null==this.dashboardInteraction&&(this.dashboardInteraction=new gn)}fetchAllMeters(){let e=new P;return this.dataMode==ln.UsingDataFields&&(null!=this.values&&e.addRange(this.values),null!=this.endValues&&e.addRange(this.endValues),null!=this.closeValues&&e.addRange(this.closeValues),null!=this.lowValues&&e.addRange(this.lowValues),null!=this.highValues&&e.addRange(this.highValues),null!=this.arguments&&e.addRange(this.arguments),null!=this.weights&&e.addRange(this.weights),null!=this.series&&e.add(this.series)),e}getMeters(){let i=new P;if(this.dataMode==ln.UsingDataFields){for(let r of this.values)if(this.isBubbleChart){let e=new Mn;e.key=r.key,e.expression=r.expression,e.label=r.label,i.add(e)}else if(this.isFinancial){let e=new F.H.StiOpenValueChartMeter;e.seriesType=r.seriesType,e.key=r.key,e.expression=r.expression,e.label=r.label,i.add(e)}else if(this.isRange){let e=new F.H.StiStartValueChartMeter;e.seriesType=r.seriesType,e.key=r.key,e.expression=r.expression,e.label=r.label,e.lineStyle=r.lineStyle,i.add(e)}else if(r.showZeros==tt.Zero&&r.showNulls==tt.Zero||!mn.neww2(r.seriesType).is(Rn))i.add(r);else{let e=ls.getFunction(r.expression),t=null;if("sum"==(e=null!=e?e.toLowerCase():e)?t="sumnulls":"avg"==e&&(t="avgnulls"),null!=t){let e=r.clone();e.expression=ls.replaceFunction(r.expression,t),i.add(e)}else i.add(r)}if(this.isRange)for(let e of this.endValues)i.add(e);if(this.isFinancial)for(let e of this.closeValues)i.add(e);if(this.isFinancial)for(let e of this.lowValues)i.add(e);if(this.isFinancial)for(let e of this.highValues)i.add(e);let e=cn.isDrillAvailable(this)&&this.drillDownCurrentLevel<this.drillDownLevelCount?this.arguments.getRange(this.drillDownCurrentLevel,1):this.arguments;for(let t of e)if(this.isBubbleChart){let e=new F.H.StiXChartMeter;e.key=t.key,e.expression=t.expression,e.label=t.label,i.add(e)}else i.add(t);if(this.isBubbleChart)for(let e of this.weights)i.add(e);null!=this.series&&i.add(this.series)}return i}retrieveUsedDataNames(){let e=new P;return this.dataMode==ln.UsingDataFields&&(e.addRange(As.getMany2(this.values)),e.addRange(As.getMany2(this.arguments)),e.addRange(As.getMany2(this.weights)),e.addRange(As.getMany(this.series))),e.distinct()}get isDefined(){return null!=this.values&&0<this.values.length||null!=this.weights&&0<this.weights.length&&this.isBubbleChart||null!=this.arguments&&0<this.arguments.length||null!=this.series||this.dataMode==ln.ManuallyEnteringData}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}get allowSkipOwnFilter(){return!0}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}switchSelectedViewState(e){F.H.StiChartUserViewStatesHelper.switchSelectedViewState(this,e)}saveToJsonForViewState(){return F.H.StiChartUserViewStatesHelper.saveToJsonObject(this)}loadFromJsonForViewState(e){F.H.StiChartUserViewStatesHelper.loadFromJsonObject(this,e)}shouldSerializeDataTransformation(){return null==this.transformActions||this.transformActions.any()||null==this.transformFilters||this.transformFilters.any()||null==this.transformSorts||this.transformSorts.any()}isDefaultDataTransformation(){return!this.shouldSerializeDataTransformation()}setString(r,i){switch(r){case"Title.Text":this.title.text=i;break;case"Legend.Title.Text":this.legend.title.text=i;break;case"XAxis.Labels.TextAfter":this.xAxis.labels.textAfter=i;break;case"XAxis.Labels.TextBefore":this.xAxis.labels.textBefore=i;break;case"XAxis.Title.Text":this.xAxis.title.text=i;break;case"XTopAxis.Labels.TextAfter":this.xTopAxis.labels.textAfter=i;break;case"XTopAxis.Labels.TextBefore":this.xTopAxis.labels.textBefore=i;break;case"XTopAxis.Title.Text":this.xTopAxis.title.text=i;break;case"YAxis.Labels.TextAfter":this.yAxis.labels.textAfter=i;break;case"YAxis.Labels.TextBefore":this.yAxis.labels.textBefore=i;break;case"YAxis.Title.Text":this.yAxis.title.text=i;break;case"YRightAxis.Labels.TextAfter":this.yRightAxis.labels.textAfter=i;break;case"YRightAxis.Labels.TextBefore":this.yRightAxis.labels.textBefore=i;break;case"YRightAxis.Title.Text":this.yRightAxis.title.text=i;break}let s=0;for(let t of this.values){let e=`Value${s++}.Label`;r==e&&(t.label=i)}s=0;for(let t of this.arguments){let e=`Argument${s++}.Label`;r==e&&(t.label=i)}}getString(r){switch(r){case"Title.Text":return this.title.text;case"Legend.Title.Text":return this.legend.title.text;case"XAxis.Labels.TextAfter":return this.xAxis.labels.textAfter;case"XAxis.Labels.TextBefore":return this.xAxis.labels.textBefore;case"XAxis.Title.Text":return this.xAxis.title.text;case"XTopAxis.Labels.TextAfter":return this.xTopAxis.labels.textAfter;case"XTopAxis.Labels.TextBefore":return this.xTopAxis.labels.textBefore;case"XTopAxis.Title.Text":return this.xTopAxis.title.text;case"YAxis.Labels.TextAfter":return this.yAxis.labels.textAfter;case"YAxis.Labels.TextBefore":return this.yAxis.labels.textBefore;case"YAxis.Title.Text":return this.yAxis.title.text;case"YRightAxis.Labels.TextAfter":return this.yRightAxis.labels.textAfter;case"YRightAxis.Labels.TextBefore":return this.yRightAxis.labels.textBefore;case"YRightAxis.Title.Text":return this.yRightAxis.title.text}let i=0;for(let t of this.values){let e=`Value${i++}.Label`;if(r==e)return t.label}i=0;for(let t of this.arguments){let e=`Argument${i++}.Label`;if(r==e)return t.label}throw new Error(`Property with name `+r)}getAllStrings(){let t=["Title.Text","Legend.Title.Text"],r=(this.isAxisAreaChart&&(t.push("XAxis.Labels.TextAfter"),t.push("XAxis.Labels.TextBefore"),t.push("XAxis.Title.Text"),t.push("XTopAxis.Labels.TextAfter"),t.push("XTopAxis.Labels.TextBefore"),t.push("XTopAxis.Title.Text"),t.push("YAxis.Labels.TextAfter"),t.push("YAxis.Labels.TextBefore"),t.push("YAxis.Title.Text"),t.push("YRightAxis.Labels.TextAfter"),t.push("YRightAxis.Labels.TextBefore"),t.push("YRightAxis.Title.Text")),0);return this.values.forEach(e=>t.push(`Value${r++}.Label`)),r=0,this.arguments.forEach(e=>t.push(`Argument${r++}.Label`)),t}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}getFonts(){let e=super.getFonts();return e.push(this.title.font),e.push(this.labels.font),e.push(this.legend.labels.font),e.push(this.legend.title.font),e.push(this.xAxis.labels.font),e.push(this.xAxis.title.font),e.push(this.xTopAxis.labels.font),e.push(this.xTopAxis.title.font),e.push(this.yAxis.labels.font),e.push(this.yAxis.title.font),e.push(this.yRightAxis.labels.font),e.push(this.yRightAxis.title.font),un.distinct(e)}get toolboxPosition(){return Be.ChartElement}get localizedName(){return g.get("Components","StiChart")}get colorEach(){return null!=this.area&&this.area.colorEach}set colorEach(e){null!=this.area&&(this.area.colorEach=e)}shouldSerializeValues(){return null==this.values||0!=this.values.length}shouldSerializeEndValues(){return null==this.endValues||0!=this.endValues.length}shouldSerializeCloseValues(){return null==this.closeValues||0!=this.closeValues.length}shouldSerializeLowValues(){return null==this.lowValues||0!=this.lowValues.length}shouldSerializeHighValues(){return null==this.highValues||0!=this.highValues.length}shouldSerializeArguments(){return null==this.arguments||0!=this.arguments.length}shouldSerializeWeights(){return null==this.weights||0!=this.weights.length}shouldSerializeSeries(){return null==this.series||!this.series.isDefault()}get xAxis(){var e;return null==(e=this.area)?void 0:e.xAxis}set xAxis(e){null!=this.area&&(this.area.xAxis=e)}get xTopAxis(){var e;return null==(e=this.area)?void 0:e.xTopAxis}set xTopAxis(e){null!=this.area&&(this.area.xTopAxis=e)}get yAxis(){var e;return null==(e=this.area)?void 0:e.yAxis}set yAxis(e){null!=this.area&&(this.area.yAxis=e)}get yRightAxis(){var e;return null==(e=this.area)?void 0:e.yRightAxis}set yRightAxis(e){null!=this.area&&(this.area.yRightAxis=e)}shouldSerializeLegend(){return null==this.legend||!this.legend.isDefault()}get labels(){return this._labels}set labels(e){null!=e&&(e.element=this),this._labels=e}shouldSerializeLabels(){return null==this.labels||!this.labels.isDefault()}shouldSerializeArgumentFormat(){return!this.argumentFormat.is(vt)}static getValueFormatDefault(){return new Mr(null,null,null,0,null,null,null,null,null,hn.DecimalDigits|hn.Abbreviation)}shouldSerializeValueFormat(){return this.valueFormat.stimulsoft().equals(Eh.getValueFormatDefault())}shouldSerializeTrendLines(){return null==this.trendLines||0<this.trendLines.length}shouldSerializeConstantLines(){return null==this.constantLines||0<this.constantLines.length}shouldSerializeOptions3d(){return null==this.options3D||!this.options3D.isDefault()}shouldSerializeConditions(){return null==this.chartConditions||0<this.chartConditions.length}shouldSerializeMarker(){return null==this.marker||!this.marker.isDefault()}shouldSerializeIcon(){return null!=this.icon}getManuallyEnteredDataTable(){if(this.dataMode!=ln.ManuallyEnteringData)return null;return F.e.StiManuallyEnteredDataParser.getChartDataTable(this.manuallyEnteredData,this)}get isAxisAreaChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.ClusteredBar||e.seriesType==d.ClusteredColumn||e.seriesType==d.Ribbon||e.seriesType==d.Pareto||e.seriesType==d.Histogram||e.seriesType==d.FullStackedArea||e.seriesType==d.FullStackedBar||e.seriesType==d.FullStackedColumn||e.seriesType==d.FullStackedLine||e.seriesType==d.FullStackedSpline||e.seriesType==d.FullStackedSplineArea||e.seriesType==d.StackedBar||e.seriesType==d.StackedColumn||e.seriesType==d.StackedLine||e.seriesType==d.StackedSpline||e.seriesType==d.StackedArea||e.seriesType==d.StackedSplineArea||e.seriesType==d.Scatter||e.seriesType==d.ScatterLine||e.seriesType==d.ScatterSpline||e.seriesType==d.Candlestick||e.seriesType==d.Stock||e.seriesType==d.Gantt||e.seriesType==d.Bubble||e.seriesType==d.Area||e.seriesType==d.Line||e.seriesType==d.Spline||e.seriesType==d.SplineArea||e.seriesType==d.SplineRange||e.seriesType==d.Range||e.seriesType==d.RangeBar||e.seriesType==d.SteppedArea||e.seriesType==d.SteppedLine||e.seriesType==d.SteppedRange||e.seriesType==d.BoxAndWhisker))}get isStackedChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.StackedBar||e.seriesType==d.StackedColumn||e.seriesType==d.StackedLine||e.seriesType==d.StackedSpline||e.seriesType==d.StackedArea||e.seriesType==d.StackedSplineArea))}get isScatterChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.Scatter||e.seriesType==d.ScatterLine||e.seriesType==d.ScatterSpline||e.seriesType==d.Bubble))}get isLinesChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.FullStackedArea||e.seriesType==d.FullStackedLine||e.seriesType==d.FullStackedSpline||e.seriesType==d.FullStackedSplineArea||e.seriesType==d.StackedLine||e.seriesType==d.StackedSpline||e.seriesType==d.StackedArea||e.seriesType==d.StackedSplineArea||e.seriesType==d.Scatter||e.seriesType==d.ScatterLine||e.seriesType==d.ScatterSpline||e.seriesType==d.Area||e.seriesType==d.Line||e.seriesType==d.Spline||e.seriesType==d.SplineArea||e.seriesType==d.SplineRange||e.seriesType==d.Range||e.seriesType==d.SteppedArea||e.seriesType==d.SteppedLine||e.seriesType==d.SteppedRange))}get isBubbleChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.Bubble)}get isBarChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.ClusteredBar||e.seriesType==d.FullStackedBar||e.seriesType==d.StackedBar||e.seriesType==d.Gantt))}get isRange(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.Range||e.seriesType==d.RangeBar||e.seriesType==d.SteppedRange||e.seriesType==d.SplineRange||e.seriesType==d.Gantt))}get isFinancial(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.Candlestick||e.seriesType==d.Stock))}get isPieChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.Pie)}get isPie3dChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.Pie3d)}get isDoughnutChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.Doughnut)}get isFunnelChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.Funnel||e.seriesType==d.FunnelWeightedSlices))}get isPictorialStackedChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.PictorialStacked)}get isTreemapChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.Treemap)}get isParetoChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.Pareto)}get isSunburstChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.Sunburst)}get isFullStackedChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.FullStackedArea||e.seriesType==d.FullStackedBar||e.seriesType==d.FullStackedColumn||e.seriesType==d.FullStackedLine||e.seriesType==d.FullStackedSpline||e.seriesType==d.FullStackedSplineArea))}get isWaterfallChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.Waterfall)}get isRadarChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.RadarPoint||e.seriesType==d.RadarArea||e.seriesType==d.RadarLine))}get isAxisAreaChart3D(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==d.ClusteredColumn3D||e.seriesType==d.StackedColumn3D||e.seriesType==d.FullStackedColumn3D))}get isClusteredColumnChart3D(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==d.ClusteredColumn3D)}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==pr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(Q.isEmptyKey(t))return null;let e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new P([e])}get drillDownLevelCount(){return null!=this.arguments?this.arguments.length:0}createNew(){return new Eh}checkBrowsableProperties(){this.isRange?(this.setBrowsableProperty("Weights",!1),this.setBrowsableProperty("EndValues",!0),this.setBrowsableProperty("CloseValues",!1),this.setBrowsableProperty("LowValues",!1),this.setBrowsableProperty("HighValues",!1)):this.isFinancial?(this.setBrowsableProperty("Weights",!1),this.setBrowsableProperty("EndValues",!1),this.setBrowsableProperty("CloseValues",!0),this.setBrowsableProperty("LowValues",!0),this.setBrowsableProperty("HighValues",!0)):(this.isBubbleChart?this.setBrowsableProperty("Weights",!0):this.setBrowsableProperty("Weights",!1),this.setBrowsableProperty("EndValues",!1),this.setBrowsableProperty("CloseValues",!1),this.setBrowsableProperty("LowValues",!1),this.setBrowsableProperty("HighValues",!1))}setBrowsableProperty(e,t){}getChartSeries(){let e=d.ClusteredColumn;return this.chartValuesList().any()&&(e=this.chartValuesList().first().seriesType),mn.neww2(e)}chartValuesList(){if(this.dataMode==ln.UsingDataFields)return null==this.values?new P:this.values.where(e=>null!=e).toList();{let e=new P;return null!=this.manuallyEnteredChartMeter&&e.add(this.manuallyEnteredChartMeter),e}}}F.H.StiChartElement=Eh}let En=B.Report.Dashboard.IStiChartElementCondition,kn=B.Report.Components.StiFilterCondition,Ln=B.Report.Components.StiFilterDataType,Vn=B.Report.Chart.StiChartConditionalField;{class kc{constructor(e,t,r,i,s,n,l,a,o){this.color=N.white,this.markerAngle=0,this.markerType=zs.Circle,this.condition=kn.EqualTo,this.dataType=Ln.Numeric,this.value="",this.keyValueMeter="",this.field=Vn.Value,this.isExpression=!1,null!=e&&(this.keyValueMeter=e),null!=t&&(this.color=t),null!=r&&(this.dataType=r),null!=i&&(this.condition=i),null!=s&&(this.value=s),null!=n&&(this.markerType=n),null!=l&&(this.markerAngle=l),null!=a&&(this.field=a),null!=o&&(this.isExpression=o)}implements(){return kc.ImplementsStiChartElementCondition||(kc.ImplementsStiChartElementCondition=[dt,En,a]),kc.ImplementsStiChartElementCondition}meta(){return this._hash||(this._hash=[new e("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new l("KeyValueMeter"),new i("Condition","",kn,kn.EqualTo),new i("DataType","",Ln,Ln.Numeric),new i("Field","",Vn,Vn.Value),new l("Value"),new t("Color","",N.white),new i("MarkerType","",zs,zs.Circle),new T("MarkerAngle","",0),new h("IsExpression")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return this.color.equals(N.white)&&this.markerType==zs.Circle&&this.condition==B.Report.Components.StiFilterCondition.EqualTo&&this.dataType==B.Report.Components.StiFilterDataType.Numeric&&this.field==Vn.Value&&""==this.value&&!this.isExpression&&""==this.keyValueMeter}static createFromJson(e){let t=new kc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new kc;return t.loadFromXml(e),t}}F.H.StiChartElementCondition=kc}{class Lc{constructor(){this.color=N.transparent}implements(){return Lc.ImplementsStiChartGridLines||(Lc.ImplementsStiChartGridLines=[dt,gt,a]),Lc.ImplementsStiChartGridLines}meta(){return this._hash||(this._hash=[new t("Color"),new h("Visible")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return null}}F.H.StiChartGridLines=Lc}F.H.StiChartInterlacing=class{constructor(e,t){this.color=N.transparent,this.visible=!1,null!=e&&(this.color=e),null!=e&&(this.visible=t)}meta(){return this._hash||(this._hash=[new t("Color"),new h("Visible")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return N.transparent.equals(this.color)&&!this.visible}};let Bn=B.Report.Dashboard.IStiChartLabels,C=B.Report.Dashboard.StiChartLabelsPosition;{class Vc{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d){this.axisPosition=C.None,this.piePosition=C.Center,this.pie3dPosition=C.Center,this.clusteredColumn3dPosition=C.Center,this.doughnutPosition=C.Center,this.funnelPosition=C.Center,this.pictorialStackedPosition=C.Right,this.treemapPosition=C.Center,this.radarPosition=C.None,this.foreColor=N.transparent,this.font=new z("Arial",8),this.autoRotate=!1,this.style=F.H.StiChartLabelsStyle.CategoryValue,this.textAfter="",this.textBefore="",null!=e&&(this.axisPosition=e),null!=t&&(this.piePosition=t),null!=r&&(this.doughnutPosition=r),null!=i&&(this.funnelPosition=i),null!=s&&(this.treemapPosition=s),null!=n&&(this.radarPosition=n),null!=l&&(this.clusteredColumn3dPosition=l),null!=a&&(this.style=a),null!=o&&(this.font=o),null!=u&&(this.foreColor=u),null!=h&&(this.textBefore=h),null!=m&&(this.textAfter=m),null!=d&&(this.autoRotate=d)}implements(){return Vc.ImplementsStiChartLabels||(Vc.ImplementsStiChartLabels=[Bn,a]),Vc.ImplementsStiChartLabels}meta(){return this._hash||(this._hash=[new ut("Font","","Arial",8),new l("TextAfter"),new l("TextBefore"),new t("ForeColor","",N.transparent),new i("Position","",C),new i("AxisPosition","",C,C.None),new i("PiePosition","",C,C.Center),new i("Pie3dPosition","",C,C.Center),new i("DoughnutPosition","",C,C.Center),new i("FunnelPosition","",C,C.Center),new i("PictorialStackedPosition","",C,C.Right),new i("TreemapPosition","",C,C.Center),new i("RadarPosition","",C,C.None),new i("ClusteredColumn3dPosition","",C,C.Center),new i("Style","",F.H.StiChartLabelsStyle,F.H.StiChartLabelsStyle.CategoryValue),new h("AutoRotate")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}get position(){return this.element.isStackedChart||this.axisPosition!=C.Total||(this.axisPosition=C.None),this.element.isPieChart?this.piePosition:this.element.isPie3dChart?this.pie3dPosition:this.element.isDoughnutChart||this.element.isSunburstChart?this.doughnutPosition:this.element.isFunnelChart?this.funnelPosition:this.element.isPictorialStackedChart?this.pictorialStackedPosition:this.element.isTreemapChart?this.treemapPosition:this.element.isRadarChart?this.radarPosition:this.element.isAxisAreaChart3D?this.clusteredColumn3dPosition:this.axisPosition}set position(e){this.element.isPieChart?this.piePosition=e:this.element.isPie3dChart?this.pie3dPosition=e:this.element.isDoughnutChart||this.element.isSunburstChart?this.doughnutPosition=e:this.element.isFunnelChart?this.funnelPosition=e:this.element.isPictorialStackedChart?this.pictorialStackedPosition=e:this.element.isTreemapChart?this.treemapPosition=e:this.element.isRadarChart?this.radarPosition=e:this.element.isAxisAreaChart3D?this.clusteredColumn3dPosition=e:this.axisPosition=e}shouldSerializePosition(){return this.element.isPieChart&&this.piePosition!=C.Center||this.element.isDoughnutChart&&this.doughnutPosition!=C.Center||this.element.isFunnelChart&&this.funnelPosition!=C.Center||this.element.isTreemapChart&&this.treemapPosition!=C.Center||this.element.isRadarChart&&this.radarPosition!=C.None||this.element.isAxisAreaChart&&this.axisPosition!=C.None}isDefault(){return N.transparent.equals(this.foreColor)&&!this.autoRotate&&this.axisPosition==C.None&&this.piePosition==C.Center&&this.doughnutPosition==C.Center&&this.funnelPosition==C.Center&&this.treemapPosition==C.Center&&this.clusteredColumn3dPosition==C.Center&&this.radarPosition==C.None&&this.style==F.H.StiChartLabelsStyle.CategoryValue&&null!=this.textAfter&&0==this.textAfter.length&&null!=this.textBefore&&0==this.textBefore.length}}F.H.StiChartLabels=Vc}let Nn=B.System.Text.Encoding,Pn=B.Base.StiPacker,On=(F.H.StiChartUserViewStatesHelper=class{static saveToJsonObject(e){let t=new xe,r=be.Report;return t.addPropertyJObject("Values",o.Serialize.objectArray(e.values,r)),t.addPropertyJObject("EndValues",o.Serialize.objectArray(e.endValues,r)),t.addPropertyJObject("CloseValues",o.Serialize.objectArray(e.closeValues,r)),t.addPropertyJObject("LowValues",o.Serialize.objectArray(e.lowValues,r)),t.addPropertyJObject("HighValues",o.Serialize.objectArray(e.highValues,r)),t.addPropertyJObject("Arguments",o.Serialize.objectArray(e.arguments,r)),t.addPropertyJObject("Weights",o.Serialize.objectArray(e.weights,r)),null!=e.series&&t.addPropertyJObject("Series",e.series.saveToJsonObject(r)),null!=e.icon&&t.addPropertyEnum("Icon",ct,e.icon),t.addPropertyBool("RoundValues",e.roundValues,!0),t.addPropertyEnum("ColumnShape",sn,e.columnShape,sn.Box),t}static loadFromJsonObject(r,e){for(let t of e.properties())switch(t.name){case"Values":r.values.addRange(t.value.properties().select(e=>f.loadFromJson(e.value)));break;case"EndValues":r.endValues.addRange(t.value.properties().select(e=>f.loadFromJson(e.value)));break;case"CloseValues":r.closeValues.addRange(t.value.properties().select(e=>f.loadFromJson(e.value)));break;case"LowValues":r.lowValues.addRange(t.value.properties().select(e=>f.loadFromJson(e.value)));break;case"HighValues":r.highValues.addRange(t.value.properties().select(e=>f.loadFromJson(e.value)));break;case"Arguments":r.arguments.addRange(t.value.properties().select(e=>f.loadFromJson(e.value)));break;case"Weights":r.weights.addRange(t.value.properties().select(e=>f.loadFromJson(e.value)));break;case"Series":{let e=f.loadFromJson(t.value).as(F.H.StiSeriesChartMeter);null!=e&&(r.series=e);break}case"Icon":r.icon=ue.parse(ct,t.value.toString());break;case"RoundValues":r.roundValues=t.value.stimulsoft().toBoolean();break;case"ColumnShape":r.columnShape=ue.parse(sn,t.value.toString());break}}static clearVisualState(e){e.values.clear(),e.endValues.clear(),e.closeValues.clear(),e.lowValues.clear(),e.highValues.clear(),e.arguments.clear(),e.weights.clear(),e.series=null,e.icon=null}static switchSelectedViewState(e,t){var r;let i=e.selectedViewStateKey;L.isNullOrWhiteSpace(i)&&(i=null==(r=e.userViewStates.firstOrDefault())?void 0:r.key),this.saveVisualState(e,i),this.loadVisualState(e,t),e.selectedViewStateKey=t}static saveVisualState(e,t){if(L.isNullOrWhiteSpace(t))return;let r=e.userViewStates.firstOrDefault(e=>e.key==t);if(null==r)return;let i=this.saveToJsonObject(e);r.state=Pn.packToString(Nn.UTF8.getBytes(i.serialize()))}static loadVisualState(e,t){if(this.clearVisualState(e),L.isNullOrWhiteSpace(t))return;let r=e.userViewStates.firstOrDefault(e=>e.key==t);if(L.isNullOrWhiteSpace(null==r?void 0:r.state))return;let i=Nn.UTF8.getString(Pn.unpackFromString(r.state)),s=new xe;s.deserialize(i),this.loadFromJsonObject(e,s)}},F.H.StiChartYRightAxisLabels=class extends F.H.StiChartAxisLabels{constructor(e,t,r,i,s,n,l){super(e,t,r,i,s,n,l),this.textAlignment=V.Left}meta(){return this._hash||(this._hash=[...super.meta(),new D("TextAlignment"),new i("TextAlignment","",V,V.Left)])}isDefault(){return!this.shouldSerializeFont()&&!this.shouldSerializeColor()&&this.placement==Ls.AutoRotation&&this.textAlignment==V.Left&&""==this.textAfter&&""==this.textBefore&&0==this.angle&&0==this.step}},F.H.StiHorChartGridLines=class extends F.H.StiChartGridLines{constructor(e,t){super(),this.visible=!0,null!=e&&(this.color=e),null!=t&&(this.visible=t)}meta(){return this._hash||(this._hash=[...super.meta(),new t("Color"),new h("Visible","",!0)])}isDefault(){return N.transparent.equals(this.color)&&this.visible}},F.H.StiHorChartInterlacing=class extends F.H.StiChartInterlacing{constructor(e,t){super(e,t)}},F.H.StiStartValueChartMeter=class extends F.H.StiValueChartMeter{constructor(e,t,r,i){super(e,t,r,i),this.seriesType=d.Gantt,this.ident=F.e.StiMeterIdent.StartValueChartMeter,null!=i&&(this.seriesType=i)}get localizedName(){return c.get("PropertyMain","StartValue")}},F.H.StiVertChartGridLines=class extends F.H.StiChartGridLines{constructor(e,t){super(),this.visible=!1,null!=e&&(this.color=e),null!=t&&(this.visible=t)}meta(){return this._hash||(this._hash=[...super.meta(),new t("Color"),new h("Visible")])}isDefault(){return N.transparent.equals(this.color)&&!this.visible}},F.H.StiVertChartInterlacing=class extends F.H.StiChartInterlacing{constructor(e,t){super(e,t)}},F.H.StiXChartAxisTitle=class extends F.H.StiChartAxisTitle{constructor(e,t,r,i,s,n,l){super(e,t,r,i,n,l),this.direction=Ks.LeftToRight,null!=s&&(this.direction=s)}meta(){return this._hash||(this._hash=[...super.meta(),new i("Direction","",Ks,Ks.LeftToRight)])}isDefault(){return this.direction==Ks.LeftToRight}},F.H.StiXChartMeter=class extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.XChartMeter}get localizedName(){return`X`+c.get("PropertyMain","Value")}},F.H.StiXTopChartAxis=class extends F.H.StiXChartAxis{constructor(e,t,r){super(e,t,r),this.visible=!1}meta(){return this._hash||(this._hash=[...super.meta(),new D(["Range","Visible"]),new h("Visible")])}isDefault(){return!this.shouldSerializeTitle()&&!this.shouldSerializeLabels()&&!this.visible}},F.H.StiYRightChartAxis=class extends F.H.StiYChartAxis{constructor(e,t,r){super(e,t,r),this.visible=!1,this.labels=new F.H.StiChartYRightAxisLabels}isDefault(){return!this.shouldSerializeTitle()&&!this.shouldSerializeLabels()&&!this.visible}meta(){return this._hash||(this._hash=[...super.meta(),new D(["Range","Visible"]),new h("Visible")])}shouldSerializeLabels(){return null==this.labels||!this.labels.isDefault()}},F.U.StiMeterConverter=class{},F.U.StiMeterConverter),zn=(F.ac.StiValueChartMeterConverter=class extends On{},F.ac.StiXChartAxisConverter=class{},F.ac.StiYChartAxisConverter=class{},B.Report.Dashboard.ImplementsIStiComboBoxElement),G=B.System.Drawing.Size,Hn=B.Report.Dashboard.StiItemSelectionMode,Xn=B.Report.Dashboard.IStiComboBoxElement;{Ke.add("StiComboBoxElement","Stimulsoft.Dashboard.Export.Tools.StiComboBoxElementExportTool");class fh extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this.userFilters=new P,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.dataFilters=new P,this._style=u.Auto,this.customStyleName="",this.font=new z("Arial",8),this.shadow=new Ae,this.cornerRadius=new m(0),this.foreColor=N.transparent,this.showAllValue=!1,this.showBlanks=!1,this.selectionMode=Hn.One,this.textFormat=new vt,this.defaultClientRectangle=new O(0,0,200,40),this.helpUrl="user-manual/dashboards_data_filtering_combo_box.htm"}implements(){return fh.ImplementsStiComboBoxElement||(fh.ImplementsStiComboBoxElement=super.implements().concat([Xn,Ie,De,Xt,...zn,...Re,...ve,...Nt,a])),fh.ImplementsStiComboBoxElement}get componentId(){return te.StiComboBoxElement}meta(){return this._hash||(this._hash=[...super.meta(),new l("ParentKey"),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new t("ForeColor","",N.transparent),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new h("ShowAllValue"),new h("ShowBlanks"),new i("SelectionMode","",Hn,Hn.One).set(e=>{let t=ue.parse(Hn,e.value);null!=t&&(this.selectionMode=t)}).setXml(e=>{let t=ue.parse(Hn,e.textContent);null!=t&&(this.selectionMode=t)}),new n("NameMeter").check(()=>null!=this.nameMeter).set(e=>{let t=f.loadFromJson(e.value).as(F.R.StiNameComboBoxMeter);null!=t&&(this.nameMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.R.StiNameComboBoxMeter);null!=t&&(this.nameMeter=t)}),new n("KeyMeter").check(()=>null!=this.keyMeter).set(e=>{let t=f.loadFromJson(e.value).as(F.R.StiKeyComboBoxMeter);null!=t&&(this.keyMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.R.StiKeyComboBoxMeter);null!=t&&(this.keyMeter=t)}),new i("Style","",u,u.Auto),new l("Group"),new l("CustomStyleName"),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("TextFormat").check(()=>!(this.textFormat.is(vt)||null==this.textFormat)).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e,this.report))])}clone(e){var e,e;let t=super.clone(e);return t.nameMeter=null!=this.nameMeter?this.nameMeter.clone():null,t.keyMeter=null!=this.keyMeter?this.keyMeter.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}getParentKey(){return this.parentKey}setParentKey(e){this.parentKey=e}async applyDefaultFilters(){let e=await F.R.StiComboBoxHelper.fetchDefaultUserFilters(this);null!=e&&(this.userFilters=e)}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==k.Regular)}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}fetchAllMeters(){let e=new P;return null!=this.nameMeter&&e.add(this.nameMeter),null!=this.keyMeter&&e.add(this.keyMeter),e}getMeters(){let e=new P;return null!=this.nameMeter&&e.add(this.nameMeter),null!=this.keyMeter&&e.add(this.keyMeter),e}retrieveUsedDataNames(){return As.getMany(this.nameMeter,this.keyMeter)}get isDefined(){return null!=this.nameMeter||null!=this.keyMeter}addKeyMeter2(e){this.keyMeter=null!=e?S.ComboBox.getKey2(e):null}addKeyMeter(e){this.keyMeter=null!=e?S.ComboBox.getKey(e.as(F.e.StiMeter)):null}getKeyMeter(){return this.keyMeter}removeKeyMeter(){this.keyMeter=null}createNewKeyMeter(){this.keyMeter=new F.R.StiKeyComboBoxMeter}addNameMeter2(e){this.nameMeter=null!=e?S.ComboBox.getName2(e):null}addNameMeter(e){this.nameMeter=null!=e?S.ComboBox.getName(e.as(F.e.StiMeter)):null}getNameMeter(){return this.nameMeter}removeNameMeter(){this.nameMeter=null}createNewNameMeter(){this.nameMeter=new F.R.StiNameComboBoxMeter}createNextMeter(e){null!=this.keyMeter&&null==this.nameMeter?this.nameMeter=S.ComboBox.getName2(e):this.keyMeter=S.ComboBox.getKey2(e)}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(dr)),i=(null!=(r=null==r?t.firstOrDefault(e=>e.is(at)):r)&&(this.keyMeter=null==this.keyMeter?new F.R.StiKeyComboBoxMeter:this.keyMeter,this.keyMeter.loadFromJsonObject(r.saveToJsonObject(be.Report))),t.firstOrDefault(e=>e.is(dr)));null!=(i=null==i?t.firstOrDefault(e=>e.is(Te)):i)&&(this.nameMeter=null==this.nameMeter?new F.R.StiNameComboBoxMeter:this.nameMeter,this.nameMeter.loadFromJsonObject(i.saveToJsonObject(be.Report)))}shouldSerializeTextFormat(){return!this.textFormat.is(vt)}get toolboxPosition(){return Be.ComboBoxElement}get localizedName(){return g.get("Components","StiComboBox")}get minSize(){let e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return G.empty;let t=xt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new G(0,t)}set minSize(e){}get maxSize(){let e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return G.empty;let t=xt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new G(0,t)}set maxSize(e){}createNew(){return new fh}}F.R.StiComboBoxElement=fh}let Gn=B.Report.Dashboard.StiDataFilterCreator,jn=B.System.Data.DBNull,Jn=B.Report.Dashboard.StiElementDataCache,Wn=(F.R.StiComboBoxHelper=class{static fetchItems(i,e,s){if(null==e||e==nt.nullTable||0==e.rows.length)return null;let n=this.getNameMeterIndex(e),l=this.getKeyMeterIndex(e);if(-1==n&&1==l)return null;-1==l&&(l=n),-1==n&&(n=l);let a=new P;for(let r of e.rows){let e=r[l];if(null==e)continue;let t=r[n];!s&&this.isBlank(t)||a.add(new F.R.StiComboBoxItem(this.format(i,t),e))}return a}static isBlank(e){return null==e||e==jn.value||"string"==typeof e&&L.isNullOrEmpty(e)}static async fetchDefaultUserFilters(e){if(e.showAllValue)return null;if(e.selectionMode==Hn.Multi)return null;let t=this.getKeyMeterExpression(e);if(null==t)return null;let r=await Jn.getOrCreate(e),i=this.fetchItems(e,r,e.showBlanks);if(null==i||0==i.length)return null;let s=i.stimulsoft().toList().firstOrDefault().value;return Gn.createEqualBasedOnValue(s,t,e).toList()}static getNameMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(F.R.StiNameComboBoxMeter));return null!=t?e.meters.indexOf(t):-1}static getKeyMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(F.R.StiKeyComboBoxMeter));return null!=t?e.meters.indexOf(t):-1}static getKeyMeterExpression(e){if(null!=e.keyMeter)return e.keyMeter.expression;if(null!=e.nameMeter)return e.nameMeter.expression;return null}static format(e,t){var r,r;let i=e.as(tr);return t instanceof w&&!i.textFormat.is(Fr)?t.toShortDateString():Xr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Xr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):i.textFormat.format(t)}},F.R.StiComboBoxItem=class{constructor(e,t=e){this.label=e,this.value=t}toString(){return null!=this.label?this.label:this.value.toString()}},B.Report.Dashboard.ImplementsIStiGroupElement),Un=B.Report.Dashboard.ImplementsIStiDatePickerElement,Kn=B.Report.Dashboard.StiInitialDateRangeSelection,qn=B.Report.Dashboard.StiInitialDateRangeSelectionSource,Yn=B.Report.Dashboard.StiDateSelectionMode,Zn=B.Report.Dashboard.StiDateCondition,Qn=B.Report.Dashboard.IStiDatePickerElement,_n=B.Report.DateTimeRange,$n=B.Report.Range,el=B.Report.Engine.StiVariableHelper;{Ke.add("StiDatePickerElement","Stimulsoft.Dashboard.Export.Tools.StiDatePickerElementExportTool");class xh extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this.userFilters=new P,this.dataFilters=new P,this._style=u.Auto,this.customStyleName="",this.font=new z("Arial",8),this.foreColor=N.transparent,this.shadow=new Ae,this.cornerRadius=new m(0),this.textFormat=new Fr,this.defaultClientRectangle=new O(0,0,200,40),this.helpUrl="user-manual/dashboards_data_filtering_date_picker.htm",this.condition=Zn.GreaterThanOrEqualTo,this.selectionMode=Yn.Single,this.initialRangeSelection=Kn.MonthPrevious,this.initialRangeSelectionSource=qn.Variable}implements(){return xh.ImplementsStiDatePickerElement||(xh.ImplementsStiDatePickerElement=super.implements().concat([Qn,Ie,De,Xt,Xe,...Un,...Re,...ve,...Nt,...Wn,a])),xh.ImplementsStiDatePickerElement}get componentId(){return te.StiDatePickerElement}meta(){return this._hash||(this._hash=[...super.meta(),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new t("ForeColor","",N.transparent),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new i("Condition","",Zn,Zn.GreaterThanOrEqualTo),new i("SelectionMode","",Yn,Yn.Single).set(e=>{let t=ue.parse(Yn,e.value);null!=t&&(this.selectionMode=t)}).setXml(e=>{let t=ue.parse(Yn,e.textContent);null!=t&&(this.selectionMode=t)}),new i("InitialRangeSelection","",Kn,Kn.MonthPrevious),new i("InitialRangeSelectionSource","",qn,qn.Variable),new n("ValueMeter").check(()=>null!=this.valueMeter).set(e=>{let t=f.loadFromJson(e.value).as(Yi);null!=t&&(this.valueMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(Yi);null!=t&&(this.valueMeter=t)}),new i("Style","",u,u.Auto),new l("Group"),new l("CustomStyleName"),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("TextFormat").check(()=>!(this.textFormat.is(vt)||null==this.textFormat)).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e,this.report))])}clone(e){var e,e;let t=super.clone(e);return t.valueMeter=null!=this.valueMeter?this.valueMeter.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}getParentKey(){return null}setParentKey(e){}async applyDefaultFilters(){var e;let i=null==(e=F.Q.StiDatePickerHelper.getVariableSpecifiedAsValue(this.as(Qn)))?void 0:e.as(ws);if(null==i){let e=await F.Q.StiDatePickerHelper.fetchDefaultUserFilters(this);null!=e&&(this.userFilters=e)}else if($n.isRangeType(i.type)&&this.initialRangeSelectionSource==qn.Selection){let e={ref:null},t={ref:null},r=(F.Q.StiDatePickerHelper.calculateRangeFromInitial(this.initialRangeSelection,e,t),new _n(e.ref,t.ref));el.setVariableValue(this.report,i,r),i.valueObject=r}}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==k.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}fetchAllMeters(){let e=new P;return null!=this.valueMeter&&e.add(this.valueMeter),e}getMeters(){let e=new P;return(F.Q.StiDatePickerHelper.isVariableSpecifiedAsValue(this)||null!=this.valueMeter&&this.selectionMode==Yn.AutoRange)&&e.add(this.valueMeter),e}retrieveUsedDataNames(){return null!=this.valueMeter&&this.selectionMode==Yn.AutoRange?As.getMany(this.valueMeter):super.retrieveUsedDataNames()}get isDefined(){return null!=this.valueMeter}addValueMeter2(e){this.valueMeter=null!=e?S.DatePicker.getValue2(e):null}addValueMeter(e){this.valueMeter=null!=e?S.DatePicker.getValue(e.as(F.e.StiMeter)):null}getValueMeter(){return this.valueMeter}removeValueMeter(){this.valueMeter=null}createNewValueMeter(){this.valueMeter=new Yi}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(dr));null!=(r=null==r?t.firstOrDefault(e=>e.is(at)):r)&&(this.valueMeter=null==this.valueMeter?new Yi:this.valueMeter,this.valueMeter.loadFromJsonObject(r.saveToJsonObject(be.Report)))}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}get toolboxPosition(){return Be.DatePickerElement}get localizedName(){return g.get("Components","StiDatePicker")}get minSize(){let e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return G.empty;let t=xt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new G(0,t)}set minSize(e){}get maxSize(){let e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return G.empty;let t=xt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new G(0,t)}set maxSize(e){}createNew(){return new xh}}F.Q.StiDatePickerElement=xh}let tl=B.Report.StiVariableExpressionHelper,rl=B.System.StimulsoftDateTimeRange,il=B.System.NullableDateTime,sl=(F.Q.StiDatePickerHelper=class{static calculateRangeFromInitial(e,t,r){switch(e){case Kn.DayTomorrow:t.ref=w.today.addDays(1),r.ref=w.today.addDays(1);break;case Kn.DayToday:t.ref=w.today,r.ref=w.today;break;case Kn.DayYesterday:t.ref=w.today.addDays(-1),r.ref=w.today.addDays(-1);break;case Kn.Last7Days:t.ref=w.today.addDays(-7),r.ref=w.today;break;case Kn.Last14Days:t.ref=w.today.addDays(-14),r.ref=w.today;break;case Kn.Last30Days:t.ref=w.today.addDays(-30),r.ref=w.today;break;case Kn.WeekNext:t.ref=w.today.addDays(7).firstDayOfWeek(),r.ref=w.today.addDays(7).lastDayOfWeek();break;case Kn.WeekCurrent:t.ref=w.today.firstDayOfWeek(),r.ref=w.today.lastDayOfWeek();break;case Kn.WeekPrevious:t.ref=w.today.addDays(-7).firstDayOfWeek(),r.ref=w.today.addDays(-7).lastDayOfWeek();break;case Kn.MonthNext:t.ref=w.today.addMonths(1).firstDayOfMonth(),r.ref=w.today.addMonths(1).lastDayOfMonth();break;case Kn.MonthCurrent:t.ref=w.today.firstDayOfMonth(),r.ref=w.today.lastDayOfMonth();break;case Kn.MonthPrevious:t.ref=w.today.addMonths(-1).firstDayOfMonth(),r.ref=w.today.addMonths(-1).lastDayOfMonth();break;case Kn.QuarterNext:t.ref=w.today.addMonths(3).firstDayOfQuarter(),r.ref=w.today.addMonths(3).lastDayOfQuarter();break;case Kn.QuarterCurrent:t.ref=w.today.firstDayOfQuarter(),r.ref=w.today.lastDayOfQuarter();break;case Kn.QuarterPrevious:t.ref=w.today.addMonths(-3).firstDayOfQuarter(),r.ref=w.today.addMonths(-3).lastDayOfQuarter();break;case Kn.QuarterFirst:t.ref=w.today.firstDayOfFirthQuarter(),r.ref=w.today.lastDayOfFirthQuarter();break;case Kn.QuarterSecond:t.ref=w.today.firstDayOfSecondQuarter(),r.ref=w.today.lastDayOfSecondQuarter();break;case Kn.QuarterThird:t.ref=w.today.firstDayOfThirdQuarter(),r.ref=w.today.lastDayOfThirdQuarter();break;case Kn.QuarterFourth:t.ref=w.today.firstDayOfFourthQuarter(),r.ref=w.today.lastDayOfFourthQuarter();break;case Kn.YearNext:t.ref=w.today.addYears(1).firstDayOfYear(),r.ref=w.today.addYears(1).lastDayOfYear();break;case Kn.YearCurrent:t.ref=w.today.firstDayOfYear(),r.ref=w.today.lastDayOfYear();break;case Kn.YearPrevious:t.ref=w.today.addYears(-1).firstDayOfYear(),r.ref=w.today.addYears(-1).lastDayOfYear();break;case Kn.DateToWeek:t.ref=w.today.firstDayOfWeek(),r.ref=w.today;break;case Kn.DateToMonth:t.ref=w.today.firstDayOfMonth(),r.ref=w.today;break;case Kn.DateToQuarter:t.ref=w.today.firstDayOfQuarter(),r.ref=w.today;break;case Kn.DateToYear:t.ref=w.today.firstDayOfYear(),r.ref=w.today;break;default:t.ref=w.now,r.ref=w.now;break}}static async fetchDefaultUserFilters(e){let t=this.getValueMeterExpression(e);if(e.selectionMode==Yn.Single)return this.getSingleDefaultUserFilters(e,t);if(e.selectionMode==Yn.Range)return this.getRangeDefaultUserFilters(e.initialRangeSelection,t);if(e.selectionMode==Yn.AutoRange)return this.getAutoRangeDefaultUserFilters(e,t);return null}static getSingleDefaultUserFilters(e,t){let r=this.getFormatedDate(w.now);return new p(null,t,this.getCondition(e),r).toList()}static getRangeDefaultUserFilters(e,t){let r={ref:null},i={ref:null},s=(this.calculateRangeFromInitial(e,r,i),this.getFormatedDate(r.ref)),n=this.getFormatedDate(i.ref);return new p("",t,Ti.Between,s,n,!0,!1).toList()}static async getAutoRangeDefaultUserFilters(e,t){let r=await Jn.getOrCreate(e);if(null==r)return null;let i=r.rows.select(e=>e[0]).where(e=>e instanceof w);if(null==i||!i.any())return null;let s=i.where(e=>e instanceof w).cast().min(),n=i.where(e=>e instanceof w).cast().max(),l=this.getFormatedDate(s),a=this.getFormatedDate(n);return new p("",t,Ti.Between,l,a,!0,!1).toList()}static getValueMeterExpression(e){return null!=e.valueMeter?e.valueMeter.expression:null}static getCondition(e){switch(e.condition){case Zn.EqualTo:return Ti.EqualTo;case Zn.NotEqualTo:return Ti.NotEqualTo;case Zn.GreaterThan:return Ti.GreaterThan;case Zn.GreaterThanOrEqualTo:return Ti.GreaterThanOrEqualTo;case Zn.LessThan:return Ti.LessThan;case Zn.LessThanOrEqualTo:return Ti.LessThanOrEqualTo;default:return Ti.EqualTo}}static getFormatedDate(e){return e.toString("MM/dd/yyyy")}static getVariableSpecifiedAsValue(e){var e;return tl.getVariableSpecifiedAsExpression(e,null==(e=e.getValueMeter())?void 0:e.expression)}static isVariableSpecifiedAsValue(e){var e;return tl.isVariableSpecifiedAsExpression(e,null==(e=e.getValueMeter())?void 0:e.expression)}static getDefaultValue(t){var e;let r=null==(e=this.getVariableSpecifiedAsValue(t))?void 0:e.as(ws);if(null!=r){let e=t.report.dictionary.getVariableValueByName(r.name);if(r.type==w||r.type==il)return v.tryToDateTime(e);if(r.type==_n||r.type==rl)return e.stimulsoft().is(_n)?e:new _n}return w.now}},F.U.StiElementEditorConsts=class{constructor(){this.elementEditor="Stimulsoft.Dashboard.Design.Components.StiElementEditor, Stimulsoft.Dashboard.Design, "+B.StiVersion.versionInfo,this.textFormatEditor="Stimulsoft.Report.Components.TextFormats.Design.StiTextFormatEditor, Stimulsoft.Report.Design, "+B.StiVersion.versionInfo}},F.U.StiElementLayoutConverter=class{},F.U.StiElementStyleConverter=class{},F.U.StiMeterListConverter=class{},F.U.StiTitleConverter=class{},B.Report.StiAbbreviationNumberFormatHelper),nl=(F.i.StiElementBuilder=class{getSeriesKeysLimitCount(e){let t=null;return t=e.isDesigning?100:t}getSeries(e,t,r,i,s=!1){if(null==e||-1==t)return null;let n=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(t,r),l=null!=n&&0<n.length?n[t]:null;if(null!=l&&l instanceof w)return l.toShortDateString();if(s&&null!=l){if("number"==typeof l)return sl.format(l);if("string"==typeof l){let e=At.tryParse(l);if(e.successfully)return sl.format(e.result)}}return this.toString(l)}getValue(e,t,r,i,s){if(null==e||-1==t)return 0;if(i<2)return e.rows.getArrayItem(t).firstOrDefaultAsNumber();let n=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(r,s);return null!=n&&0<n.length?v.tryToNumber(n[t]):0}getTarget(e,t,r,i,s){if(null==e||-1==t)return null;if(i<2)return e.rows.getArrayItem(t).firstOrDefaultAsNumber();let n=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(r,s);return null!=n&&0<n.length?v.tryToNumber(n[t]):0}getNullableTarget(e,t,r,i,s){if(null==e||-1==t)return null;if(i<2)return e.rows.getArrayItem(t).firstOrDefaultAsNullableNumber();let n=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(r,s);return null!=n&&0<n.length?v.tryToNullableNumber(n[t]):null}getNullableValue(e,t,r,i,s){if(null==e||-1==t)return null;if(i<2)return e.rows.getArrayItem(t).firstOrDefaultAsNullableNumber();let n=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(r,s);return null!=n&&0<n.length?v.tryToNullableNumber(n[t]):null}getSeriesKeyValues(e,t,r){if(null==e||-1==t)return new P([""]);let i=null!=r?e.rows.getArrayItem(t).distinct().select(this.replaceDbNull).where(e=>null!=e).take(r):e.rows.getArrayItem(t).distinct().select(this.replaceDbNull).where(e=>null!=e);return i.any()?i:new P([""])}getSeriesKeys(e,t,r){let i=this.getSeriesKeyValues(e,t,r);return null==i?new P([""]):i.select(this.toString)}replaceDbNull(e){return e}toString(e){return null==e?"":e.toString()}toReadableString(e,t){if(Xr.isEligable(e,null==t?void 0:t.culture))return Xr.convert(e,null==t?void 0:t.culture);return this.toString(e)}},B.Base.Meters.IStiMinGaugeMeter);{class El extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.MinGaugeMeter}implements(){return El.ImplementsStiMinGaugeMeter||(El.ImplementsStiMinGaugeMeter=super.implements().concat([nl])),El.ImplementsStiMinGaugeMeter}get localizedName(){return"Min"}}F.S.StiMinGaugeMeter=El}let ll=B.Base.Meters.IStiMaxGaugeMeter;{class kl extends F.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.MaxGaugeMeter}implements(){return kl.ImplementsStiMaxGaugeMeter||(kl.ImplementsStiMaxGaugeMeter=super.implements().concat([ll])),kl.ImplementsStiMaxGaugeMeter}get localizedName(){return"Max"}}F.S.StiMaxGaugeMeter=kl}F.s.StiGaugeIteration=class{};let al=B.Report.Components.Gauge.StiLinearTickLabelCustom,ol=B.Report.Components.Gauge.StiRadialTickLabelCustom,ul=B.Report.Dashboard.Helpers.StiDashboardExpressionHelper,hl=B.Report.Gauge.StiLabelRotationMode,ml=B.Report.Components.Gauge.Primitives.StiIndicatorBase,dl=B.Report.Components.Gauge.StiRadialRange,cl=B.Report.Components.Gauge.StiRadialRangeList,gl=B.Report.Components.Gauge.StiLinearMarker,pl=B.Report.Components.Gauge.StiLinearTickMarkMajor,Sl=B.Report.Components.Gauge.StiLinearTickLabelMajor,wl=B.Report.Gauge.StiRadiusMode,fl=B.System.Drawing.Point,Cl=B.Report.Components.Gauge.StiNeedle,yl=B.Report.Components.Gauge.StiRadialBar,bl=B.Report.Gauge.StiTickMarkSkin,xl=B.Report.Gauge.StiGaugeType,Tl=B.Report.Components.StiGauge,Fl=B.Report.Gauge.StiPlacement,Ml=B.Report.Components.Gauge.StiLinearRange,vl=B.Report.Components.Gauge.StiLinearRangeList,Dl=B.Report.Gauge.StiGaugeRangeMode,Al=B.Report.Components.Gauge.StiLinearScale,Il=B.Report.Gauge.StiGaugeRangeType,Rl=B.Report.Gauge.StiGaugeCalculationMode,El=F.S.StiMinGaugeMeter,kl=F.S.StiMaxGaugeMeter,Ll=B.Report.Components.Gauge.StiRadialTickLabelMajor,Vl=B.Report.Components.Gauge.StiRadialTickMarkMajor,Bl=B.Report.Components.Gauge.StiRadialScale,Nl=B.Data.Exceptions.StiTypeNotRecognizedException,j=B.Report.Dashboard.Styles.StiDashboardStyleHelper,Pl=F.s.StiGaugeIteration,Ol=B.Report.Gauge.StiMarkerSkin,zl=B.Report.Components.Gauge.StiLinearTickMarkCustom,Hl=B.Report.Components.Gauge.StiLinearBar,Xl=B.Report.Components.Gauge.StiRadialTickMarkCustom,Gl=B.Report.Dashboard.StiLabelPlacement;{class Ql extends F.i.StiElementBuilder{findMinMaxValues(t,r,i,s,d,c,g,p,S,w,e,n){let f,C;for(let e of i){let n=this.getValue(s,d,c,g,this.toString(e)),l=this.getTarget(s,p,c,g,this.toString(e)),a=0,o=0,u=(n==S&&n==w&&(o=0==n?(a=-50,50):(a=n-n,n+n)),5);switch(t.type){case xl.FullCircular:case xl.HalfCircular:{let e=Math.min(r.width,r.height);u=e<330?2:e<450?5:e<650?7:10}break;case xl.Linear:{let e=r.height;u=e<330?2:e<450?5:e<650?7:10}break;case xl.HorizontalLinear:{let e=r.width;u=e<330?2:e<500?5:e<650?8:10}break;case xl.Bullet:{let e=r.width;u=e<330?2:5}break}let h=0,m=0;if(t.calculationMode==Rl.Auto){let t=this.getSummary(n,a,o);if(n<=a&&(a=Math.round(n-.3*t)),n>=o&&(o=Math.round(n+.3*t)),null!=l){let e=l;e<a&&(a=Math.round(e-.3*t)),e>o&&(o=Math.round(e+.3*t))}if(h=a,m=o,-1<n&&n<1){(null==f||h<f)&&(f=h),(null==C||m>C)&&(C=m);continue}let e=h%5,r=(0!=e&&(h-=e),m-h),i=r/u,s=(0<i-i&&(i+=1),i%5);0!=s&&(i+=5-s),r=i*u,m=h+r}else h=t.minimum,m=t.maximum;(null==f||h<f)&&(f=h),(null==C||m>C)&&(C=m)}e.ref=f,n.ref=C}async render(e,t,r){return this.render2(e,t,r)()}render2(y,b,x){this.storedCulture=Gr.set(y.report);try{let c=this.getValueMeterIndex(x),g=this.getSeriesMeterIndex(x),p=this.getTargetMeterIndex(x),e=this.getMinMeterIndex(x),t=this.getMaxMeterIndex(x),r=this.getSeriesKeyValues(x,g,this.getSeriesKeysLimitCount(y)),S=r.count2(),i=this.getMinValue(y,x,e),s=this.getMaxValue(y,x,t),w={ref:null},n={ref:null},f=(this.findMinMaxValues(y,b,r,x,c,g,S,p,i,s,w,n),w.ref),C=n.ref;return async()=>r.selectAsync(async e=>{let t=this.getValue(x,c,g,S,this.toString(e)),r=this.getNullableTarget(x,p,g,S,this.toString(e)),i={ref:null},s={ref:null},n={ref:null},l=(this.fundActualValues(y,b,t,f,C,i,s,n),i.ref),a=w.ref,o=n.ref,u=await this.createScale(y,o,b,f,C,r),h=(u.seriesKey=e,u.items.toList().where(e=>e.is(ml)).cast());for(let e of h)e.valueObj=t;if(u.minimum=f,u.maximum=C,u.majorInterval=l,u.minorInterval=a,y.type==xl.Linear||y.type==xl.HorizontalLinear||y.type==xl.Bullet){let e=u.items.toList().where(e=>e.is(vl)).cast().firstOrDefault();null!=e&&1==e.ranges.length&&(e.ranges.getByIndex(0).startValue=u.minimum,e.ranges.getByIndex(0).endValue=u.maximum)}let m=new Tl(y.clientRectangle),d=(m.allowApplyStyle=!0,m.shortValue=y.shortValue,m.previousAnimations=y.previousAnimations,Ql.setStyle(y,m),m.scales.add(u),m.applyStyle(m.style),new Pl);return d.gauge=m,d.series=this.getSeries(x,g,e,y.report,y.shortValue),d},this)}finally{F.h.StiCultureHelper.restore(this.storedCulture)}}fundActualValues(e,t,r,i,s,n,l,a){let o=n.ref,u=l.ref,h=a.ref,m=5;switch(h=!1,e.type){case xl.FullCircular:case xl.HalfCircular:{let e=Math.min(t.width,t.height);e<330?(m=2,h=!0):m=e<450?5:e<650?7:10}break;case xl.Linear:{let e=t.height;e<330?(m=2,h=!0):m=e<450?5:e<650?7:10}break;case xl.HorizontalLinear:{let e=t.width;e<330?(m=2,h=!0):m=e<500?5:e<650?8:10}break;case xl.Bullet:{let e=t.width;e<330?(m=2,h=!0):m=5}break}if(e.calculationMode!=Rl.Auto)return 0==(o=Math.abs(Math.round((e.maximum-e.minimum)/m)))&&(o=1),u=o/2,n.ref=o,l.ref=u,void(a.ref=h);{let e=this.getSummary(r,i,s);o=Math.abs(Math.round(e/m)),u=o/2,n.ref=o,l.ref=u}if(-1<r&&r<1)return;let d=s-i,c=d/m,g=(0<c-c&&(c+=1),c%5);0!=g&&(c+=5-g),d=c*m,o=Math.abs(d/m),u=o/2,n.ref=o,l.ref=u,a.ref=h}getSummary(e,t,r){let i=Math.round(r-t),s=Math.max(e,i);return s=Math.max(s,t),s=0==(s=Math.max(s,r))?100:s}static setStyle(e,t){if(e.style!=u.Custom)return void(t.style=j.getGaugeStyle(e));let r=e.report.styles.getCustomGaugeStyle(e.customStyleName);if(null!=r)return t.style=r,t.customStyleName=e.customStyleName,t.brush=new M(j.getBackColor(e)),void(t.allowApplyStyle=!1);t.style=j.getGaugeStyle2(u.Blue)}static getTargetBrush(e){if(e.style!=u.Custom)return new M(j.getGaugeStyle(e).core.targetColor);let t=e.report.styles.getCustomGaugeStyle(e.customStyleName);if(null!=t&&null!=t.core)return new M(t.core.targetColor);return new M(j.getGaugeStyle2(u.Blue).core.targetColor)}static getTickMarkBrush(e){if(e.style!=u.Custom)return j.getGaugeStyle(e).core.tickMarkMajorBrush;let t=e.report.styles.getCustomGaugeStyle(e.customStyleName);if(null!=t&&null!=t.core)return t.core.tickMarkMajorBrush;return j.getGaugeStyle2(u.Blue).core.tickMarkMajorBrush}static getTickLabelBrush(e){if(e.style!=u.Custom)return j.getGaugeStyle(e).core.tickLabelMajorTextBrush;let t=e.report.styles.getCustomGaugeStyle(e.customStyleName);if(null!=t&&null!=t.core)return t.core.tickLabelMajorTextBrush;return j.getGaugeStyle2(u.Blue).core.tickLabelMajorTextBrush}async createScale(e,t,r,i,s,n=null){switch(e.type){case xl.FullCircular:return this.createFullCircularScale(e,t,r,i,s,n);case xl.HalfCircular:return this.createHalfCircularScale(e,t,r,i,s,n);case xl.Linear:return this.createLinearScale(e,i,s,!1,n);case xl.HorizontalLinear:return this.createLinearScale(e,i,s,!0,n);case xl.Bullet:return this.createBullet(e,i,s,n);default:throw new Nl(e.type)}}static calculateMinorInterval(e,t){if(e<0&&t<0)return Math.abs((e-t)/5);if(e<0)return(t+Math.abs(e))/5;return(t-e)/5}async createFullCircularScale(t,r,e,i,s,n=null){let l=Math.min(e.width,e.height),a=l<150,o=l<75,u=new Bl,h=(u.startAngle=120,u.sweepAngle=300,u.startWidth=.05,u.endWidth=.05,u.minimum=0,u.maximum=180,u.majorInterval=90,u.minorInterval=10,u.borderBrush=new Ne,u.brush=new Ne,await Ql.addRadialRanges(t,i,s,u)),m=new yl,d=(m.startWidth=.1,m.endWidth=.1,m.offset=.1,m.placement=Fl.Outside,m.valueObj=90,u.items.add(m),new Cl);if(d.relativeHeight=.3,d.relativeWidth=.4,d.startWidth=.1,d.endWidth=1,d.capBrush=new Ne,d.brush=new Ne,d.valueObj=90,u.items.add(d),t.labels.visible&&!o){let e=new Vl;e.relativeWidth=.03,e.relativeHeight=.006,e.skin=bl.Rectangle,e.brush=Ql.getTickMarkBrush(t),t.labels.placement==Gl.Inside?(e.placement=Fl.Inside,e.offset=h?0:-.1):(e.placement=Fl.Outside,e.offset=.2),u.items.add(e)}if(t.labels.visible&&!a){let e=new Ll;e.allowApplyStyle=!1,e.textBrush=Ql.getTickLabelBrush(t),e.labelRotationMode=r?hl.None:t.labels.rotationMode,e.formatService=t.valueFormat,null!=n&&(e.skipValuesObj=[At.getValueOrDefault(n)]),o&&(e.font=new z("Arial",8)),t.labels.placement==Gl.Inside?(e.placement=Fl.Inside,e.offset=h?.07:-.03):(e.placement=Fl.Outside,e.offset=.27),u.items.add(e)}if(null!=n){let e=new Xl;if(e.placement=Fl.Overlay,e.offset=-.15,e.relativeWidth=.1,e.relativeHeight=.02,e.borderWidth=0,e.brush=Ql.getTargetBrush(t),e.valueObj=n.stimulsoft().toNumber(),u.items.add(e),t.targetSettings.showLabel){let e=new ol;switch(e.allowApplyStyle=!1,e.formatService=t.valueFormat,e.textBrush=Ql.getTargetBrush(t),e.labelRotationMode=r?hl.None:t.labels.rotationMode,e.placement=t.targetSettings.placement,e.valueObj=At.getValueOrDefault(n),e.textObj=At.getValueOrDefault(n).toString(),t.targetSettings.placement){case Fl.Overlay:e.offset=-.12;break;case Fl.Outside:e.offset=.18;break}u.items.add(e)}}return u}async createHalfCircularScale(t,r,e,i,s,n=null){let l=Math.min(e.width,e.height),a=l<150,o=l<75,u=new Bl,h=(u.startAngle=180,u.sweepAngle=180,u.startWidth=.05,u.endWidth=.05,u.minimum=0,u.maximum=180,u.radius=.92,u.majorInterval=Ql.calculateMinorInterval(i,s),u.center=new fl(.5,.7),u.radiusMode=wl.Auto,u.brush=new M(N.fromArgb(238,238,238)),new yl);if(h.startWidth=.05,h.endWidth=.05,h.offset=.1,h.valueObj=135,h.placement=Fl.Overlay,h.brush=new M(N.red),u.items.add(h),await Ql.addRadialRanges(t,i,s,u),t.labels.visible){if(!o){let e=new Vl;e.offset=.05,e.relativeWidth=.03,e.relativeHeight=.006,e.skin=bl.Rectangle,e.brush=Ql.getTickMarkBrush(t),t.labels.placement==Gl.Inside?e.placement=Fl.Inside:e.placement=Fl.Outside,u.items.add(e)}if(!a){let e=new Ll;e.allowApplyStyle=!1,e.textBrush=Ql.getTickLabelBrush(t),e.labelRotationMode=r?hl.None:t.labels.rotationMode,e.formatService=t.valueFormat,null!=n&&(e.skipValuesObj=[At.getValueOrDefault(n)]),t.labels.placement==Gl.Inside?(e.placement=Fl.Inside,e.offset=.12):(e.placement=Fl.Outside,e.offset=.1),u.items.add(e)}}if(null!=n){let e=new Xl;if(e.placement=Fl.Overlay,e.relativeWidth=.1,e.relativeHeight=.02,e.borderWidth=0,e.brush=Ql.getTargetBrush(t),e.valueObj=n.stimulsoft().toNumber(),u.items.add(e),t.targetSettings.showLabel){let e=new ol;switch(e.allowApplyStyle=!1,e.formatService=t.valueFormat,e.textBrush=Ql.getTargetBrush(t),e.labelRotationMode=r?hl.None:t.labels.rotationMode,e.placement=t.targetSettings.placement,e.valueObj=At.getValueOrDefault(n),e.textObj=At.getValueOrDefault(n).toString(),t.targetSettings.placement){case Fl.Inside:e.offset=.12;break;case Fl.Outside:e.offset=.05;break}u.items.add(e)}}let m=new Cl;return m.relativeHeight=.05,m.relativeWidth=.4,m.startWidth=.1,m.endWidth=.2,m.capBrush=new M(N.white),m.capBorderBrush=new M(N.fromArgb(0,150,136)),m.capBorderWidth=2,m.brush=new M(N.fromArgb(0,150,136)),m.borderWidth=0,m.textBrush=new M(N.fromArgb(0,150,136)),m.valueObj=135,u.items.add(m),u}async createLinearScale(i,e,t,s,n){let r=j.getGaugeStyle(i),l=new Al;if(l.relativeHeight=s?.9:.92,l.orientation=s?B.System.Drawing.Orientation.Horizontal:B.System.Drawing.Orientation.Vertical,l.startWidth=.1,l.endWidth=.1,l.maximum=100,l.majorInterval=Ql.calculateMinorInterval(e,t),l.borderBrush=new Ne,l.brush=r.core.linearScaleBrush,i.labels.visible){let e=new Sl,t=(e.formatService=i.valueFormat,e.font=new z("Arial",8),e.allowApplyStyle=!1,e.textBrush=Ql.getTickLabelBrush(i),null!=n&&(e.skipValuesObj=[At.getValueOrDefault(n)]),ul.getForeColor(i,i.foreColor)),r=(N.transparent.equals(t)||(e.allowApplyStyle=!1,e.textBrush=new M(t)),new pl);r.relativeHeight=s?.03:.003,r.relativeWidth=s?.003:.03,r.borderBrush=new Ne,r.borderWidth=0,r.brush=Ql.getTickMarkBrush(i),i.labels.placement==Gl.Inside?(r.placement=Fl.Inside,e.placement=Fl.Inside):(r.placement=Fl.Outside,e.placement=Fl.Outside),e.offset=.04,l.items.add(e),l.items.add(r)}if(await Ql.addLinearRanges(i,e,t,l),null!=n){let e=new zl;if(e.placement=Fl.Overlay,e.relativeWidth=s?.012:.1,e.relativeHeight=s?.1:.012,e.borderWidth=0,e.brush=Ql.getTargetBrush(i),e.valueObj=null!=n?n.stimulsoft().toNumber():0,l.items.add(e),i.targetSettings.showLabel){let e=new al;e.allowApplyStyle=!1,e.formatService=i.valueFormat,e.textBrush=Ql.getTargetBrush(i),e.placement=i.targetSettings.placement,e.offset=.04,e.valueObj=At.getValueOrDefault(n),e.textObj=At.getValueOrDefault(n).toString(),l.items.add(e)}}let a=new gl;return a.skin=s?Ol.TriangleBottom:Ol.TriangleRight,a.relativeWidth=s?.04:.1,a.relativeHeight=s?.1:.04,a.placement=Fl.Overlay,a.valueObj=60,a.brush=new M(N.fromArgb(205,220,57)),l.items.add(a),l}static async addRadialRanges(a,o,u,e){if(0<a.ranges.length&&a.rangeType==Il.Color){let l=new cl;if(a.rangeMode==Dl.Percentage)for(let n of a.ranges){let e=v.parseNumber(await rt.parseAsync(n.startExpression,a)),t=v.parseNumber(await rt.parseAsync(n.endExpression,a)),r=o+(u-o)/100*e,i=o+(u-o)/100*t,s=new dl;s.placement=Fl.Overlay,s.startValue=r,s.endValue=i,s.startWidth=.05,s.endWidth=.05,s.borderBrush=new Ne,s.brush=new M(n.color),l.ranges.add(s)}else for(let i of a.ranges){let e=v.parseNumber(await rt.parseAsync(i.startExpression,a)),t=v.parseNumber(await rt.parseAsync(i.endExpression,a)),r=new dl;r.placement=Fl.Overlay,r.startValue=e,r.endValue=t,r.startWidth=.05,r.endWidth=.05,r.borderBrush=new Ne,r.brush=new M(i.color),l.ranges.add(r)}return e.items.add(l),0<l.ranges.length}return!1}async createBullet(r,e,t,i=null){let s=new Al;if(s.orientation=B.System.Drawing.Orientation.Horizontal,s.relativeHeight=.85,s.startWidth=.01,s.endWidth=.01,s.maximum=100,s.majorInterval=Ql.calculateMinorInterval(e,t),s.borderBrush=new Ne,s.brush=new Ne,await Ql.addLinearRanges(r,e,t,s),r.labels.visible){let e=new Sl,t=(e.formatService=r.valueFormat,e.textBrush=Ql.getTickLabelBrush(r),null!=i&&(e.skipValuesObj=[At.getValueOrDefault(i)]),new pl);t.relativeHeight=.03,t.relativeWidth=.003,t.borderBrush=new Ne,t.borderWidth=0,t.brush=Ql.getTickMarkBrush(r),r.labels.placement==Gl.Inside?(e.placement=Fl.Inside,e.offset=.2,t.placement=Fl.Inside):(e.placement=Fl.Outside,e.offset=.2,t.placement=Fl.Outside),t.offset=.15,s.items.add(t),s.items.add(e)}if(null!=i){let e=new zl;if(e.placement=Fl.Overlay,e.relativeWidth=.008,e.relativeHeight=.1,e.borderWidth=0,e.brush=Ql.getTargetBrush(r),e.valueObj=i.stimulsoft().toNumber(),s.items.add(e),r.targetSettings.showLabel){let e=new al;e.allowApplyStyle=!1,e.formatService=r.valueFormat,e.textBrush=Ql.getTargetBrush(r),e.placement=r.targetSettings.placement,e.offset=.25,e.valueObj=At.getValueOrDefault(i),e.textObj=At.getValueOrDefault(i).toString(),s.items.add(e)}}let n=new Hl;return n.valueObj=60,n.startWidth=.15,n.endWidth=.15,n.brush=new M(N.fromArgb(205,220,57)),s.items.add(n),s}static async addLinearRanges(o,u,h,e,m=!1){if(0<o.ranges.length&&o.rangeType==Il.Color){let l=new vl,a=o.type==xl.Bullet?.3:.05;if(o.rangeMode==Dl.Percentage)for(let n of o.ranges){let e=v.parseNumber(await rt.parseAsync(n.startExpression,o)),t=v.parseNumber(await rt.parseAsync(n.endExpression,o)),r=u+(h-u)/100*e,i=u+(h-u)/100*t,s=new Ml;s.placement=Fl.Overlay,s.startValue=r,s.endValue=i,s.startWidth=a,s.endWidth=a,s.borderBrush=new Ne,s.brush=new M(n.color),m&&(s.borderBrush=new M(N.fromArgb(150,139,138,135))),l.ranges.add(s)}else for(let i of o.ranges){let e=v.parseNumber(await rt.parseAsync(i.startExpression,o)),t=v.parseNumber(await rt.parseAsync(i.endExpression,o)),r=new Ml;r.placement=Fl.Overlay,r.startValue=e,r.endValue=t,r.startWidth=a,r.endWidth=a,r.borderBrush=new Ne,r.brush=new M(i.color),m&&(r.borderBrush=new M(N.fromArgb(150,139,138,135))),l.ranges.add(r)}e.items.add(l)}}getMinValue(e,t,r){if(-1==r)return e.minimum;let i=e.calculationMode==Rl.Auto?t.rows.getArrayItem(r).firstOrDefaultAsNullableNumber():e.minimum;return null!=i?i:e.minimum}getMaxValue(e,t,r){if(-1==r)return e.maximum;let i=e.calculationMode==Rl.Auto?t.rows.getArrayItem(r).firstOrDefaultAsNullableNumber():e.maximum;return null!=i?i:e.maximum}getValueMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(ts));return null!=t?e.meters.indexOf(t):-1}getMinMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(El));return null!=t?e.meters.indexOf(t):-1}getMaxMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(kl));return null!=t?e.meters.indexOf(t):-1}getSeriesMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(es));return null!=t?e.meters.indexOf(t):-1}getTargetMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(rs));return null!=t?e.meters.indexOf(t):-1}}F.i.StiGaugeElementBuilder=Ql}let jl=B.Report.Dashboard.ImplementsIStiGaugeRange,Jl=B.Report.Dashboard.IStiGaugeRange;{class Yl{constructor(e,t,r){this.color=N.red,this.startExpression="0",this.endExpression="100",null!=e&&(this.color=e),null!=t&&(this.startExpression=t),null!=r&&(this.endExpression=r)}implements(){return Yl.ImplementsStiGaugeRange||(Yl.ImplementsStiGaugeRange=[a,Jl,...jl,dt]),Yl.ImplementsStiGaugeRange}clone(){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new t("Color","",N.red),new l("StartExpression"),new l("EndExpression")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}shouldSerializeColor(){return!N.red.equals(this.color)}get start(){return v.tryToNumber(this.startExpression)}set start(e){this.currentCulture=Hr.currentCulture;try{Hr.currentCulture=Hr.cultures["en-US"],this.startExpression=e.toString()}finally{Hr.currentCulture=this.currentCulture}}get end(){return v.tryToNumber(this.endExpression)}set end(e){this.currentCulture=Hr.currentCulture;try{Hr.currentCulture=Hr.cultures["en-US"],this.endExpression=e.toString()}finally{Hr.currentCulture=this.currentCulture}}static loadFromJson(e){let t=new Yl;return t.loadFromJsonObject(e),t}static loadFromXml(e){let t=new Yl;return t.loadFromXml(e),t}saveToString(){return this.saveToJsonObject(be.Report).serialize()}getStringRepresentation(){return this.start+` - `+this.end}}F.S.StiGaugeRange=Yl}{class ql extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(),this.ident=wr.Gauge,this.availableOnClick=fr.None,this.availableOnHover=Cr.None,this.availableOnDataManipulation=yr.AllowSorting,this.allowUserSorting=!0,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.fileName=e),null!=t&&(this.headerText=t),null!=r&&(this.footerText=r),null!=i&&(this.showFullScreenButton=i),null!=s&&(this.showSaveButton=s),null!=n&&(this.allowUserSorting=n),null!=l&&(this.showViewDataButton=l)}implements(){return ql.ImplementsIStiGaugeDashboardInteraction||(ql.ImplementsIStiGaugeDashboardInteraction=super.implements().concat([_s,a,$s])),ql.ImplementsIStiGaugeDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new h("AllowUserSorting","",!0),new h("ShowFullScreenButton","",!0),new h("ShowSaveButton","",!0),new h("ShowViewDataButton","",!0),new l("FileName"),new l("HeaderText"),new l("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout&&this.allowUserSorting}}F.g.StiGaugeDashboardInteraction=ql}let Wl=B.Report.Dashboard.IStiGaugeLabels;{class $l{constructor(e,t,r){this.visible=!0,this.placement=Gl.Inside,this.rotationMode=hl.Automatic,null!=e&&(this.visible=e),null!=t&&(this.placement=t),null!=r&&(this.rotationMode=r)}implements(){return $l.ImplementsStiGaugeLabels||($l.ImplementsStiGaugeLabels=[Wl,a]),$l.ImplementsStiGaugeLabels}meta(){return this._hash||(this._hash=[new h("Visible","",!0),new i("Placement","",Gl,Gl.Inside),new i("RotationMode","",hl,hl.Automatic)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return this.visible&&this.placement==Gl.Inside&&this.rotationMode==hl.Automatic}}F.S.StiGaugeLabels=$l}let Ul=B.Report.Dashboard.IStiGaugeTarget;{class Kl{constructor(e,t){this.showLabel=!0,this.placement=Fl.Inside,null!=e&&(this.showLabel=e),null!=t&&(this.placement=t)}implements(){return Kl.ImplementsStiGaugeTarget||(Kl.ImplementsStiGaugeTarget=[Ul,a]),Kl.ImplementsStiGaugeTarget}meta(){return this._hash||(this._hash=[new h("ShowLabel","",!0),new i("Placement","",Fl,Fl.Inside)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return this.showLabel&&this.placement==Fl.Inside}}F.S.StiGaugeTarget=Kl}let Kl=F.S.StiGaugeTarget,ql=F.g.StiGaugeDashboardInteraction,Yl=F.S.StiGaugeRange,Zl=B.Report.Dashboard.ImplementsIStiGaugeElement,Ql=F.i.StiGaugeElementBuilder,_l=B.Report.Dashboard.IStiGaugeElement,$l=F.S.StiGaugeLabels;{Ke.add("StiGaugeElement","Stimulsoft.Dashboard.Export.Tools.StiGaugeElementExportTool");class Rh extends F.e.StiElement{constructor(e=O.empty){super(e),this.dataMode=ln.UsingDataFields,this.group="",this.title=new Fn,this.layout=new vs,this.crossFiltering=!0,this.shadow=new Ae,this.cornerRadius=new m(0),this.font=new z("Arial",13),this.foreColor=N.transparent,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.dataFilters=new P,this.userSorts=new P,this._style=u.Auto,this.customStyleName="",this.helpUrl="user-manual/dashboards_gauge.htm",this.valueFormat=new Mr(null,null,null,0,null,null,null,null,null,F.a.StiTextFormatState.DecimalDigits|F.a.StiTextFormatState.Abbreviation),this.shortValue=!0,this.labels=new $l,this.targetSettings=new Kl,this.minimum=0,this.maximum=100,this.calculationMode=B.Report["Gauge"].StiGaugeCalculationMode.Auto,this.rangeMode=B.Report["Gauge"].StiGaugeRangeMode.Percentage,this.rangeType=B.Report["Gauge"].StiGaugeRangeType.None,this.type=B.Report["Gauge"].StiGaugeType.FullCircular,this.ranges=new P,this.isSampleForStyles=!1,this.title.text=this.localizedName,this.dashboardInteraction=new ql,this.previousAnimations=new P}implements(){return Rh.ImplementsStiGaugeElement||(Rh.ImplementsStiGaugeElement=super.implements().concat([_l,Ie,De,pe,Gt,er,Ms,Er,Ts,...Zl,...Re,...ve,...Ds,...Pt,...Qt,...Fs,a])),Rh.ImplementsStiGaugeElement}clone(e){var e,e,e,e;let t=super.clone(e);return t.value=null!=this.value?this.value.clone():null,t.series=null!=this.series?this.series.clone():null,t.target=null!=this.target?this.target.clone():null,t.valueFormat=null!=this.valueFormat?this.valueFormat.clone():null,t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.labels=null==(e=this.labels)?void 0:e.clone(),t.targetSettings=null==(e=this.targetSettings)?void 0:e.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("UserSorts").get(e=>o.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("Ranges").get(e=>o.Serialize.objectArray(this.ranges,e)).set(e=>this.ranges.addRange(e.value.properties().select(e=>Yl.loadFromJson(e.value)))).setXml(e=>this.ranges.addRange(e.childNodes.select(e=>Yl.loadFromXml(e)))),new T("Minimum","",0),new T("Maximum","",100),new i("CalculationMode","",B.Report["Gauge"].StiGaugeCalculationMode,B.Report["Gauge"].StiGaugeCalculationMode.Auto),new i("RangeMode","",B.Report["Gauge"].StiGaugeRangeMode,B.Report["Gauge"].StiGaugeRangeMode.Percentage),new i("Type","",B.Report["Gauge"].StiGaugeType,B.Report["Gauge"].StiGaugeType.FullCircular),new i("RangeType","",B.Report["Gauge"].StiGaugeRangeType,B.Report["Gauge"].StiGaugeRangeType.None),new h("ShortValue","",!0),new h("CrossFiltering","",!0),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new n("Labels").check(()=>null!=this.labels),new n("TargetSettings").check(()=>null!=this.targetSettings),new n("Value").check(()=>null!=this.value).set(e=>{let t=f.loadFromJson(e.value).as(F.S.StiValueGaugeMeter);null!=t&&(this.value=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.S.StiValueGaugeMeter);null!=t&&(this.value=t)}),new n("Series").check(()=>null!=this.series).set(e=>{let t=f.loadFromJson(e.value).as(es);null!=t&&(this.series=t)}).setXml(e=>{let t=f.loadFromXml(e).as(es);null!=t&&(this.series=t)}),new n("Target").check(()=>null!=this.target).set(e=>{let t=f.loadFromJson(e.value).as(F.S.StiTargetGaugeMeter);null!=t&&(this.target=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.S.StiTargetGaugeMeter);null!=t&&(this.target=t)}),new n("Title").check(()=>null!=this.title).set(e=>this.title=Fn.createFromJsonObject(e.value)).setXml(e=>this.title=Fn.createFromXml(e)),new n("Layout").check(()=>null!=this.layout).set(e=>this.layout=vs.createFromJsonObject(e.value)).setXml(e=>this.layout=vs.createFromXml(e)),new t("ForeColor","",N.transparent),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new i("DataMode","",ln,ln.UsingDataFields),new l("ManuallyEnteredData"),new i("Style","",u,u.Auto),new l("Group"),new l("CustomStyleName"),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("ValueFormat").check(()=>null!=this.valueFormat).set(e=>this.valueFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.valueFormat=$t.loadFormatFromXml(e,this.report)),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(ql)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(ql);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(ql);null!=t&&(this.dashboardInteraction=t)})])}get componentId(){return te.StiGaugeElement}addValue2(e){this.value=null!=e?S.Gauge.getValue2(e):null}addValue(e){this.value=S.Gauge.getValue(e.as(F.e.StiMeter))}removeValue(){this.value=null}getValue(){return this.value}getValue2(e){return null!=e?S.Gauge.getValue(e.as(F.e.StiMeter)):null}createNewValue(){this.value=new F.S.StiValueGaugeMeter,this.value.expression="Sum()"}addSeries2(e){this.series=null!=e?S.Gauge.getSeries2(e):null}addSeries(e){this.series=S.Gauge.getSeries(e.as(F.e.StiMeter))}removeSeries(){this.series=null}getSeries(){return this.series}getSeries2(e){return null!=e?S.Gauge.getSeries(e.as(F.e.StiMeter)):null}createNewSeries(){this.series=new es}addTarget2(e){this.target=null!=e?S.Gauge.getTarget2(e):null}addTarget(e){this.target=S.Gauge.getTarget(e.as(F.e.StiMeter))}removeTarget(){this.target=null}getTarget(){return this.target}getTarget2(e){return null!=e?S.Gauge.getTarget(e.as(F.e.StiMeter)):null}createNewTarget(){this.target=new F.S.StiTargetGaugeMeter}getRanges(){let e=new P;return e.addRange(this.ranges),e}getPreferedColor(){if(this.ranges.all(e=>!N.green.equals(e.color)))return N.green;if(this.ranges.all(e=>!N.yellow.equals(e.color)))return N.yellow;if(this.ranges.all(e=>!N.red.equals(e.color)))return N.red;return N.orange}addRange(){let e=new Yl;return e.color=this.getPreferedColor(),this.ranges.add(e),e}removeRange(e){e<this.ranges.length&&this.ranges.removeAt(e)}createdDefaultRanges(){this.ranges.clear(),this.ranges.add(new Yl(N.red,"0","33")),this.ranges.add(new Yl(N.yellow,"33","66")),this.ranges.add(new Yl(N.green,"66","100"))}getManuallyEnteredDataTable(){if(this.dataMode!=ln.ManuallyEnteringData)return null;return F.e.StiManuallyEnteredDataParser.getGaugeDataTable(this.manuallyEnteredData,this)}async getGaugeComponent(e=null){let t=await Jn.getOrCreate(this),r=(new Ql).render2(this,null!=e?e:this.clientRectangle.size,t),i=new B.Report.Components.StiGauge;return 1==(await r()).count2()&&((i=(await r()).firstOrDefault().gauge).report=this.report,i.page=this.page,i.name=this.name+`_Content`,i.clientRectangle=null!=e?new O(0,0,e.width,e.height):this.clientRectangle.clone(),i.brush=new M(this.backColor)),i}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(dr)),i=(null!=(r=null==r?r=t.firstOrDefault(e=>e.is(at)):r)&&(this.value=null==this.value?new F.S.StiValueGaugeMeter:this.value,this.value.loadFromJsonObject(r.saveToJsonObject(be.Report))),t.firstOrDefault(e=>e.is(ai))),s=(null!=(i=null==i?t.firstOrDefault(e=>e.is(Te)):i)&&(this.series=null==this.series?new es:this.series,this.series.loadFromJsonObject(i.saveToJsonObject(be.Report))),t.firstOrDefault(e=>e.is(oi)));null!=s&&(this.target=null==this.target?new F.S.StiTargetGaugeMeter:this.target,this.target.loadFromJsonObject(s.saveToJsonObject(be.Report))),null==this.dashboardInteraction&&(this.dashboardInteraction=new ql)}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}fetchAllMeters(){let e=new P;return this.dataMode==ln.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.series&&e.add(this.series),null!=this.target&&e.add(this.target)),e}getMeters(){let r=new P;if(this.dataMode==ln.UsingDataFields){if(null!=this.value&&(this.value.key=Q.getOrGeneratedKey(this.value.key),r.add(this.value),this.calculationMode==B.Report["Gauge"].StiGaugeCalculationMode.Auto)){let e=new F.S.StiMinGaugeMeter,t=(e.key=this.value.key,e.expression=ls.replaceFunction(this.value.expression,"Min"),r.add(e),new F.S.StiMaxGaugeMeter);t.key=this.value.key,t.expression=ls.replaceFunction(this.value.expression,"Max"),r.add(t)}null!=this.series&&r.add(this.series),null!=this.target&&r.add(this.target)}return r}retrieveUsedDataNames(){return this.dataMode==ln.UsingDataFields?As.getMany(this.value,this.series,this.target):null}get isDefined(){return null!=this.value||null!=this.series||null!=this.target||this.dataMode==ln.ManuallyEnteringData}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&13==this.font.sizeInPoints&&this.font.style==k.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return Be.GaugeElement}get localizedName(){return g.get("Components","StiGauge")}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}static getValueFormatDefault(){return new Mr(null,null,null,0,null,null,null,null,null,F.a.StiTextFormatState.DecimalDigits|F.a.StiTextFormatState.Abbreviation)}shouldSerializeValueFormat(){return this.valueFormat.stimulsoft().equals(Rh.getValueFormatDefault())}ShouldSerializeLabels(){return null==this.labels||!this.labels.isDefault}shouldSerializeTargetSettings(){return null==this.targetSettings||!this.targetSettings.isDefault}createNew(){return new Rh}}F.S.StiGaugeElement=Rh}F._.StiGaugeRangeConverter=class{};let ea=F.H.StiXChartMeter,ta=F.H.StiStartValueChartMeter;F.G.StiMeterCreator=class{static neww(e){if(L.isNullOrEmpty(e))return null;let t,r=At.tryParse(e);return null!=(t=r.successfully?ue.parse(F.e.StiMeterIdent,r.result):ue.parse(F.e.StiMeterIdent,e))?this.neww2(t):null}static neww2(e){switch(e){case F.e.StiMeterIdent.ArgumentChartMeter:return new ds;case F.e.StiMeterIdent.SeriesChartMeter:return new gs;case F.e.StiMeterIdent.ValueChartMeter:return new cs;case F.e.StiMeterIdent.StartValueChartMeter:return new ta;case F.e.StiMeterIdent.EndValueChartMeter:return new ps;case F.e.StiMeterIdent.OpenValueChartMeter:return new os;case F.e.StiMeterIdent.CloseValueChartMeter:return new us;case F.e.StiMeterIdent.LowValueChartMeter:return new hs;case F.e.StiMeterIdent.HighValueChartMeter:return new ms;case F.e.StiMeterIdent.WeightChartMeter:return new as;case F.e.StiMeterIdent.XChartMeter:return new ea;case F.e.StiMeterIdent.YChartMeter:return new Mn;case F.e.StiMeterIdent.KeyComboBoxMeter:return new $i;case F.e.StiMeterIdent.NameComboBoxMeter:return new _i;case F.e.StiMeterIdent.MaxGaugeMeter:return new kl;case F.e.StiMeterIdent.MinGaugeMeter:return new El;case F.e.StiMeterIdent.SeriesGaugeMeter:return new es;case F.e.StiMeterIdent.ValueGaugeMeter:return new ts;case F.e.StiMeterIdent.TargetGaugeMeter:return new rs;case F.e.StiMeterIdent.SeriesIndicatorMeter:return new is;case F.e.StiMeterIdent.TargetIndicatorMeter:return new ns;case F.e.StiMeterIdent.ValueIndicatorMeter:return new ss;case F.e.StiMeterIdent.KeyListBoxMeter:return new Ki;case F.e.StiMeterIdent.NameListBoxMeter:return new qi;case F.e.StiMeterIdent.LatitudeMapMeter:return new Wi;case F.e.StiMeterIdent.LongitudeMapMeter:return new Ui;case F.e.StiMeterIdent.LocationMapMeter:return new yi;case F.e.StiMeterIdent.LocationValueMapMeter:return new xi;case F.e.StiMeterIdent.LocationArgumentMapMeter:return new Ci;case F.e.StiMeterIdent.LocationColorMapMeter:return new bi;case F.e.StiMeterIdent.KeyMapMeter:return new Oi;case F.e.StiMeterIdent.NameMapMeter:return new Pi;case F.e.StiMeterIdent.GroupMapMeter:return new Ni;case F.e.StiMeterIdent.ColorMapMeter:return new Vi;case F.e.StiMeterIdent.ValueMapMeter:return new Bi;case F.e.StiMeterIdent.PivotColumn:return new Gi;case F.e.StiMeterIdent.PivotRow:return new ji;case F.e.StiMeterIdent.PivotSummary:return new Ji;case F.e.StiMeterIdent.SeriesProgressMeter:return new Xi;case F.e.StiMeterIdent.TargetProgressMeter:return new Hi;case F.e.StiMeterIdent.ValueProgressMeter:return new zi;case F.e.StiMeterIdent.ColorScaleColumn:return new Di;case F.e.StiMeterIdent.DataBarsColumn:return new Ai;case F.e.StiMeterIdent.DimensionColumn:return new ki;case F.e.StiMeterIdent.IndicatorColumn:return new vi;case F.e.StiMeterIdent.MeasureColumn:return new Li;case F.e.StiMeterIdent.SparklinesColumn:return new Ii;case F.e.StiMeterIdent.BubbleColumn:return new fi;case F.e.StiMeterIdent.ColorScaleCardsColumn:return new ci;case F.e.StiMeterIdent.DataBarsCardsColumn:return new gi;case F.e.StiMeterIdent.DimensionCardsColumn:return new Si;case F.e.StiMeterIdent.IndicatorCardsColumn:return new mi;case F.e.StiMeterIdent.MeasureCardsColumn:return new lr;case F.e.StiMeterIdent.SparklinesCardsColumn:return new pi;case F.e.StiMeterIdent.BubbleCardsColumn:return new di;case F.e.StiMeterIdent.KeyTreeViewMeter:return new Mi;case F.e.StiMeterIdent.KeyTreeViewBoxMeter:return new Fi;case F.e.StiMeterIdent.ValueDatePickerMeter:return new Yi;default:throw new Nl(e)}}},F.G.StiMeterJsonConverter=class{},F.g.StiImageDashboardInteraction=class extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(e,t,r,i,s,n,l),this.ident=wr.Image,this.availableOnClick=fr.OpenHyperlink|fr.ShowDashboard,this.onClick=pr.OpenHyperlink}isDefault(){return this.onHover==gr.ShowToolTip&&this.onClick==pr.OpenHyperlink&&this.hyperlinkDestination==Sr.NewTab&&L.isNullOrEmpty(this.hyperlink)&&L.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&L.isNullOrEmpty(this.toolTip)}};{class ra extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.ImageMeter}implements(){return ra.ImplementsStiImageMeter||(ra.ImplementsStiImageMeter=super.implements().concat([dr])),ra.ImplementsStiImageMeter}get localizedName(){return c.get("PropertyMain","Image")}}F.V.StiImageMeter=ra}let ra=F.V.StiImageMeter,ia=B.Report.Helpers.StiHyperlinkProcessor,sa=F.g.StiImageDashboardInteraction,na=B.System.Drawing.Image,la=B.Report.Dashboard.ImplementsIStiImageElement,aa=B.Base.Drawing.StiImageConverter,oa=B.Report.Dashboard.Helpers.StiDashboardImageHyperlinkCache,ua=B.Report.Dashboard.IStiImageElement,ha=B.Report.StiFontIconsHelper;{Ke.add("StiImageElement","Stimulsoft.Dashboard.Export.Tools.StiImageElementExportTool");class Ih extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this.title=new F.e.StiTitle,this.image=null,this.aspectRatio=!0,this.icon=null,this.iconColor=N.fromArgb(68,114,196),this.crossFiltering=!0,this.horAlignment=V.Center,this.vertAlignment=Mt.Center,this.shadow=new Ae,this.cornerRadius=new m(0),this.defaultClientRectangle=new O(0,0,120,120),this.helpUrl="user-manual/dashboards_image.htm",this.title.text=this.localizedName,this.title.visible=!1,this.padding=ze.create(0),this.dashboardInteraction=new sa}implements(){return Ih.ImplementsStiImageElement||(Ih.ImplementsStiImageElement=super.implements().concat([rr,jt,ua,De,Ie,pe,Ts,..._t,...Ot,...la,...ve,...Re,...Ds,a,Er])),Ih.ImplementsStiImageElement}clone(e){var e,e;let t=super.clone(e);return t.title=null!=this.title?this.title.clone():null,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}get componentId(){return te.StiImageElement}meta(){return this._hash||(this._hash=[...super.meta(),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(sa)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(sa);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(sa);null!=t&&(this.dashboardInteraction=t)}),new h("AspectRatio","",!0),new l("ImageHyperlink"),new i("HorAlignment","",V,V.Center),new i("VertAlignment","",Mt,Mt.Center),new l("Group"),new h("CrossFiltering","",!0),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new n("Padding").get(e=>this.padding.saveToJsonObject(0,0,0,0)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e)),new e("Image").check(()=>null!=this.image).get(()=>aa.imageToString(this.image)).set(e=>this.image=aa.stringToImage(e.value.toString())).setXml(e=>this.image=aa.stringToImage(e.textContent)),new i("Icon","",ct).check(()=>null!=this.icon),new t("IconColor","",N.fromArgb(68,114,196))])}get isDefined(){return this.isImageDefined||this.isImageHyperlinkDefined||this.isImageIconDefined}get isQuerable(){return this.isImageHyperlinkDataColumnDefined()}fetchAllMeters(){return this.getMeters()}getMeters(){if(!this.isImageHyperlinkDataColumnDefined())return new P;let e=ia.getRealDataColumnFromHyperlink(this.report,this.imageHyperlink),t=new P;return t.add(new ra(e,e,e)),t}retrieveUsedDataNames(){return As.getMany2(this.getMeters()).distinct().toList()}get imageToDraw(){if(this.isImageDefined)return new Promise(e=>{e(this.image)});if(this.isImageIconDefined){let e=this.getPaintRectangle(!0,!1);return ha.convertFontIconToImageAsync(this.icon,this.iconColor,e.width,e.height)}if(this.isImageHyperlinkDefined)return new Promise(i=>{setTimeout(async()=>{if(this.isImageHyperlinkDataColumnDefined()){let r=await Jn.getOrCreate(this);if(null!=r){let e=r.rows.firstOrDefault(),t=null!=e?e.stimulsoft().toList().firstOrDefault():null;if(un.isArray(t)){let e=new B.System.Drawing.Image;e.bytes=t,i(e)}else if("string"==typeof t&&!L.isNullOrEmpty(t)){if(t.stimulsoft().isBase64String()){let e=new B.System.Drawing.Image;e.base64=t,i(e)}i(oa.get(t,this.report))}}i(null)}i(oa.get(this.imageHyperlink,this.report))})});return new Promise(e=>{e(null)})}copyAllImageProperties(e){if(null==e)return;this.image=e.image,this.imageHyperlink=e.imageHyperlink,this.icon=e.icon,this.iconColor=e.iconColor}shouldSerializePadding(){return!this.padding.isEmpty}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return Be.ImageElement}get localizedName(){return g.get("Components","StiImage")}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==pr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(Q.isEmptyKey(t))return null;let e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new P([e])}createNew(){return new Ih}resetAllImageProperties(){this.image=new na,this.imageHyperlink=null,this.icon=null}get isImageDefined(){return null!=this.image&&(null!=this.image.bytes||!L.isNullOrEmpty(this.image.url))}get isImageIconDefined(){return null!=this.icon}get isImageHyperlinkDefined(){return!L.isNullOrWhiteSpace(this.imageHyperlink)}isImageHyperlinkDataColumnDefined(){return!this.isImageDefined&&!this.isImageIconDefined&&this.isImageHyperlinkDefined&&!L.isNullOrWhiteSpace(ia.getRealDataColumnFromHyperlink(this.report,this.imageHyperlink))}}F.W.StiImageElement=Ih}F.Y.StiImageBytesConverter=class{};{class pa extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g){super(),this.ident=wr.Indicator,this.availableOnClick=fr.OpenHyperlink|fr.ShowDashboard,this.availableOnDataManipulation=yr.AllowDrillDown|yr.AllowSorting,this.allowUserDrillDown=!1,this.allowUserSorting=!0,this.onClick=pr.None,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.onHover=e),null!=t&&(this.onClick=t),null!=r&&(this.hyperlinkDestination=r),null!=i&&(this.toolTip=i),null!=s&&(this.hyperlink=s),null!=n&&(this.drillDownPageKey=n),null!=l&&(this.drillDownParameters=l),null!=a&&(this.allowUserDrillDown=a),null!=u&&(this.fileName=u),null!=h&&(this.headerText=h),null!=m&&(this.footerText=m),null!=d&&(this.showFullScreenButton=d),null!=c&&(this.showSaveButton=c),null!=o&&(this.allowUserSorting=o),null!=g&&(this.showViewDataButton=g)}implements(){return pa.ImplementsIStiIndicatorDashboardInteraction||(pa.ImplementsIStiIndicatorDashboardInteraction=super.implements().concat([_s,a,$s])),pa.ImplementsIStiIndicatorDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new h("AllowUserDrillDown"),new h("AllowUserSorting","",!0),new h("ShowFullScreenButton","",!0),new h("ShowSaveButton","",!0),new h("ShowViewDataButton","",!0),new l("FileName"),new l("HeaderText"),new l("FooterText")])}shouldSerializeOnClick(){return this.onClick!=pr.None}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&!this.allowUserDrillDown&&null==this.footerText}isDefault(){return this.isDefaultLayout&&!this.shouldSerializeOnHover()&&!this.shouldSerializeOnClick()&&this.hyperlinkDestination==Sr.NewTab&&L.isNullOrEmpty(this.hyperlink)&&L.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&L.isNullOrEmpty(this.toolTip)&&!this.allowUserDrillDown&&this.allowUserSorting}}F.g.StiIndicatorDashboardInteraction=pa}let ma=B.Report.Dashboard.StiIndicatorIconRangeMode,da=B.Report.Dashboard.StiIndicatorIconMode,ca=B.Data.Engine.IStiAllowSortByVariation,ga=B.Report.Dashboard.StiTargetMode,pa=F.g.StiIndicatorDashboardInteraction,Sa=B.Report.Dashboard.ImplementsIStiIndicatorElement,wa=B.Data.Engine.ImplementsIStiAllowSortByVariation,fa=B.Report.Helpers.StiFontIconSet,Ca=B.Report.Dashboard.IStiIndicatorElement,ya=B.System.Convert,ba=B.Report.Dashboard.StiFontSizeMode;{class vu extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this.shadow=new Ae,this.cornerRadius=new m(0),this.dataMode=ln.UsingDataFields,this.textFormat=new vt,this.font=new z("Arial",13),this.foreColor=N.transparent,this.title=new F.e.StiTitle,this.layout=new vs,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.topN=new si,this.dataTransformation={},this.dataFilters=new P,this.userSorts=new P,this._style=u.Auto,this.customStyleName="",this.defaultClientRectangle=new O(0,0,160,160),this.helpUrl="user-manual/dashboards_indicator.htm",this.glyphColor=N.transparent,this.icon=ct.Rating4,this.iconSet=fa.Rating,this.iconAlignment=bt.Right,this.targetMode=ga.Variation,this.fontSizeMode=ba.Auto,this.iconMode=da.Auto,this.iconRangeMode=ma.Percentage,this.iconRanges=new P,this.indicatorConditions=new P,this.crossFiltering=!0,this.isSampleForStyles=!1,this.title.text=this.localizedName,this.dashboardInteraction=new pa}implements(){return vu.ImplementsStiIndicatorElement||(vu.ImplementsStiIndicatorElement=super.implements().concat([tr,Ca,Ie,De,pe,Gt,er,Ms,Er,Ts,ca,...Vr,...Sa,...Re,...ve,...Ds,...Pt,...Qt,...Fs,...wa,a])),vu.ImplementsStiIndicatorElement}clone(e){var e,e;let t=super.clone(e);return t.value=null!=this.value?this.value.clone():null,t.target=null!=this.target?this.target.clone():null,t.series=null!=this.series?this.series.clone():null,t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.topN=this.topN.clone(),t.textFormat=this.textFormat.clone(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.indicatorConditions=this.indicatorConditions.select(e=>e.clone()).toList(),t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("UserSorts").get(e=>o.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("IconRanges").get(e=>o.Serialize.objectArray(this.iconRanges,e)).set(e=>this.iconRanges.addRange(e.value.properties().select(e=>F.T.StiIndicatorIconRange.loadFromJson(e.value)))).setXml(e=>this.iconRanges.addRange(e.childNodes.select(e=>F.T.StiIndicatorIconRange.loadFromXml(e)))),new h("CrossFiltering","",!0),new n("TopN").check(()=>null!=this.topN).set(e=>this.topN=si.createFromJsonObject(e.value)).setXml(e=>this.topN=si.createFromXml(e)),new n("TextFormat").check(()=>null!=this.textFormat).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e,this.report)),new n("Value").check(()=>null!=this.value).set(e=>{let t=f.loadFromJson(e.value).as(ss);null!=t&&(this.value=t)}).setXml(e=>{let t=f.loadFromXml(e).as(ss);null!=t&&(this.value=t)}),new n("Target").check(()=>null!=this.target).set(e=>{let t=f.loadFromJson(e.value).as(F.T.StiTargetIndicatorMeter);null!=t&&(this.target=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.T.StiTargetIndicatorMeter);null!=t&&(this.target=t)}),new n("Series").check(()=>null!=this.series).set(e=>{let t=f.loadFromJson(e.value).as(F.T.StiSeriesIndicatorMeter);null!=t&&(this.series=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.T.StiSeriesIndicatorMeter);null!=t&&(this.series=t)}),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e)),new n("Layout").check(()=>null!=this.layout).set(e=>this.layout=vs.createFromJsonObject(e.value)).setXml(e=>this.layout=vs.createFromXml(e)),new t("ForeColor","",N.transparent),new t("GlyphColor","",N.transparent),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new i("DataMode","",ln,ln.UsingDataFields),new l("ManuallyEnteredData"),new i("Style","",u,u.Auto),new l("Group"),new l("CustomStyleName"),new i("Icon","",ct,ct.Rating4),new i("IconSet","",fa,fa.Rating),new i("IconMode","",da,da.Auto),new i("IconRangeMode","",ma,ma.Percentage),new e("CustomIcon").check(()=>null!=this.customIcon).get(()=>ya.toBase64String(this.customIcon)).set(e=>this.customIcon=ya.fromBase64String(e.value.toString())).setXml(e=>this.customIcon=ya.fromBase64String(e.textContent)),new i("IconAlignment","",bt,bt.Right),new i("TargetMode","",ga,ga.Variation),new i("FontSizeMode","",ba,ba.Auto),new n("IndicatorConditions").get(e=>o.Serialize.objectArray(this.indicatorConditions,e)).set(e=>this.indicatorConditions.addRange(e.value.properties().select(e=>F.T.StiIndicatorElementCondition.createFromJson(e.value)))).setXml(e=>this.indicatorConditions.addRange(e.childNodes.select(e=>F.T.StiIndicatorElementCondition.createFromXml(e)))),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(pa)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(pa);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(pa);null!=t&&(this.dashboardInteraction=t)})])}get componentId(){return te.StiIndicatorElement}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}addValue2(e){this.value=null!=e?S.Indicator.getValue2(e):null}addValue(e){this.value=S.Indicator.getValue(e.as(F.e.StiMeter))}removeValue(){this.value=null}getValue(){return this.value}getValue2(e){return null!=e?S.Indicator.getValue(e.as(F.e.StiMeter)):null}createNewValue(){this.value=new ss,this.value.expression="Sum()"}addTarget2(e){this.target=null!=e?S.Indicator.getTarget2(e):null}addTarget(e){this.target=S.Indicator.getTarget(e.as(F.e.StiMeter))}removeTarget(){this.target=null}getTarget(){return this.target}getTarget2(e){return null!=e?S.Indicator.getTarget(e.as(F.e.StiMeter)):null}createNewTarget(){this.target=new F.T.StiTargetIndicatorMeter,this.target.expression="Sum()"}addSeries2(e){this.series=null!=e?S.Indicator.getSeries2(e):null}addSeries(e){this.series=S.Indicator.getSeries(e.as(F.e.StiMeter))}removeSeries(){this.series=null}getSeries(){return this.series}getSeries2(e){return null!=e?S.Indicator.getSeries(e.as(F.e.StiMeter)):null}createNewSeries(){this.series=new F.T.StiSeriesIndicatorMeter}getIconRanges(){let e=new P;return e.addRange(this.iconRanges),e}addRange(){let e=new F.T.StiIndicatorIconRange;return this.iconRanges.add(e),e}removeRange(e){e<this.iconRanges.length&&this.iconRanges.removeAt(e)}createdDefaultRanges(){this.iconRanges.clear(),this.iconRanges.add(new F.T.StiIndicatorIconRange(ct.Rating1,"0","25")),this.iconRanges.add(new F.T.StiIndicatorIconRange(ct.Rating2,"25","50")),this.iconRanges.add(new F.T.StiIndicatorIconRange(ct.Rating3,"50","75")),this.iconRanges.add(new F.T.StiIndicatorIconRange(ct.Rating4,"75","100"))}getManuallyEnteredDataTable(){if(this.dataMode!=ln.ManuallyEnteringData)return null;return F.e.StiManuallyEnteredDataParser.getIndicatorDataTable(this.manuallyEnteredData,this)}addIndicatorCondition(e,t,r,i,s,n,l,a,o,u,h,m,d,c){this.indicatorConditions.add(new F.T.StiIndicatorElementCondition(e,t,r,i,s,n,l,a,o,u,h,m,d,c))}fetchIndicatorConditions(){let e=new P;return null!=this.indicatorConditions&&e.addRange(this.indicatorConditions),e}clearIndicatorConditions(){this.indicatorConditions.clear()}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(dr)),i=(null!=(r=null==r?t.firstOrDefault(e=>e.is(at)):r)&&(this.value=null==this.value?new ss:this.value,this.value.loadFromJsonObject(r.saveToJsonObject(be.Report))),t.firstOrDefault(e=>e.is(oi))),s=(null!=i&&(this.target=null==this.target?new F.T.StiTargetIndicatorMeter:this.target,this.target.loadFromJsonObject(i.saveToJsonObject(be.Report))),t.firstOrDefault(e=>e.is(ai)));null!=(s=null==s?t.firstOrDefault(e=>e.is(Te)):s)&&(this.series=null==this.series?new F.T.StiSeriesIndicatorMeter:this.series,this.series.loadFromJsonObject(s.saveToJsonObject(be.Report))),null==this.dashboardInteraction&&(this.dashboardInteraction=new pa)}shouldSerializeTextFormat(){return null==this.textFormat||!this.textFormat.is(vt)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&13==this.font.sizeInPoints&&this.font.style==k.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}fetchAllMeters(){let e=new P;return this.dataMode==ln.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.target&&e.add(this.target),null!=this.series&&e.add(this.series)),e}getMeters(){let e=new P;return this.dataMode==ln.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.target&&e.add(this.target),null!=this.series&&e.add(this.series)),e}retrieveUsedDataNames(){return this.dataMode==ln.UsingDataFields?As.getMany(this.value,this.target,this.series):null}get isDefined(){return null!=this.value||null!=this.target||null!=this.series||this.dataMode==ln.ManuallyEnteringData}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}shouldSerializeDataTransformation(){return null==this.transformActions||this.transformActions.any()||null==this.transformFilters||this.transformFilters.any()||null==this.transformSorts||this.transformSorts.any()}isDefaultDataTransformation(){return!this.shouldSerializeDataTransformation()}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return Be.IndicatorElement}get localizedName(){return c.get("Components","StiIndicator")}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeGlyphColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeConditions(){return null==this.indicatorConditions||0<this.indicatorConditions.length}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==pr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(Q.isEmptyKey(t))return null;let e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new P([e])}createNew(){return new vu}}F.T.StiIndicatorElement=vu}let xa=B.Report.Dashboard.IStiIndicatorElementCondition,Ta=B.Report.Dashboard.StiIndicatorFieldCondition,Fa=B.Report.Dashboard.StiIndicatorConditionPermissions;{class Bc{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c){this.iconColor=N.fromArgb(68,114,196),this.icon=ct.Rating4,this.targetIconColor=N.fromArgb(68,114,196),this.targetIcon=ct.Rating4,this.condition=kn.EqualTo,this.field=Ta.Value,this.permissions=Fa.All,this.textColor=N.black,this.backColor=N.transparent,this.font=new z("Arial",8),this.iconAlignment=bt.Right,this.targetIconAlignment=bt.Right,null!=e&&(this.field=e),null!=t&&(this.condition=t),null!=r&&(this.value=r),null!=n&&(this.targetIcon=n),null!=l&&(this.targetIconColor=l),null!=i&&(this.icon=i),null!=s&&(this.iconColor=s),null!=a&&(this.customIcon=a),null!=o&&(this.iconAlignment=o),null!=u&&(this.targetIconAlignment=u),null!=h&&(this.permissions=h),null!=m&&(this.font=m),null!=d&&(this.textColor=d),null!=c&&(this.backColor=c)}implements(){return Bc.ImplementsStiIndicatorElementCondition||(Bc.ImplementsStiIndicatorElementCondition=[dt,xa,a]),Bc.ImplementsStiIndicatorElementCondition}meta(){return this._hash||(this._hash=[new e("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new i("Condition","",kn,kn.EqualTo),new i("Field","",Ta,Ta.Value),new l("Value"),new t("IconColor","",N.fromArgb(68,114,196)),new i("Icon","",ct,ct.Rating4),new t("TargetIconColor","",N.fromArgb(68,114,196)),new i("TargetIcon","",ct,ct.Rating4),new e("CustomIcon").check(()=>null!=this.customIcon).get(()=>ya.toBase64String(this.customIcon)).set(e=>this.customIcon=ya.fromBase64String(e.value.toString())).setXml(e=>this.customIcon=ya.fromBase64String(e.textContent)),new i("Permissions","",Fa,Fa.All),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new t("TextColor","",N.black),new t("BackColor","",N.transparent),new i("IconAlignment","",bt,bt.Right),new i("TargetIconAlignment","",bt,bt.Right)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}static createFromJson(e){let t=new Bc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Bc;return t.loadFromXml(e),t}}F.T.StiIndicatorElementCondition=Bc}let Ma=B.Report.Dashboard.ImplementsStiIndicatorIconRange,va=B.Report.Dashboard.IStiIndicatorIconRange;{class Nc{constructor(e,t,r){this.icon=ct.Rating4,this.startExpression="0",this.endExpression="100",null!=e&&(this.icon=e),null!=t&&(this.startExpression=t),null!=r&&(this.endExpression=r)}implements(){return Nc.ImplementsStiIndicatorIconRange||(Nc.ImplementsStiIndicatorIconRange=[a,va,...Ma,dt]),Nc.ImplementsStiIndicatorIconRange}clone(){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new l("StartExpression"),new l("EndExpression"),new i("Icon","",ct)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static loadFromJson(e){let t=new Nc;return t.loadFromJsonObject(e),t}static loadFromXml(e){let t=new Nc;return t.loadFromXml(e),t}saveToString(){return this.saveToJsonObject(be.Report).serialize()}getStringRepresentation(){return this.startExpression+` - `+this.endExpression}}F.T.StiIndicatorIconRange=Nc}let Da=B.Report.Dashboard.ImplementsIStiListBoxElement,Aa=B.Report.Dashboard.IStiListBoxElement;{Ke.add("StiListBoxElement","Stimulsoft.Dashboard.Export.Tools.StiListBoxElementExportTool");class Ch extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this._style=u.Auto,this.customStyleName="",this.showAllValue=!1,this.showBlanks=!1,this.selectionMode=Hn.One,this.orientation=bs.Vertical,this.title=new F.e.StiTitle,this.shadow=new Ae,this.cornerRadius=new m(0),this.userFilters=new P,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.dataFilters=new P,this.font=new z("Arial",8),this.foreColor=N.transparent,this.textFormat=new vt,this.defaultClientRectangle=new O(0,0,200,300),this.helpUrl="user-manual/dashboards_data_filtering_list_box.htm",this.title.text=this.localizedName,this.title.visible=!1}implements(){return Ch.ImplementsStiListBoxElement||(Ch.ImplementsStiListBoxElement=super.implements().concat([Aa,Ie,De,pe,Ts,...Da,...Re,...ve,...Ds,a])),Ch.ImplementsStiListBoxElement}clone(e){var e,e;let t=super.clone(e);return t.keyMeter=null!=this.keyMeter?this.keyMeter.clone():null,t.nameMeter=null!=this.nameMeter?this.nameMeter.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.title=null!=this.title?this.title.clone():null,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}get componentId(){return te.StiListBoxElement}meta(){return this._hash||(this._hash=[...super.meta(),new l("ParentKey"),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new t("ForeColor","",N.transparent),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new h("ShowAllValue"),new h("ShowBlanks"),new i("SelectionMode","",Hn,Hn.One).set(e=>{let t=ue.parse(Hn,e.value);null!=t&&(this.selectionMode=t)}).setXml(e=>{let t=ue.parse(Hn,e.textContent);null!=t&&(this.selectionMode=t)}),new i("Orientation","",bs,bs.Vertical),new n("NameMeter").check(()=>null!=this.nameMeter).set(e=>{let t=f.loadFromJson(e.value).as(qi);null!=t&&(this.nameMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(qi);null!=t&&(this.nameMeter=t)}),new n("KeyMeter").check(()=>null!=this.keyMeter).set(e=>{let t=f.loadFromJson(e.value).as(F.P.StiKeyListBoxMeter);null!=t&&(this.keyMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.P.StiKeyListBoxMeter);null!=t&&(this.keyMeter=t)}),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e)),new n("TextFormat").check(()=>!(this.textFormat.is(vt)||null==this.textFormat)).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e,this.report)),new i("Style","",u,u.Auto),new l("Group"),new l("CustomStyleName"),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent))])}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}fetchAllMeters(){let e=new P;return null!=this.nameMeter&&e.add(this.nameMeter),null!=this.keyMeter&&e.add(this.keyMeter),e}getMeters(){let e=new P;return null!=this.nameMeter&&e.add(this.nameMeter),null!=this.keyMeter&&e.add(this.keyMeter),e}retrieveUsedDataNames(){return As.getMany(this.nameMeter,this.keyMeter)}get isDefined(){return null!=this.nameMeter||null!=this.keyMeter}getParentKey(){return this.parentKey}setParentKey(e){this.parentKey=e}async applyDefaultFilters(){let e=await F.P.StiListBoxHelper.fetchDefaultUserFilters(this);null!=e&&(this.userFilters=e)}addKeyMeter2(e){this.keyMeter=null!=e?S.ListBox.getKey2(e):null}addKeyMeter(e){this.keyMeter=null!=e?S.ListBox.getKey(e.as(F.e.StiMeter)):null}getKeyMeter(){return this.keyMeter}removeKeyMeter(){this.keyMeter=null}createNewKeyMeter(){this.keyMeter=new F.P.StiKeyListBoxMeter}addNameMeter2(e){this.nameMeter=null!=e?S.ListBox.getName2(e):null}addNameMeter(e){this.nameMeter=null!=e?S.ListBox.getName(e.as(F.e.StiMeter)):null}getNameMeter(){return this.nameMeter}removeNameMeter(){this.nameMeter=null}createNewNameMeter(){this.nameMeter=new qi}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}createNextMeter(e){null!=this.keyMeter&&null==this.nameMeter?this.nameMeter=S.ListBox.getName2(e):this.keyMeter=S.ListBox.getKey2(e)}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(dr)),i=(null!=(r=null==r?t.firstOrDefault(e=>e.is(at)):r)&&(this.keyMeter=null==this.keyMeter?new F.P.StiKeyListBoxMeter:this.keyMeter,this.keyMeter.loadFromJsonObject(r.saveToJsonObject(be.Report))),t.firstOrDefault(e=>e.is(dr)));null!=(i=null==i?t.firstOrDefault(e=>e.is(Te)):i)&&(this.nameMeter=null==this.nameMeter?new qi:this.nameMeter,this.nameMeter.loadFromJsonObject(i.saveToJsonObject(be.Report)))}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==k.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeTextFormat(){return!this.textFormat.is(vt)}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return Be.ListBoxElement}get localizedName(){return g.get("Components","StiListBox")}createNew(){return new Ch}}F.P.StiListBoxElement=Ch}F.P.StiListBoxHelper=class{static fetchItems(i,e,s){if(null==e||e==nt.nullTable||0==e.rows.length)return null;let n=this.getNameMeterIndex(e),l=this.getKeyMeterIndex(e);if(-1==n&&1==l)return null;-1==l&&(l=n),-1==n&&(n=l);let a=new P;for(let r of e.rows){let e=r[l];if(null==e)continue;let t=r[n];!s&&this.isBlank(t)||a.add(new F.P.StiListBoxItem(this.format(i,r[n]),r[l]))}return a}static isBlank(e){return null==e||e==jn.value||"string"==typeof e&&L.isNullOrEmpty(e)}static async fetchDefaultUserFilters(e){if(e.showAllValue)return null;if(e.selectionMode==Hn.Multi)return null;let t=this.getKeyMeterExpression(e);if(null==t)return null;let r=await Jn.getOrCreate(e),i=this.fetchItems(e,r,e.showBlanks);if(null==i)return null;let s=i.stimulsoft().toList().firstOrDefault().value;return Gn.createEqualBasedOnValue(s,t,e).toList()}static getNameMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(F.P.StiNameListBoxMeter));return null!=t?e.meters.indexOf(t):-1}static getKeyMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(F.P.StiKeyListBoxMeter));return null!=t?e.meters.indexOf(t):-1}static getKeyMeterExpression(e){if(null!=e.keyMeter)return e.keyMeter.expression;if(null!=e.nameMeter)return e.nameMeter.expression;return null}static format(e,t){var r,r;return t instanceof w&&!e.textFormat.is(Fr)?t.toShortDateString():Xr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Xr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):e.textFormat.format(t)}},F.P.StiListBoxItem=class{constructor(e,t=e){this.label=e,this.value=t}toString(){return null!=this.label?this.label:this.value.toString()}};{class Ia extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n){super(),this.ident=wr.OnlineMap,this.availableOnClick=fr.None,this.availableOnHover=Cr.None,this.availableOnDataManipulation=yr.None,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.fileName=e),null!=t&&(this.headerText=t),null!=r&&(this.footerText=r),null!=i&&(this.showFullScreenButton=i),null!=s&&(this.showSaveButton=s),null!=n&&(this.showViewDataButton=n)}implements(){return Ia.ImplementsIStiOnlineMapDashboardInteraction||(Ia.ImplementsIStiOnlineMapDashboardInteraction=super.implements().concat([a,$s])),Ia.ImplementsIStiOnlineMapDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new h("ShowFullScreenButton","",!0),new h("ShowSaveButton","",!0),new h("ShowViewDataButton","",!0),new l("FileName"),new l("HeaderText"),new l("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout}}F.g.StiOnlineMapDashboardInteraction=Ia}let Ia=F.g.StiOnlineMapDashboardInteraction,Ra=B.Report.Dashboard.ImplementsIStiOnlineMapElement,Ea=B.Report.Dashboard.IStiOnlineMapElement,ka=B.Report.Dashboard.StiOnlineMapLocationType,La=B.Report.Dashboard.StiOnlineMapCulture,Va=B.Report.Dashboard.StiOnlineMapLocationColorType,Ba=B.Report.Dashboard.StiOnlineMapValueViewMode;{class Dh extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this.title=new F.e.StiTitle,this.layout=new vs,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.dataFilters=new P,this.shadow=new Ae,this.cornerRadius=new m(0),this.helpUrl="user-manual/dashboards_maps_online_map.htm",this.locationType=ka.Auto,this.culture=La.en_US,this.locationColorType=Va.Single,this.valueViewMode=Ba.Bubble,this.locationColor=N.limeGreen,this.icon=ct.MapMarker,this.iconColor=N.maroon,this.crossFiltering=!0,this.title.text=this.localizedName,this.dashboardInteraction=new Ia}implements(){return Dh.ImplementsStiOnlineMapElement||(Dh.ImplementsStiOnlineMapElement=super.implements().concat([Ea,Ie,De,pe,Ms,Er,Ts,...Ra,...Re,...ve,...Ds,...Fs,a])),Dh.ImplementsStiOnlineMapElement}clone(e){var e,e;let t=super.clone(e);return t.latitude=null!=this.latitude?this.latitude.clone():null,t.longitude=null!=this.longitude?this.longitude.clone():null,t.location=null!=this.location?this.location.clone():null,t.locationColorMeter=null!=this.locationColorMeter?this.locationColorMeter.clone():null,t.locationValue=null!=this.locationValue?this.locationValue.clone():null,t.locationArgument=null!=this.locationArgument?this.locationArgument.clone():null,t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.locationType=this.locationType,t.culture=this.culture,t.locationColorType=this.locationColorType,t.locationColor=this.locationColor,t.iconColor=this.iconColor,t.icon=this.icon,t.customIcon=null!=this.customIcon?ya.fromBase64String(ya.toBase64String(this.customIcon)):null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e)),new n("Layout").check(()=>null!=this.layout).set(e=>this.layout=vs.createFromJsonObject(e.value)).setXml(e=>this.layout=vs.createFromXml(e)),new n("Latitude").check(()=>null!=this.latitude).set(e=>this.latitude=f.loadFromJson(e.value).as(F.O.StiLatitudeMapMeter)).setXml(e=>this.latitude=f.loadFromXml(e).as(F.O.StiLatitudeMapMeter)),new n("Longitude").check(()=>null!=this.longitude).set(e=>this.longitude=f.loadFromJson(e.value).as(F.O.StiLongitudeMapMeter)).setXml(e=>this.longitude=f.loadFromXml(e).as(F.O.StiLongitudeMapMeter)),new n("Location").check(()=>null!=this.location).set(e=>this.location=f.loadFromJson(e.value).as(F.O.StiLocationMapMeter)).setXml(e=>this.location=f.loadFromXml(e).as(F.O.StiLocationMapMeter)),new n("LocationColorMeter").check(()=>null!=this.locationColorMeter).set(e=>this.locationColorMeter=f.loadFromJson(e.value).as(F.O.StiLocationColorMapMeter)).setXml(e=>this.locationColorMeter=f.loadFromXml(e).as(F.O.StiLocationColorMapMeter)),new n("LocationArgument").check(()=>null!=this.locationArgument).set(e=>this.locationArgument=f.loadFromJson(e.value).as(F.O.StiLocationArgumentMapMeter)).setXml(e=>this.locationArgument=f.loadFromXml(e).as(F.O.StiLocationArgumentMapMeter)),new n("LocationValue").check(()=>null!=this.locationValue).set(e=>this.locationValue=f.loadFromJson(e.value).as(F.O.StiLocationValueMapMeter)).setXml(e=>this.locationValue=f.loadFromXml(e).as(F.O.StiLocationValueMapMeter)),new l("Group"),new i("Culture","",La).set(e=>this.culture=ue.parse(La,e.value,!1)).setXml(e=>this.culture=ue.parse(La,e.textContent,!1)),new i("LocationType","",ka),new t("LocationColor","",N.limeGreen),new i("LocationColorType","",Va),new i("ValueViewMode","",Ba),new i("Icon","",ct),new t("IconColor","",N.limeGreen),new h("CrossFiltering","",!0),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new e("CustomIcon").check(()=>null!=this.customIcon).get(()=>ya.toBase64String(this.customIcon)).set(e=>this.customIcon=ya.fromBase64String(e.value.toString())).setXml(e=>this.customIcon=ya.fromBase64String(e.textContent)),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(Ia)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(Ia);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(Ia);null!=t&&(this.dashboardInteraction=t)})])}get componentId(){return te.StiOnlineMapElement}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}fetchAllMeters(){let e=new P;return null!=this.latitude&&e.add(this.latitude),null!=this.longitude&&e.add(this.longitude),null!=this.location&&e.add(this.location),null!=this.locationColorMeter&&e.add(this.locationColorMeter),null!=this.locationValue&&e.add(this.locationValue),null!=this.locationArgument&&e.add(this.locationArgument),e}getMeters(){let e=new P;return this.isDefined&&(null!=this.latitude&&e.add(this.latitude),null!=this.longitude&&e.add(this.longitude),null!=this.location&&e.add(this.location),null!=this.locationColorMeter&&e.add(this.locationColorMeter),null!=this.locationValue&&e.add(this.locationValue),null!=this.locationArgument&&e.add(this.locationArgument)),e}retrieveUsedDataNames(){let e=new P;return e.addRange(As.getMany(this.latitude)),e.addRange(As.getMany(this.longitude)),e.addRange(As.getMany(this.location)),e.addRange(As.getMany(this.locationColorMeter)),e.addRange(As.getMany(this.locationValue)),e.addRange(As.getMany(this.locationArgument)),e.distinct().toList()}get isDefined(){return null!=this.latitude||null!=this.longitude||null!=Location||null!=this.locationValue||null!=this.locationColorMeter||null!=this.locationArgument}createNextMeter(e){this.location=S.OnlineMap.getLocation2(e)}addLatitudeMeter2(e){this.latitude=null!=e?S.OnlineMap.getLatitude2(e):null}addLatitudeMeter(e){this.latitude=null!=e?S.OnlineMap.getLatitude(e.as(F.e.StiMeter)):null}getLatitudeMeter(){return this.latitude}removeLatitudeMeter(){this.latitude=null}createNewLatitudeMeter(){this.latitude=new F.O.StiLatitudeMapMeter}addLongitudeMeter2(e){this.longitude=null!=e?S.OnlineMap.getLongitude2(e):null}addLongitudeMeter(e){this.longitude=null!=e?S.OnlineMap.getLongitude(e.as(F.e.StiMeter)):null}getLongitudeMeter(){return this.longitude}removeLongitudeMeter(){this.longitude=null}createNewLongitudeMeter(){this.longitude=new F.O.StiLongitudeMapMeter}addLocationMeter2(e){this.location=null!=e?S.OnlineMap.getLocation2(e):null}addLocationMeter(e){this.location=null!=e?S.OnlineMap.getLocation(e):null}getLocationMeter(){return this.location}removeLocationMeter(){this.location=null}createNewLocationMeter(){this.location=new F.O.StiLocationMapMeter}addLocationColorMeter2(e){this.locationColorMeter=null!=e?S.OnlineMap.getLocationColor2(e):null}addLocationColorMeter(e){this.locationColorMeter=null!=e?S.OnlineMap.getLocationColor(e.as(F.e.StiMeter)):null}getLocationColorMeter(){return this.locationColorMeter}removeLocationColorMeter(){this.locationColor=null}createNewLocationColorMeter(){this.locationColorMeter=new F.O.StiLocationColorMapMeter}addLocationValueMeter2(e){this.locationValue=null!=e?S.OnlineMap.getLocationValue2(e):null}addLocationValueMeter(e){this.locationValue=null!=e?S.OnlineMap.getLocationValue(e.as(F.e.StiMeter)):null}getLocationValueMeter(){return this.locationValue}removeLocationValueMeter(){this.locationValue=null}createNewLocationValueMeter(){this.locationValue=new F.O.StiLocationValueMapMeter}addLocationArgumentMeter(e){this.locationArgument=null!=e?S.OnlineMap.getLocationArgument2(e):null}addLocationArgumentMeter2(e){this.locationArgument=null!=e?S.OnlineMap.getLocationArgument(e):null}getLocationArgumentMeter(){return this.locationArgument}removeLocationArgumentMeter(){this.locationArgument=null}createNewLocationArgumentMeter(){this.locationArgument=new F.O.StiLocationArgumentMapMeter}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}convertFrom(e){let t=e.as(F.L.StiRegionMapElement);null==t||null==t.keyMeter||t.keyMeter.isDefault()||(this.location=new F.O.StiLocationMapMeter,this.location.label=t.keyMeter.label,this.location.expression=t.keyMeter.expression),null==this.dashboardInteraction&&(this.dashboardInteraction=new Ia)}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return Be.OnlineMapElement}get localizedName(){return g.get("Components","StiOnlineMap")}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}createNew(){return new Dh}}F.O.StiOnlineMapElement=Dh}let Na=B.System.Collections.Hashtable;{class Ha{static getSelected(e){let t=this.hash.get(e.key);if(null==t)return null;return t.keys.toList()}static getSelectedObjects(e){let t=this.getSelected(e);return null!=t?t.toList():null}static isSelected(e,t){let r=this.hash.get(e.key);return null==r&&(r=new Na,this.hash.set(e.key,r)),null!=r.get(t)}static select(e,t){let r=this.hash.get(e.key);null==r&&(r=new Na,this.hash.set(e.key,r)),r.set(t,t)}static resetSelection(e){this.hash.containsKey(e.key)&&this.hash.remove(e.key)}}Ha.hash=new Na,F.h.StiPivotTableElementSelection=Ha}{class Oa extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n){super(),this.ident=wr.PivotTable,this.availableOnClick=fr.None,this.availableOnHover=Cr.None,this.availableOnDataManipulation=yr.None,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.fileName=e),null!=t&&(this.headerText=t),null!=r&&(this.footerText=r),null!=i&&(this.showFullScreenButton=i),null!=s&&(this.showSaveButton=s),null!=n&&(this.showViewDataButton=n)}implements(){return Oa.ImplementsIStiPivotTableDashboardInteraction||(Oa.ImplementsIStiPivotTableDashboardInteraction=super.implements().concat([a,$s])),Oa.ImplementsIStiPivotTableDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new h("ShowFullScreenButton","",!0),new h("ShowSaveButton","",!0),new h("ShowViewDataButton","",!0),new l("FileName"),new l("HeaderText"),new l("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout}}F.g.StiPivotTableDashboardInteraction=Oa}let Pa=B.Report.CrossTab.Core.StiSummaryDirection,Oa=F.g.StiPivotTableDashboardInteraction,za=B.Report.Dashboard.ImplementsIStiPivotTableElement,Ha=F.h.StiPivotTableElementSelection,Xa=B.Report.Dashboard.IStiPivotTableElement;{Ke.add("StiPivotTableElement","Stimulsoft.Dashboard.Export.Tools.StiPivotTableElementExportTool");class _u extends F.e.StiElement{constructor(e=O.empty){super(e),this.maxIconSize=50,this.shadow=new Ae,this.cornerRadius=new m(0),this.group="",this.title=new F.e.StiTitle,this.layout=new vs,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.dataFilters=new P,this.crossFiltering=!0,this._style=u.Auto,this.customStyleName="",this.summaryDirection=Pa.UpToDown,this.helpUrl="user-manual/dashboards_pivot_table.htm",this.columns=new P,this.rows=new P,this.summaries=new P,this.totalLabel="",this.pivotTableConditions=new P,this.title.text=this.localizedName,this.dashboardInteraction=new Oa}implements(){return _u.ImplementsStiPivotTableElement||(_u.ImplementsStiPivotTableElement=super.implements().concat([Xa,Ie,De,pe,Ms,Er,Ts,...za,...Re,...ve,...Ds,...Fs,a])),_u.ImplementsStiPivotTableElement}clone(e){var e,e;let t=super.clone(e);return t.columns=this.columns.select(e=>e.clone()).toList(),t.rows=this.rows.select(e=>e.clone()).toList(),t.summaries=this.summaries.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.pivotTableConditions=this.pivotTableConditions.select(e=>e.clone()).toList(),t.totalLabel=this.totalLabel,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("Columns").get(e=>o.Serialize.objectArray(this.columns,e)).set(e=>this.columns.addRange(e.value.properties().select(e=>f.loadFromJson(e.value).as(Gi)).where(e=>null!=e))).setXml(e=>this.columns.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("Rows").get(e=>o.Serialize.objectArray(this.rows,e)).set(e=>this.rows.addRange(e.value.properties().select(e=>f.loadFromJson(e.value).as(F.N.StiPivotRow)).where(e=>null!=e))).setXml(e=>this.rows.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("Summaries").get(e=>o.Serialize.objectArray(this.summaries,e)).set(e=>this.summaries.addRange(e.value.properties().select(e=>f.loadFromJson(e.value).as(Ji)).where(e=>null!=e))).setXml(e=>this.summaries.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new h("CrossFiltering","",!0),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e)),new n("Layout").check(()=>null!=this.layout).set(e=>this.layout=vs.createFromJsonObject(e.value)).setXml(e=>this.layout=vs.createFromXml(e)),new i(
"Style","",u,u.Auto),new l("Group"),new l("CustomStyleName"),new l("TotalLabel"),new n("PivotTableConditions").get(e=>o.Serialize.objectArray(this.pivotTableConditions,e)).set(e=>this.pivotTableConditions.addRange(e.value.properties().select(e=>F.N.StiPivotTableElementCondition.loadFromJson(e.value).as(F.N.StiPivotTableElementCondition)).where(e=>null!=e))).setXml(e=>this.pivotTableConditions.addRange(e.childNodes.select(e=>F.N.StiPivotTableElementCondition.loadFromXml(e)))),new i("SummaryDirection","",Pa,Pa.UpToDown),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(Oa)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(Oa);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(Oa);null!=t&&(this.dashboardInteraction=t)})])}get componentId(){return te.StiPivotTableElement}retrieveUsedDataNames(){let e=As.getMany2(this.columns);return e.addRange(As.getMany2(this.rows)),e.addRange(As.getMany2(this.summaries)),e}fetchAllMeters(){let e=this.columns.cast();return e.addRange(this.rows.cast()),e.addRange(this.summaries.cast()),e}getMeters(){let e=this.columns.cast();return e.addRange(this.rows.cast()),e.addRange(this.summaries.cast()),e}get isDefined(){return null!=this.columns&&0<this.columns.length||null!=this.rows&&0<this.rows.length||null!=this.summaries&&0<this.summaries.length}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}createNextMeter(e){0==this.columns.length?this.columns.add(S.Pivot.getColumn2(e)):0==this.rows.length?this.rows.add(S.Pivot.getRow2(e)):0==this.summaries.length?this.summaries.add(S.Pivot.getSummary2(e)):this.columns.add(S.Pivot.getColumn2(e))}createNewColumn(){this.columns.add(new Gi)}getColumn2(e){return null!=e?S.Pivot.getColumn2(e):null}getColumn(e){return null!=e?S.Pivot.getColumn(e.as(F.e.StiMeter)):null}getColumnByIndex(e){return e<this.columns.length?this.columns[e]:null}insertColumn(e,t){let r=t.as(Gi);null!=r&&(0<=e&&e<this.columns.length?this.columns.insert(e,r):this.columns.add(r))}removeColumn(e){e<this.columns.length&&this.columns.removeAt(e)}removeAllColumns(){this.columns.clear()}createNewRow(){this.rows.add(new F.N.StiPivotRow)}getRow2(e){return null!=e?S.Pivot.getRow2(e):null}getRow(e){return null!=e?S.Pivot.getRow(e.as(F.e.StiMeter)):null}getRowByIndex(e){return e<this.rows.length?this.rows[e]:null}insertRow(e,t){let r=t.as(F.N.StiPivotRow);null!=r&&(0<=e&&e<this.rows.length?this.rows.insert(e,r):this.rows.add(r))}removeRow(e){e<this.rows.length&&this.rows.removeAt(e)}removeAllRows(){this.rows.clear()}createNewSummary(){let e=new Ji;e.expression="Sum()",this.summaries.add(e)}getSummary2(e){return null!=e?S.Pivot.getSummary2(e):null}getSummary(e){return null!=e?S.Pivot.getSummary(e.as(F.e.StiMeter)):null}getSummaryByIndex(e){return e<this.summaries.length?this.summaries[e]:null}insertSummary(e,t){let r=t.as(Ji);null!=r&&(0<=e&&e<this.summaries.length?this.summaries.insert(e,r):this.summaries.add(r))}removeSummary(e){e<this.summaries.length&&this.summaries.removeAt(e)}removeAllSummaries(){this.summaries.clear()}addPivotTableCondition(e,t,r,i,s,n,l,a,o,u,h,m){this.pivotTableConditions.add(new F.N.StiPivotTableElementCondition(e,t,r,i,s,n,l,a,o,u,h,m))}getAllMeters(){let e=new P;return e.addRange(this.columns),e.addRange(this.rows),e.addRange(this.summaries),e}fetchPivotTableConditions(){let e=new P;return null!=this.pivotTableConditions&&e.addRange(this.pivotTableConditions),e}clearPivotTableConditions(){this.pivotTableConditions.clear()}convertFrom(e){let t=e.fetchAllMeters();if(this.columns.clear(),this.rows.clear(),this.summaries.clear(),null==t)return;let r=0;t.cast().forEach(t=>{if(t.is2(Te))if(0==(1&r)){let e=new Gi;e.loadFromJsonObject(t.saveToJsonObject(be.Report)),this.columns.add(e)}else{let e=new F.N.StiPivotRow;e.loadFromJsonObject(t.saveToJsonObject(be.Report)),this.rows.add(e)}else if(t.is2(at)){let e=new Ji;e.loadFromJsonObject(t.saveToJsonObject(be.Report)),this.summaries.add(e)}},this),null==this.dashboardInteraction&&(this.dashboardInteraction=new Oa)}setString(r,i){switch(r){case"Title.Text":this.title.text=i;break;case"TotalLabel":this.totalLabel=i;break}let s=0;for(let t of this.columns){let e=`Column${s++}.Label`;r==e&&(t.label=i)}s=0;for(let t of this.rows){let e=`Row${s++}.Label`;r==e&&(t.label=i)}}getString(r){switch(r){case"Title.Text":return this.title.text;case"TotalLabel":return this.totalLabel}let i=0;for(let t of this.columns){let e=`Column${i++}.Label`;if(r==e)return t.label}i=0;for(let t of this.rows){let e=`Row${i++}.Label`;if(r==e)return t.label}throw new Error(`Property with name `+r)}getAllStrings(){let t=["Title.Text","TotalLabel"],r=0;return this.columns.forEach(e=>t.push(`Column${r++}.Label`)),r=0,this.rows.forEach(e=>t.push(`Row${r++}.Label`)),t}get toolboxPosition(){return Be.PivotTableElement}get localizedName(){return c.get("Components","StiPivotTable")}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeColumns(){return null==this.columns||0<this.columns.length}shouldSerializeRows(){return null==this.rows||0<this.rows.length}shouldSerializeSummaries(){return null==this.summaries||0<this.summaries.length}shouldSerializeConditions(){return null==this.pivotTableConditions||0<this.pivotTableConditions.length}createNew(){return new _u}getFormatObjects(){return Ha.getSelectedObjects(this)}}F.N.StiPivotTableElement=_u}let Ga=B.Report.Components.StiConditionPermissions,ja=B.Base.StiScale,Ja=B.Report.Dashboard.IStiPivotTableElementCondition;{let d=F.a.StiFilterDataType,c=F.a.StiFilterCondition;class Pc{constructor(e,t,r,i,s,n,l,a,o,u,h,m){this.textColor=N.black,this.backColor=N.transparent,this.font=new z("Arial",8),this.permissions=Ga.All,this.icon=ct.Adjust,this.iconAlignment=bt.None,this.condition=c.EqualTo,this.dataType=d.Numeric,this.iconColor=N.maroon,null!=e&&(this.keyValueMeter=e),null!=t&&(this.dataType=t),null!=r&&(this.condition=r),null!=i&&(this.value=i),null!=s&&(this.font=s),null!=n&&(this.textColor=n),null!=l&&(this.backColor=l),null!=a&&(this.permissions=a),null!=o&&(this.icon=o),null!=u&&(this.iconAlignment=u),null!=h&&(this.customIcon=h),null!=m&&(this.iconColor=m)}implements(){return Pc.ImplementsStiPivotTableElementCondition||(Pc.ImplementsStiPivotTableElementCondition=[Ja,a]),Pc.ImplementsStiPivotTableElementCondition}is(e){if(e instanceof B.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){let e=this.saveToJsonObject(null),t=new Pc;return t.loadFromJsonObject(e),t}meta(){return this._hash||(this._hash=[new e("Ident").get(()=>"StiPivotTableElementCondition"),new l("KeyValueMeter"),new i("Condition","",c),new i("DataType","",d),new l("Value"),new t("TextColor","",N.black),new t("BackColor","",N.transparent),new ut("Font"),new i("Permissions","",Ga),new i("IconAlignment","",bt),new t("IconColor","",N.maroon),new i("Icon","",ct),new e("CustomIcon").check(()=>null!=this.customIcon).get(()=>ya.toBase64String(this.customIcon)).set(e=>this.customIcon=ya.fromBase64String(e.value.toString())).setXml(e=>this.customIcon=ya.fromBase64String(e.textContent))])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static loadFromJson(e){let t=new Pc;return t.loadFromJsonObject(e),t}static loadFromXml(e){let t=new Pc;return t.loadFromXml(e),t}get iconFontSize(){return 18*ja.factor}get customIcon(){return this._customIcon}set customIcon(e){this._customIcon=e,this._iconSize=null}isDefault(){return this.textColor.equals(N.black)&&this.condition==B.Report.Components.StiFilterCondition.EqualTo&&this.dataType==B.Report.Components.StiFilterDataType.Numeric&&""==this.value&&""==this.keyValueMeter}get iconSize(){try{if(null==this._iconSize&&null!=this.customIcon){let e=new na;e.bytes=this.customIcon,this._iconSize=new G(e.width,e.height)}else null==this._iconSize&&(this._iconSize=new G(this.iconFontSize,this.iconFontSize))}catch(e){}return this._iconSize}async getIcon(){if(null!=this.customIcon)return this.customIcon;{let e=await ha.convertFontIconToImageAsync(this.icon,this.iconColor,this.iconFontSize,this.iconFontSize,"0.9em");return e.bytes}}getUniqueCode(){return 0}}F.N.StiPivotTableElementCondition=Pc}F.aa.StiPivotColumnConverter=class extends On{},F.aa.StiPivotRowConverter=class extends On{},F.aa.StiPivotSummaryConverter=class extends On{};{class Wa extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(),this.ident=wr.Progress,this.availableOnClick=fr.None,this.availableOnHover=Cr.None,this.availableOnDataManipulation=yr.AllowSorting,this.allowUserSorting=!0,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.fileName=e),null!=t&&(this.headerText=t),null!=r&&(this.footerText=r),null!=i&&(this.showFullScreenButton=i),null!=s&&(this.showSaveButton=s),null!=n&&(this.allowUserSorting=n),null!=l&&(this.showViewDataButton=l)}implements(){return Wa.ImplementsIStiProgressDashboardInteraction||(Wa.ImplementsIStiProgressDashboardInteraction=super.implements().concat([_s,a,$s])),Wa.ImplementsIStiProgressDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new h("AllowUserSorting","",!0),new h("ShowFullScreenButton","",!0),new h("ShowSaveButton","",!0),new h("ShowViewDataButton","",!0),new l("FileName"),new l("HeaderText"),new l("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout&&this.allowUserSorting}}F.g.StiProgressDashboardInteraction=Wa}let Wa=F.g.StiProgressDashboardInteraction,Ua=B.Report.Dashboard.ImplementsIStiProgressElement,Ka=B.Report.Dashboard.StiProgressElementMode,qa=B.Report.Dashboard.IStiProgressElement;{class vh extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this.dataMode=ln.UsingDataFields,this.textFormat=new vt,this.font=new z("Arial",13),this.foreColor=N.transparent,this.title=new F.e.StiTitle,this.layout=new vs,this.shadow=new Ae,this.cornerRadius=new m(0),this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.topN=new si,this.dataTransformation={},this.crossFiltering=!0,this.dataFilters=new P,this.userSorts=new P,this._style=u.Auto,this.customStyleName="",this.seriesColors=[],this.defaultClientRectangle=new O(0,0,160,160),this.helpUrl="user-manual/dashboards_progress.htm",this.colorEach=!0,this.mode=Ka.Circle,this.progressConditions=new P,this.isSampleForStyles=!1,this.title.text=this.localizedName,this.dashboardInteraction=new Wa}implements(){return vh.ImplementsStiProgressElement||(vh.ImplementsStiProgressElement=super.implements().concat([tr,Ie,De,qa,pe,Gt,er,Ms,Er,Ts,Cs,ca,...Vr,...Re,...ve,...Ua,...Ds,...Pt,...Qt,...Fs,...wn,...wa,a])),vh.ImplementsStiProgressElement}clone(e){var e,e;let t=super.clone(e);return t.value=null!=this.value?this.value.clone():null,t.target=null!=this.target?this.target.clone():null,t.series=null!=this.series?this.series.clone():null,t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()),t.transformFilters=this.transformFilters.select(e=>e.clone()),t.transformSorts=this.transformSorts.select(e=>e.clone()),t.dataFilters=this.dataFilters.select(e=>e.clone()),t.topN=this.topN.clone(),t.textFormat=this.textFormat.clone(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.seriesColors=null!=this.seriesColors?this.seriesColors.stimulsoft().clone():null,t.progressConditions=this.progressConditions.select(e=>e.clone()).toList(),t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("UserSorts").get(e=>o.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TopN").check(()=>null!=this.topN).set(e=>this.topN=si.createFromJsonObject(e.value)).setXml(e=>this.topN=si.createFromXml(e)),new n("TextFormat").check(()=>null!=this.textFormat).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e,this.report)),new n("Value").check(()=>null!=this.value).set(e=>{let t=f.loadFromJson(e.value).as(F.M.StiValueProgressMeter);null!=t&&(this.value=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.M.StiValueProgressMeter);null!=t&&(this.value=t)}),new n("Target").check(()=>null!=this.target).set(e=>{let t=f.loadFromJson(e.value).as(Hi);null!=t&&(this.target=t)}).setXml(e=>{let t=f.loadFromXml(e).as(Hi);null!=t&&(this.target=t)}),new n("Series").check(()=>null!=this.series).set(e=>{let t=f.loadFromJson(e.value).as(F.M.StiSeriesProgressMeter);null!=t&&(this.series=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.M.StiSeriesProgressMeter);null!=t&&(this.series=t)}),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e)),new n("Layout").check(()=>null!=this.layout).set(e=>this.layout=vs.createFromJsonObject(e.value)).setXml(e=>this.layout=vs.createFromXml(e)),new t("ForeColor","",N.transparent),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new i("DataMode","",ln,ln.UsingDataFields),new l("ManuallyEnteredData"),new n("SeriesColors").get(e=>o.Serialize.colorArray(this.seriesColors)).set(e=>this.seriesColors=o.Deserialize.colorArray(e)).setXml(e=>this.seriesColors=fs.convertStringToColorArray(e.textContent)),new i("Mode","",Ka,Ka.Circle),new i("Style","",u,u.Auto),new l("CustomStyleName"),new l("Group"),new h("ColorEach","",!0),new n("ProgressConditions").get(e=>o.Serialize.objectArray(this.progressConditions,e)).set(e=>this.progressConditions.addRange(e.value.properties().select(e=>F.M.StiProgressElementCondition.createFromJson(e.value)))).setXml(e=>this.progressConditions.addRange(e.childNodes.select(e=>F.M.StiProgressElementCondition.createFromXml(e)))),new h("CrossFiltering","",!0),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(Wa)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(Wa);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(Wa);null!=t&&(this.dashboardInteraction=t)})])}get componentId(){return te.StiProgressElement}addValue2(e){this.value=null!=e?S.Progress.getValue2(e):null}addValue(e){this.value=S.Progress.getValue(e.as(F.e.StiMeter))}removeValue(){this.value=null}getValue(){return this.value}getValue2(e){return null!=e?S.Progress.getValue(e.as(F.e.StiMeter)):null}createNewValue(){this.value=new F.M.StiValueProgressMeter,this.value.expression="Sum()"}addTarget2(e){this.target=null!=e?S.Progress.getTarget2(e):null}addTarget(e){this.target=S.Progress.getTarget(e.as(F.e.StiMeter))}removeTarget(){this.target=null}getTarget(){return this.target}getTarget2(e){return null!=e?S.Progress.getTarget(e.as(F.e.StiMeter)):null}createNewTarget(){this.target=new Hi,this.target.expression="Sum()"}addSeries2(e){this.series=null!=e?S.Progress.getSeries2(e):null}addSeries(e){this.series=S.Progress.getSeries(e.as(F.e.StiMeter))}removeSeries(){this.series=null}getSeries(){return this.series}getSeries2(e){return null!=e?S.Progress.getSeries(e.as(F.e.StiMeter)):null}createNewSeries(){this.series=new F.M.StiSeriesProgressMeter}getManuallyEnteredDataTable(){if(this.dataMode!=ln.ManuallyEnteringData)return null;return F.e.StiManuallyEnteredDataParser.getProgressDataTable(this.manuallyEnteredData,this)}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(dr)),i=(null!=(r=null==r?t.firstOrDefault(e=>e.is(at)):r)&&(this.value=null==this.value?new F.M.StiValueProgressMeter:this.value,this.value.loadFromJsonObject(r.saveToJsonObject(be.Report))),t.firstOrDefault(e=>e.is(oi))),s=(null!=i&&(this.target=null==this.target?new Hi:this.target,this.target.loadFromJsonObject(i.saveToJsonObject(be.Report))),t.firstOrDefault(e=>e.is(ai)));null!=(s=null==s?t.firstOrDefault(e=>e.is(Te)):s)&&(this.series=null==this.series?new F.M.StiSeriesProgressMeter:this.series,this.series.loadFromJsonObject(s.saveToJsonObject(be.Report))),null==this.dashboardInteraction&&(this.dashboardInteraction=new Wa)}shouldSerializeTextFormat(){return null==this.textFormat||!this.textFormat.is(vt)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&13==this.font.sizeInPoints&&this.font.style==k.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}fetchAllMeters(){let e=new P;return this.dataMode==ln.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.target&&e.add(this.target),null!=this.series&&e.add(this.series)),e}getMeters(){let e=new P;return this.dataMode==ln.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.target&&e.add(this.target),null!=this.series&&e.add(this.series)),e}retrieveUsedDataNames(){return this.dataMode==ln.UsingDataFields?As.getMany(this.value,this.target,this.series):null}get isDefined(){return null!=this.value||null!=this.target||null!=this.series||this.dataMode==ln.ManuallyEnteringData}shouldSerializeDataTransformation(){return null==this.transformActions||this.transformActions.any()||null==this.transformFilters||this.transformFilters.any()||null==this.transformSorts||this.transformSorts.any()}isDefaultDataTransformation(){return!this.shouldSerializeDataTransformation()}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return Be.ProgressElement}get localizedName(){return g.get("Components","StiProgress")}addProgressCondition(e,t,r,i,s,n,l,a){this.progressConditions.add(new F.M.StiProgressElementCondition(e,t,r,i,s,n,l,a))}fetchProgressConditions(){let e=new P;return null!=this.progressConditions&&e.addRange(this.progressConditions),e}clearProgressConditions(){this.progressConditions.clear()}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeConditions(){return null==this.progressConditions||0<this.progressConditions.length}createNew(){return new vh}}F.M.StiProgressElement=vh}let Ya=B.Report.Dashboard.IStiProgressElementCondition,Za=B.Report.Dashboard.StiProgressFieldCondition,Qa=B.Report.Dashboard.StiProgressConditionPermissions;{class Oc{constructor(e,t,r,i,s,n,l,a){this.condition=kn.EqualTo,this.field=Za.Value,this.permissions=Qa.All,this.textColor=N.black,this.color=N.transparent,this.trackColor=N.transparent,this.font=new z("Arial",8),null!=e&&(this.field=e),null!=t&&(this.condition=t),null!=r&&(this.value=r),null!=i&&(this.permissions=i),null!=s&&(this.font=s),null!=n&&(this.textColor=n),null!=l&&(this.color=l),null!=a&&(this.trackColor=a)}implements(){return Oc.ImplementsStiProgressElementCondition||(Oc.ImplementsStiProgressElementCondition=[dt,a,Ya]),Oc.ImplementsStiProgressElementCondition}meta(){return this._hash||(this._hash=[new e("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new i("Condition","",kn,kn.EqualTo),new i("Field","",Za,Za.Value),new l("Value"),new t("Color","",N.transparent),new i("Permissions","",Qa,Qa.All),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new t("TextColor","",N.black),new t("TrackColor","",N.transparent)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}static createFromJson(e){let t=new Oc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Oc;return t.loadFromXml(e),t}}F.M.StiProgressElementCondition=Oc}{class _a extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d){super(e,t,r,i,s,n,l),this.ident=wr.RegionMap,this.availableOnClick=fr.ApplyFilter|fr.OpenHyperlink|fr.ShowDashboard,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=a&&(this.fileName=a),null!=o&&(this.headerText=o),null!=u&&(this.footerText=u),null!=h&&(this.showFullScreenButton=h),null!=m&&(this.showSaveButton=m),null!=d&&(this.showViewDataButton=d)}implements(){return _a.ImplementsIStiRegionMapDashboardInteraction||(_a.ImplementsIStiRegionMapDashboardInteraction=super.implements().concat([a,$s])),_a.ImplementsIStiRegionMapDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new h("ShowFullScreenButton","",!0),new h("ShowSaveButton","",!0),new h("ShowViewDataButton","",!0),new l("FileName"),new l("HeaderText"),new l("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.onHover==gr.ShowToolTip&&this.onClick==pr.ApplyFilter&&this.hyperlinkDestination==Sr.NewTab&&L.isNullOrEmpty(this.hyperlink)&&L.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&L.isNullOrEmpty(this.toolTip)&&this.isDefaultLayout}}F.g.StiRegionMapDashboardInteraction=_a}let _a=F.g.StiRegionMapDashboardInteraction,$a=B.Report.Dashboard.ImplementsIStiRegionMapElement,eo=B.Report.Maps.StiMap,to=B.Report.Maps.StiDisplayNameType,ro=B.Report.Maps.StiMapType,io=B.Report.Maps.StiMapSource,so=B.Report.Dashboard.IStiRegionMapElement;{Ke.add("StiRegionMapElement","Stimulsoft.Dashboard.Export.Tools.StiRegionMapElementExportTool");class Ah extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this.shadow=new Ae,this.cornerRadius=new m(0),this.title=new F.e.StiTitle,this.layout=new vs,this._style=u.Auto,this.customStyleName="",this.userFilters=new P,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.dataFilters=new P,this.helpUrl="user-manual/dashboards_maps_region_map.htm",this.dataMode=ln.UsingDataFields,this.mapIdent="USA",this.dataFrom=io.Manual,this.mapType=ro.Individual,this.showValue=!0,this.showZeros=!0,this.shortValue=!0,this.colorEach=!1,this.showBubble=!1,this.showName=to.Full,this.crossFiltering=!0,this.title.text=this.localizedName,this.dashboardInteraction=new _a}implements(){return Ah.ImplementsStiRegionMapElement||(Ah.ImplementsStiRegionMapElement=super.implements().concat([so,Ie,De,ie,pe,Ms,Ts,...$a,...Re,...ve,...bn,...Ds,...Fs,a,Er])),Ah.ImplementsStiRegionMapElement}clone(e){var e,e;let t=super.clone(e);return t.keyMeter=null!=this.keyMeter?this.keyMeter.clone():null,t.nameMeter=null!=this.nameMeter?this.nameMeter.clone():null,t.valueMeter=null!=this.valueMeter?this.valueMeter.clone():null,t.groupMeter=null!=this.groupMeter?this.groupMeter.clone():null,t.colorMeter=null!=this.colorMeter?this.colorMeter.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(_a)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(_a);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(_a);null!=t&&(this.dashboardInteraction=t)}),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e)),new n("Layout").check(()=>null!=this.layout).set(e=>this.layout=vs.createFromJsonObject(e.value)).setXml(e=>this.layout=vs.createFromXml(e)),new n("KeyMeter").check(()=>null!=this.keyMeter).set(e=>{let t=f.loadFromJson(e.value).as(Oi);null!=t&&(this.keyMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(Oi);null!=t&&(this.keyMeter=t)}),new n("NameMeter").check(()=>null!=this.nameMeter).set(e=>{let t=f.loadFromJson(e.value).as(F.L.StiNameMapMeter);null!=t&&(this.nameMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.L.StiNameMapMeter);null!=t&&(this.nameMeter=t)}),new n("ValueMeter").check(()=>null!=this.valueMeter).set(e=>{let t=f.loadFromJson(e.value).as(F.L.StiValueMapMeter);null!=t&&(this.valueMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.L.StiValueMapMeter);null!=t&&(this.valueMeter=t)}),new n("GroupMeter").check(()=>null!=this.groupMeter).set(e=>{let t=f.loadFromJson(e.value).as(F.L.StiGroupMapMeter);null!=t&&(this.groupMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.L.StiGroupMapMeter);null!=t&&(this.groupMeter=t)}),new n("ColorMeter").check(()=>null!=this.colorMeter).set(e=>{let t=f.loadFromJson(e.value).as(F.L.StiColorMapMeter);null!=t&&(this.colorMeter=t)}).setXml(e=>{let t=f.loadFromXml(e).as(F.L.StiColorMapMeter);null!=t&&(this.colorMeter=t)}),new i("DataFrom","",io,io.Manual),new i("MapType","",ro,ro.Individual),new l("MapData"),new h("ShowValue","",!0),new h("ShortValue","",!0),new h("ShowZeros","",!0),new h("ColorEach"),new h("ShowBubble"),new i("ShowName","",to,to.Full),new i("Style","",u,u.Auto),new l("Group"),new l("Language"),new l("CustomStyleName"),new l(["MapIdent","MapID"]),new h("CrossFiltering","",!0),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent))])}get componentId(){return te.StiRegionMapElement}get allowSkipOwnFilter(){return!0}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}fetchAllMeters(){let e=new P;return null!=this.keyMeter&&e.add(this.keyMeter),null!=this.nameMeter&&e.add(this.nameMeter),null!=this.valueMeter&&e.add(this.valueMeter),null!=this.groupMeter&&e.add(this.groupMeter),null!=this.colorMeter&&e.add(this.colorMeter),e}getMeters(){let e=new P;return this.isDefined&&this.dataFrom==io.DataColumns&&(null!=this.keyMeter&&(ls.isFunctionPresent(this.keyMeter.expression)?e.add(this.keyMeter):e.add(new Oi(this.keyMeter.key,`Iso2(${this.keyMeter.expression}, "${this.mapIdent}")`))),null!=this.nameMeter&&e.add(this.nameMeter),null!=this.valueMeter&&(ls.isAggregationFunctionPresent(this.valueMeter.expression)?e.add(this.valueMeter):e.add(new F.L.StiValueMapMeter(this.valueMeter.key,`First(${this.valueMeter.expression})`))),null!=this.groupMeter&&e.add(this.groupMeter),null!=this.colorMeter&&e.add(this.colorMeter)),e}retrieveUsedDataNames(){let e=new P;return this.dataFrom==io.DataColumns&&(e.addRange(As.getMany(this.keyMeter)),e.addRange(As.getMany(this.nameMeter)),e.addRange(As.getMany(this.valueMeter)),e.addRange(As.getMany(this.groupMeter)),e.addRange(As.getMany(this.colorMeter))),e.distinct()}get isDefined(){return this.dataFrom!=io.DataColumns||null!=this.keyMeter||null!=this.nameMeter||null!=this.valueMeter||null!=this.groupMeter||null!=this.colorMeter}get isQuerable(){return this.dataFrom==io.DataColumns}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}createNextMeter(e){null==this.keyMeter?this.keyMeter=S.RegionMap.getKey2(e):null==this.nameMeter?this.nameMeter=S.RegionMap.getName2(e):null==this.valueMeter?this.valueMeter=S.RegionMap.getValue2(e):null==this.groupMeter?this.groupMeter=S.RegionMap.getGroup2(e):null==this.colorMeter?this.colorMeter=S.RegionMap.getColor2(e):this.keyMeter=S.RegionMap.getKey2(e)}addKeyMeter2(e){this.keyMeter=null!=e?S.RegionMap.getKey2(e):null}addKeyMeter(e){this.keyMeter=null!=e?S.RegionMap.getKey(e.as(F.e.StiMeter)):null}getKeyMeter(){return this.keyMeter}removeKeyMeter(){this.keyMeter=null}createNewKeyMeter(){this.keyMeter=new Oi}addNameMeter2(e){this.nameMeter=null!=e?S.RegionMap.getName2(e):null}addNameMeter(e){this.nameMeter=null!=e?S.RegionMap.getName(e.as(F.e.StiMeter)):null}getNameMeter(){return this.nameMeter}removeNameMeter(){this.nameMeter=null}createNewNameMeter(){this.nameMeter=new F.L.StiNameMapMeter}addValueMeter2(e){this.valueMeter=null!=e?S.RegionMap.getValue2(e):null}addValueMeter(e){this.valueMeter=null!=e?S.RegionMap.getValue(e.as(F.e.StiMeter),this.dashboard):null}getValueMeter(){return this.valueMeter}removeValueMeter(){this.valueMeter=null}createNewValueMeter(){this.valueMeter=new F.L.StiValueMapMeter}addGroupMeter2(e){this.groupMeter=null!=e?S.RegionMap.getGroup2(e):null}addGroupMeter(e){this.groupMeter=null!=e?S.RegionMap.getGroup(e.as(F.e.StiMeter)):null}getGroupMeter(){return this.groupMeter}removeGroupMeter(){this.groupMeter=null}createNewGroupMeter(){this.groupMeter=new F.L.StiGroupMapMeter}addColorMeter2(e){this.colorMeter=null!=e?S.RegionMap.getColor2(e):null}addColorMeter(e){this.colorMeter=null!=e?S.RegionMap.getColor(e.as(F.e.StiMeter)):null}getColorMeter(){return this.colorMeter}removeColorMeter(){this.colorMeter=null}createNewColorMeter(){this.colorMeter=new F.L.StiColorMapMeter}convertFrom(e){let t=e.as(F.O.StiOnlineMapElement);null==t||null==t.location||t.location.isDefault()||(this.keyMeter=new Oi,this.keyMeter.label=t.location.label,this.keyMeter.expression=t.location.expression),null==this.dashboardInteraction&&(this.dashboardInteraction=new _a)}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return Be.RegionMapElement}get localizedName(){return g.get("Components","StiRegionMap")}get dashboardInteraction(){return this._dashboardInteraction}set dashboardInteraction(e){this._dashboardInteraction=e}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}getManuallyEnteredDataTable(){if(this.dataFrom==io.Manual){let e=this.getMapData().orderBy(e=>e.key).toList(),r=new nt;r.meters.add(new Oi("Key","Key")),r.meters.add(new F.L.StiNameMapMeter("Name","Name")),r.meters.add(new F.L.StiValueMapMeter("Value","Value"));for(let t of e){let e=[];e[0]=t.key,e[1]=t.name,e[2]=t.value,r.rows.add(e)}return r}return null}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==pr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(Q.isEmptyKey(t))return null;let e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new P([e])}getMapData(){let e=new eo;return e.mapData=this.mapData,e.mapIdent=this.mapIdent,e.page=this.page,e.getMapData()}createNew(){return new Ah}}F.L.StiRegionMapElement=Ah}let no=B.Report.Components.StiShapeTypeService,lo=B.Report.Dashboard.ImplementsIStiShapeElement,ao=B.Report.Components.StiRectangleShapeType,oo=B.Report.Dashboard.IStiShapeElement;{Ke.add("StiShapeElement","Stimulsoft.Dashboard.Export.Tools.StiShapeElementExportTool");class wh extends F.e.StiElement{constructor(e=O.empty){super(e),this.helpUrl="user-manual/dashboards_shape.htm",this.title=new Fn,this.shapeType=new ao,this._size=1,this.fill=new M,this.stroke=N.black,this.title.text=this.localizedName,this.title.visible=!1,this.padding=ze.create(0)}implements(){return wh.ImplementsStiShapeElement||(wh.ImplementsStiShapeElement=super.implements().concat([oo,pe,Ts,...lo,...Ds,a])),wh.ImplementsStiShapeElement}clone(e){let t=super.clone(e);return t.title=null!=this.title?this.title.clone():null,t}get componentId(){return te.StiShapeElement}meta(){return this._hash||(this._hash=[...super.meta(),new n("Title").check(()=>null!=this.title).set(e=>{this.title=new Fn,this.title.loadFromJsonObject(e)}).setXml(e=>{this.title=new Fn,this.title.loadFromXml(e)}),new Ct("Fill"),new t("Stroke","",N.black),new T("Size","",1),new n("ShapeType").set(e=>this.shapeType=no.createFromJsonObject(e.value)).setXml(e=>{this.shapeType=no.convertFromXml(e),this.shapeType.loadFromXml(e)}),new n("Padding").get(e=>this.padding.saveToJsonObject(0,0,0,0))])}get toolboxPosition(){return Be.ShapeElement}get localizedName(){return g.get("Components","StiShape")}get isDefined(){return!0}get isQuerable(){return!1}shouldSerializePadding(){return!this.padding.isEmpty}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}createNew(){return new wh}get size(){return this._size}set size(e){e!=this._size&&(this._size=e<1?1:e)}}F.X.StiShapeElement=wh}{let e;(s=e=F.K.StiDataBarsDirection||(F.K.StiDataBarsDirection={}))[s["LeftToRight"]=0]="LeftToRight",s[s["RighToLeft"]=1]="RighToLeft";let t;(s=t=F.K.StiDataBarsBrushType||(F.K.StiDataBarsBrushType={}))[s["Solid"]=0]="Solid",s[s["Gradient"]=1]="Gradient";let r;(s=r=F.K.StiSparklinesType||(F.K.StiSparklinesType={}))[s["Line"]=0]="Line",s[s["Area"]=1]="Area",s[s["Column"]=2]="Column",s[s["WinLoss"]=3]="WinLoss"}F.K.StiTableColumnVisibilityHelper=class{static async getVisible(e,t){if(e.visibility==br.True)return!0;if(e.visibility==br.False)return!1;if(L.isNullOrWhiteSpace(e.visibilityExpression))return!1;let r=await rt.parseAsync2(e.visibilityExpression,t);return v.tryToBool(r)}};{class wo{static getSelected(e){let t=this.hash.get(e.key);if(null==t)return null;return t.keys.cast().toList()}static getSelectedObjects(e){let t=this.getSelected(e);return null!=t?t.cast():null}static isSelected(e,t){let r=this.hash.get(e.key);return null==r&&(r=new Na,this.hash.set(e.key,r)),null!=r.get(t)}static select(e,t){let r=this.hash.get(e.key);null==r&&(r=new Na,this.hash.set(e.key,r)),r.set(t,t)}static resetSelection(e){this.hash.containsKey(e.key)&&this.hash.remove(e.key)}}wo.hash=new Na,F.h.StiTableElementSelection=wo}let uo=B.Report.Dashboard.IStiAllowUserColumnSelectionDashboardInteraction,ho=B.Report.Dashboard.IStiTableDashboardInteraction,mo=B.Report.Dashboard.IStiAllowUserFilteringDashboardInteraction;{class go extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g,p,S,w){super(e,t,r,i,s,n,l),this.allowUserColumnSelection=!0,this.allowUserSorting=!0,this.allowUserFiltering=!0,this.drillDownFiltered=!0,this.fullRowSelect=!1,this.ident=wr.Table,this.availableOnClick=fr.None,this.availableOnHover=Cr.None,this.availableOnDataManipulation=yr.AllowFiltering|yr.AllowSorting,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=u&&(this.allowUserColumnSelection=u),null!=a&&(this.allowUserFiltering=a),null!=o&&(this.allowUserSorting=o),null!=h&&(this.drillDownFiltered=h),null!=m&&(this.fullRowSelect=m),null!=d&&(this.fileName=d),null!=c&&(this.headerText=c),null!=g&&(this.footerText=g),null!=p&&(this.showFullScreenButton=p),null!=S&&(this.showSaveButton=S),null!=w&&(this.showViewDataButton=w)}implements(){return go.ImplementsIStiTableDashboardInteraction||(go.ImplementsIStiTableDashboardInteraction=super.implements().concat([ho,_s,uo,mo,a,$s])),go.ImplementsIStiTableDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new h("AllowUserColumnSelection","",!0),new h("AllowUserSorting","",!0),new h("AllowUserFiltering","",!0),new h("DrillDownFiltered","",!0),new h("FullRowSelect"),new h("ShowFullScreenButton","",!0),new h("ShowSaveButton","",!0),new h("ShowViewDataButton","",!0),new l("FileName"),new l("HeaderText"),new l("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout&&this.allowUserColumnSelection&&this.allowUserFiltering&&this.allowUserSorting&&this.drillDownFiltered&&!this.fullRowSelect&&super.isDefault()}}F.g.StiTableDashboardInteraction=go}let co=B.Report.Dashboard.StiTableConditionPermissions;{class Co{constructor(e,t,r,i,s,n,l,a,o,u){this.keyDataFieldMeters=[],this.keyDestinationMeters=[],this.dataType=B.Report.Components.StiFilterDataType.Numeric,this.condition=B.Report.Components.StiFilterCondition.EqualTo,this.permissions=co.All,this.font=new z("Arial",8),this.foreColor=N.black,this.backColor=N.transparent,this.isExpression=!1,null!=e&&(this.keyDataFieldMeters=e),null!=t&&(this.keyDestinationMeters=t),null!=r&&(this.dataType=r),null!=i&&(this.condition=i),null!=s&&(this.value=s),null!=n&&(this.permissions=n),null!=l&&(this.font=l),null!=a&&(this.foreColor=a),null!=o&&(this.backColor=o),null!=u&&(this.isExpression=u)}implements(){return Co.ImplementsStiTableElementCondition||(Co.ImplementsStiTableElementCondition=[dt,xa,a]),Co.ImplementsStiTableElementCondition}meta(){return this._hash||(this._hash=[new e("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new n("KeyValueMeters").get(()=>o.Serialize.stringArray(this.keyValueMeters)).set(e=>this.keyValueMeters=o.Deserialize.stringArray(e.value)).setXml(e=>this.keyValueMeters=this.parseStringArray(e)),new n("KeyDataFieldMeters").get(()=>o.Serialize.stringArray(this.keyDataFieldMeters)).set(e=>this.keyValueMeters=o.Deserialize.stringArray(e.value)).setXml(e=>this.keyValueMeters=this.parseStringArray(e)),new n("KeyDestinationMeters").get(()=>o.Serialize.stringArray(this.keyDestinationMeters)).set(e=>this.keyDestinationMeters=o.Deserialize.stringArray(e.value)).setXml(e=>this.keyDestinationMeters=this.parseStringArray(e)),new i("DataType","",F.a.StiFilterDataType,F.a.StiFilterDataType.Numeric),new i("Condition","",kn,kn.EqualTo),new l("Value"),new h("IsExpression"),new i("Permissions","",co,co.All),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new t("ForeColor","",N.black),new t("BackColor","",N.transparent)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}parseStringArray(r){let i=[];for(let t=0;t<r.childNodes.length;t++){let e=r.childNodes[t];"value"==e.nodeName&&(i[t]=e.textContent)}return i}clone(){return this.stimulsoft().memberwiseClone()}get keyValueMeters(){return this.keyDataFieldMeters}set keyValueMeters(e){this.keyDataFieldMeters=e,this.keyDestinationMeters=e}static createFromJson(e){let t=new Co;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Co;return t.loadFromXml(e),t}}F.K.StiTableElementCondition=Co}let go=F.g.StiTableDashboardInteraction,po=B.Report.Dashboard.StiTableSizeMode,So=B.Report.Dashboard.ImplementsIStiTableElement,wo=F.h.StiTableElementSelection,fo=B.Report.Dashboard.IStiTableElement,Co=F.K.StiTableElementCondition;{Ke.add("StiTableElement","Stimulsoft.Dashboard.Export.Tools.StiTableElementExportTool");class Fh extends F.e.StiElement{constructor(e=O.empty){super(e),this.shadow=new Ae,this.cornerRadius=new m(0),this.title=new F.e.StiTitle,this.layout=new vs,this.group="",this.foreColor=N.transparent,this.font=new z("Arial",10),this._style=u.Auto,this.customStyleName="",this.userFilters=new P,this.userSorts=new P,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.dataFilters=new P,this.tableConditions=new P,this.crossFiltering=!0,this.helpUrl="user-manual/dashboards_table.htm",this.columns=new P,this.sizeMode=po.AutoSize,this.headerForeColor=N.transparent,this.headerFont=new z("Arial",10),this.footerForeColor=N.transparent,this.footerFont=new z("Arial",10),this.title.text=this.localizedName,this.dashboardInteraction=new go}implements(){return Fh.ImplementsStiTableElement||(Fh.ImplementsStiTableElement=super.implements().concat([fo,Ie,De,pe,Ms,Ts,...So,...Re,...ve,...Ds,...Fs,a,Er,ie])),Fh.ImplementsStiTableElement}clone(e){var e,e;let t=super.clone(e);return t.columns=this.columns.select(e=>e.clone()).toList(),t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.tableConditions=this.tableConditions.select(e=>e.clone()).toList(),t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new n("Columns").get(e=>o.Serialize.objectArray(this.columns,e)).set(e=>this.columns.addRange(e.value.properties().select(e=>f.loadFromJson(e.value).as(Qi)).where(e=>null!=e))).setXml(e=>this.columns.addRange(e.childNodes.select(e=>f.loadFromXml(e)).where(e=>null!=e))),new n("UserFilters").get(e=>o.Serialize.objectArray(this.userFilters,e)).set(e=>this.userFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.userFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("UserSorts").get(e=>o.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new t("HeaderForeColor","",N.transparent),new t("FooterForeColor","",N.transparent),new t("ForeColor","",N.transparent),new l("HeaderFont").get(()=>o.Serialize.fontArial8(this.headerFont)).set(e=>this.headerFont=o.Deserialize.font(e.value,this.headerFont)).setXml(e=>this.headerFont=B.System.Convert.toFont(e.textContent)),new l("FooterFont").get(()=>o.Serialize.fontArial8(this.footerFont)).set(e=>this.footerFont=o.Deserialize.font(e.value,this.footerFont)).setXml(e=>this.footerFont=B.System.Convert.toFont(e.textContent)),new ut("Font","","Arial",10),new h("CrossFiltering","",!0),new n("TableConditions").get(e=>o.Serialize.objectArray(this.tableConditions.select(e=>e.stimulsoft().as(Co)),e)).set(e=>this.tableConditions.addRange(e.value.properties().select(e=>Co.createFromJson(e.value)))).setXml(e=>this.tableConditions.addRange(e.childNodes.select(e=>Co.createFromXml(e)))),new n("Title").check(()=>null!=this.title),new n("Layout").check(()=>null!=this.layout),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(go)).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(go);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(go);null!=t&&(this.dashboardInteraction=t)}),new i("Style","",u,u.Auto),new i("SizeMode","",po,po.AutoSize),new l("Group"),new l("CustomStyleName"),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent))])}get componentId(){return te.StiTableElement}createMeters(e){let t=e.as(Fh);this.columns.clear();for(let e of t.columns)this.columns.add(e)}createMeters2(t){this.columns.clear();for(let e of t.columns.list)null!=e&&null!=e.type&&fe.isNumericType(e.type)?this.columns.add(S.Table.getMeasure2(e)):this.columns.add(S.Table.getDimension2(e))}createMeter3(e){let t=e.as(jr),r=e.as(ws),i=null!=t?t.type:null==r?void 0:r.type;if(null!=i&&fe.isNumericType(i)){let e=S.Table.getMeasure2(t);e.showTotalSummary=!0,e.summaryType=Rr.Sum,this.columns.add(e)}else this.columns.add(S.Table.getDimension2(e))}removeMeter(e){e<this.columns.length&&this.columns.removeAt(e)}removeAllMeters(){this.columns.clear()}insertMeter(e,t){let r=t.as(Qi);if(null==r)return;0<=e&&e<this.columns.length?this.columns.insert(e,r):this.columns.add(r)}insertNewDimension(e){let t=new F.K.StiDimensionColumn;t.horAlignment=V.Left,this.insertMeter(e,t)}insertNewMeasure(e){let t=new F.K.StiMeasureColumn;t.expression="Sum()",t.horAlignment=V.Right,this.insertMeter(e,t)}getMeasure(e){return S.Table.getMeasure2(e)}getDimension(e){return S.Table.getDimension2(e)}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}convertFrom(e){let t=e.fetchAllMeters();if(this.columns.clear(),null==t)return;t.cast().forEach(e=>{let t=null;e.is2(Te)?t=new F.K.StiDimensionColumn:e.is2(zr)?t=new F.K.StiSparklinesColumn:e.is2(Or)?t=new F.K.StiDataBarsColumn:e.is2(Nr)?t=new F.K.StiIndicatorColumn:e.is2(Pr)?t=new F.K.StiColorScaleColumn:e.is2(or)?t=new F.K.StiBubbleColumn:e.is2(at)&&((t=new F.K.StiMeasureColumn).horAlignment=V.Right),null!=t&&(t.loadFromJsonObject(e.saveToJsonObject(be.Report)),this.columns.add(t))},this),null==this.dashboardInteraction&&(this.dashboardInteraction=new go)}fetchAllMeters(){return this.columns.cast()}getMeters(){return this.columns.cast()}retrieveUsedDataNames(){return As.getMany2(this.columns)}get isDefined(){return null!=this.columns&&0<this.columns.length}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}get allowSkipOwnFilter(){return!this.dashboardInteraction.drillDownFiltered}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&10==this.font.sizeInPoints&&this.font.style==k.Regular)}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}setString(r,i){switch(r){case"Title.Text":this.title.text=i;break}let s=0;for(let t of this.columns){let e=`Column${s++}.Label`;r==e&&(t.label=i)}}getString(r){switch(r){case"Title.Text":return this.title.text}let i=0;for(let t of this.columns){let e=`Column${i++}.Label`;if(r==e)return t.label}throw new Error(`Property with name `+r)}getAllStrings(){let t=["Title.Text"],r=0;return this.columns.forEach(e=>t.push(`Column${r++}.Label`)),t}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}addTableCondition(e,t,r,i,s,n,l,a,o,u){null==this.tableConditions&&(this.tableConditions=new P),this.tableConditions.add(new Co(e,t,r,i,s,n,l,a,o,u))}get toolboxPosition(){return Be.TableElement}get localizedName(){return g.get("Components","StiTable")}shouldSerializeColumns(){return null==this.columns||0<this.columns.length}shouldSerializeHeaderForeColor(){return!N.transparent.equals(this.headerForeColor)}shouldSerializeHeaderFont(){return!(null!=this.headerFont&&"Arial"==this.headerFont.name&&10==this.headerFont.sizeInPoints&&this.headerFont.style==k.Regular)}shouldSerializeFooterForeColor(){return!N.transparent.equals(this.footerForeColor)}shouldSerializeFooterFont(){return!(null!=this.footerFont&&"Arial"==this.footerFont.name&&10==this.footerFont.sizeInPoints&&this.footerFont.style==k.Regular)}getNestedPages(){var e,t;let r=new P,i="";if(null!=this.dashboardInteraction&&this.dashboardInteraction.onClick!=pr.None&&(i=null==(e=this.dashboardInteraction)?void 0:e.drillDownPageKey,Q.isKey(i))){let e=this.report.pages.toList().firstOrDefault(e=>e.guid==i);null!=e&&r.add(e)}for(let e of this.columns)if(null!=(null===e||void 0===e?void 0:e.dashboardInteraction)&&e.dashboardInteraction.onClick!=pr.None&&(i=null==(t=null===e||void 0===e?void 0:e.dashboardInteraction)?void 0:t.drillDownPageKey,Q.isKey(i))){let e=this.report.pages.toList().firstOrDefault(e=>e.guid==i);null!=e&&r.add(e)}return 0==r.length?null:r.distinct()}getFormatObjects(){return wo.getSelectedObjects(this)}createNew(){return new Fh}}F.K.StiTableElement=Fh}F.K.StiTableElementConditionHelper=class{static async getConditionResult(i,t,s){let e=!1;if(null!=i){try{if(t.dataType==B.Report.Components.StiFilterDataType.Numeric)i=null==i?0:i.stimulsoft().toNumber();else if(t.dataType==F.a.StiFilterDataType.DateTime){let e=w.fromString(i.toString(),!1);i=null!=e?e:w.fromOADate(i.stimulsoft().toNumber())}}catch(e){}let r=await this.getConditionValue(t,s),e=i;if(null!=e&&null!=r){i.stimulsoft().getType()!=r.stimulsoft().getType()&&(i=i.toString(),r=r.stimulsoft().toString(),e=i);try{switch(t.condition){case B.Report.Components.StiFilterCondition.EqualTo:return 0==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.NotEqualTo:return 0!=e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.GreaterThan:return 1==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.GreaterThanOrEqualTo:return 0<=e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.LessThan:return-1==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.LessThanOrEqualTo:return e.stimulsoft().compareTo(r)<=0;case B.Report.Components.StiFilterCondition.Containing:{let e=i.toString(),t=r.toString();return-1!=e.indexOf(t)}case B.Report.Components.StiFilterCondition.NotContaining:{let e=i.toString(),t=r.toString();return-1==e.indexOf(t)}case B.Report.Components.StiFilterCondition.BeginningWith:{let e=i.toString(),t=r.toString();return e.stimulsoft().startsWith(t)}case B.Report.Components.StiFilterCondition.EndingWith:{let e=i.toString(),t=r.toString();return e.stimulsoft().endsWith(t)}}}catch(e){}}}return e}static async getConditionValue(r,e){try{let t=r.isExpression?await rt.parseAsync(`{${r.value}}`,e):r.value;switch(r.dataType){case F.a.StiFilterDataType.String:return t;case F.a.StiFilterDataType.Numeric:return null!=t?t.stimulsoft().toNumber():0;case F.a.StiFilterDataType.DateTime:{let e=w.fromString(t,!1);if(null!=e)return e;break}case F.a.StiFilterDataType.Boolean:return"true"==t.toLowerCase()}}catch(e){B.System.StiError.showError("Problem when parsing Table Element "+r+" value\n",!1)}return null}static async processBackColor(e,t,s,n,l){for(let i of s.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let r=0;r<l.length;r++){let e=l[r],t=n[r];if(0<=i.keyDataFieldMeters.indexOf(e)&&0<(i.permissions&co.BackColor)&&await this.getConditionResult(t,i,s))return i.backColor}return e}static async processForeColor(e,t,s,n,l){for(let i of s.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let r=0;r<l.length;r++){let e=l[r],t=n[r];if(0<=i.keyDataFieldMeters.indexOf(e)&&0<(i.permissions&co.ForeColor)&&await this.getConditionResult(t,i,s))return i.foreColor}return e}static async processFontStyle(e,t,r,i,s){let n=await this.processFontBold(e.bold,t,r,i,s),l=await this.processFontItalic(e.italic,t,r,i,s),a=await this.processFontUnderline(e.underline,t,r,i,s),o=await this.processFontStrikeout(e.strikeout,t,r,i,s),u=k.Regular;return n&&(u^=k.Bold),l&&(u^=k.Italic),a&&(u^=k.Underline),o&&(u^=k.Strikeout),u}static async processFontStrikeout(e,t,s,n,l){for(let i of s.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let r=0;r<l.length;r++){let e=l[r],t=n[r];if(0<=i.keyDataFieldMeters.indexOf(e)&&0<(i.permissions&co.FontStyleStrikeout)&&await this.getConditionResult(t,i,s))return i.font.strikeout}return e}static async processFontUnderline(e,t,s,n,l){for(let i of s.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let r=0;r<l.length;r++){let e=l[r],t=n[r];if(0<=i.keyDataFieldMeters.indexOf(e)&&0<(i.permissions&co.FontStyleUnderline)&&await this.getConditionResult(t,i,s))return i.font.underline}return e}static async processFontItalic(e,t,s,n,l){for(let i of s.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let r=0;r<l.length;r++){let e=l[r],t=n[r];if(0<=i.keyDataFieldMeters.indexOf(e)&&0<(i.permissions&co.FontStyleItalic)&&await this.getConditionResult(t,i,s))return i.font.italic}return e}static async processFontBold(e,t,s,n,l){for(let i of s.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let r=0;r<l.length;r++){let e=l[r],t=n[r];if(0<=i.keyDataFieldMeters.indexOf(e)&&0<(i.permissions&co.FontStyleBold)&&await this.getConditionResult(t,i,s))return i.font.bold}return e}},F.ab.StiDataBarsColumnConverter=class extends On{},F.ab.StiDimensionColumnConverter=class extends On{},F.ab.StiSparklinesColumnConverter=class extends On{},F.ab.StiTableColumnConverter=class extends On{},F.g.StiTextDashboardInteraction=class extends F.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(e,t,r,i,s,n,l),this.ident=wr.Text,this.availableOnClick=fr.OpenHyperlink|fr.ShowDashboard,this.onClick=pr.OpenHyperlink}isDefault(){return this.onHover==gr.ShowToolTip&&this.onClick==pr.OpenHyperlink&&this.hyperlinkDestination==Sr.NewTab&&L.isNullOrEmpty(this.hyperlink)&&L.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&L.isNullOrEmpty(this.toolTip)}};let yo=B.Report.StiParserType,bo=F.g.StiTextDashboardInteraction,xo=B.Report.Dashboard.StiDashboardDesignAssembly,To=B.Report.Dashboard.ImplementsIStiTextElement,Fo=B.Report.Dashboard.IStiTextElement,Mo=B.Report.Components.IStiTextFont;{Ke.add("StiTextElement","Stimulsoft.Dashboard.Export.Tools.StiTextElementExportTool");class Th extends F.e.StiElement{constructor(e=O.empty){super(e),this.title=new F.e.StiTitle,this.shadow=new Ae,this.cornerRadius=new m(0),this.text="",this.group="",this.foreColor=N.transparent,this.crossFiltering=!0,this.vertAlignment=Mt.Center,this.defaultClientRectangle=new O(0,0,100,40),this.helpUrl="user-manual/dashboards_text.htm",this.sizeMode=ot.Fit,this.title.text=this.localizedName,this.title.visible=!1,this.padding=ze.create(0),this.dashboardInteraction=new bo}implements(){return Th.ImplementsStiTextElement||(Th.ImplementsStiTextElement=super.implements().concat([Mo,Ie,De,er,Jt,jt,Fo,pe,Ts,...Vr,...Re,...ve,...Qt,...zt,...Ot,...To,...Ds,a,Er])),Th.ImplementsStiTextElement}clone(e){var e,e;let t=super.clone(e);return t.title=null!=this.title?this.title.clone():null,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}get componentId(){return te.StiTextElement}meta(){return this._hash||(this._hash=[...super.meta(),new D("HorAlignment"),new D("Padding"),new l("Group"),new n("DashboardInteraction").check(()=>null!=this.dashboardInteraction).set(e=>{var e;let t=null==(e=kr.loadInteractionFromJsonObject(e.value))?void 0:e.as(bo);null!=t&&(this.dashboardInteraction=t)}).setXml(e=>{var e;let t=null==(e=kr.loadInteractionFromXml(e))?void 0:e.as(bo);null!=t&&(this.dashboardInteraction=t)}),new n("Padding").get(()=>this.padding.saveToJsonObject(0,0,0,0)),new t("ForeColor","",N.transparent),new l("Text"),new i("VertAlignment","",Mt,Mt.Center),new i("SizeMode","",ot,ot.Fit),new h("CrossFiltering","",!0),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e))])}get isDefined(){return!L.isNullOrWhiteSpace(this.text)}get isQuerable(){return W.Engine.dashboardTextElementExpressionParser==yo.DataParser&&!L.isNullOrEmpty(this.text)&&this.text.stimulsoft().contains("{")}fetchAllMeters(){return this.getMeters()}getMeters(){var e;if(W.Engine.dashboardTextElementExpressionParser==yo.ReportParser)return new P;if(L.isNullOrEmpty(this.text))return null;return null==(e=ls.fetchBlocksFromExpression(this.text))?void 0:e.select(e=>new F.V.StiTextMeter(e,e,e)).cast().toList();return null}retrieveUsedDataNames(){return W.Engine.dashboardTextElementExpressionParser==yo.ReportParser?super.retrieveUsedDataNames():As.getMany2(this.getMeters()).distinct().toList()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}getSimpleText(){return this.getHtmlTextHelper().getSimpleText(this.text,j.getForeColor(this))}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}getFont(){let e=this.getHtmlTextHelper();if(null==e)return null;return e.getFont(this,this.text,j.getForeColor(this))}setFontName(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontName(this,this.text,e,j.getForeColor(this)))}setFontSize(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontSize(this,this.text,e,j.getForeColor(this)))}growFontSize(){let e=this.getHtmlTextHelper();null!=e&&(this.text=e.growFontSize(this,this.text,j.getForeColor(this)))}shrinkFontSize(){let e=this.getHtmlTextHelper();null!=e&&(this.text=e.shrinkFontSize(this,this.text,j.getForeColor(this)))}setFontBoldStyle(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontBoldStyle(this,this.text,e,j.getForeColor(this)))}setFontItalicStyle(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontItalicStyle(this,this.text,e,j.getForeColor(this)))}setFontUnderlineStyle(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontUnderlineStyle(this,this.text,e,j.getForeColor(this)))}get horAlignment(){let e=this.getHtmlTextHelper();return e.getHorAlign(this,this.text,j.getForeColor(this))}set horAlignment(e){this.text=this.getHtmlTextHelper().setHorAlignment(this,this.text,e,j.getForeColor(this))}shouldSerializePadding(){return!this.padding.isEmpty}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break;case"Text":this.text=t;break}}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}getString(e){switch(e){case"Title.Text":return this.title.text;case"Text":return this.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text","Text"]}get toolboxPosition(){return Be.TextElement}get localizedName(){return g.get("Components","StiText")}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==pr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(Q.isEmptyKey(t))return null;let e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new P([e])}createNew(){return new Th}getHtmlTextHelper(){return xo.getHtmlTextHelper()}}F.V.StiTextElement=Th}{class zc extends F.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=F.e.StiMeterIdent.TextMeter}implements(){return zc.ImplementsStiTextMeter||(zc.ImplementsStiTextMeter=super.implements().concat([dr])),zc.ImplementsStiTextMeter}get localizedName(){return c.get("PropertyMain","Text")}}F.V.StiTextMeter=zc}F.Z.StiTextConverter=class{},F.J.StiTreeItem=class{constructor(e,t){this.key=e,this.meter=t}toString(){return null==this.key?"":this.key.toString()}};let vo=B.Report.Dashboard.ImplementsIStiTreeViewElement,Do=B.Report.Dashboard.IStiTreeViewElement;{Ke.add("StiTreeViewElement","Stimulsoft.Dashboard.Export.Tools.StiTreeViewElementExportTool");class bh extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this.shadow=new Ae,this.cornerRadius=new m(0),this.title=new F.e.StiTitle,this._style=u.Auto,this.customStyleName="",this.userFilters=new P,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.dataFilters=new P,this.font=new z("Arial",8),this.foreColor=N.transparent,this.showAllValue=!1,this.showBlanks=!1,this.selectionMode=Hn.Multi,this.textFormat=new vt,this.defaultClientRectangle=new O(0,0,200,300),this.helpUrl="user-manual/dashboards_data_filtering_tree_view.htm",this.keyMeters=new P,this.title.text=this.localizedName,this.title.visible=!1}implements(){return bh.ImplementsStiTreeViewElement||(bh.ImplementsStiTreeViewElement=super.implements().concat([Do,Ie,De,pe,Ts,...vo,...Re,...ve,...Ds,a])),bh.ImplementsStiTreeViewElement}clone(e){var e,e;let t=super.clone(e);return t.keyMeters=this.keyMeters.select(e=>e.clone()).toList(),t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.title=null!=this.title?this.title.clone():null,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}get componentId(){return te.StiTreeViewElement}meta(){return this._hash||(this._hash=[...super.meta(),new l("ParentKey"),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new t("ForeColor","",N.transparent),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new h("ShowAllValue"),new h("ShowBlanks"),new n("KeyMeters").get(e=>o.Serialize.objectArray(this.keyMeters,e)).set(e=>this.keyMeters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.keyMeters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new n("Title").check(()=>null!=this.title).set(e=>this.title=F.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=F.e.StiTitle.createFromXml(e)),new i("SelectionMode","",Hn,Hn.Multi),new i("Style","",u,u.Auto),new l("Group"),new l("CustomStyleName"),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("TextFormat").check(()=>null!=this.textFormat).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e,this.report))])}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}getParentKey(){return this.parentKey}setParentKey(e){this.parentKey=e}async applyDefaultFilters(){let e=await F.J.StiTreeViewHelper.fetchDefaultUserFilters2(this);null!=e&&(this.userFilters=e)}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}fetchAllMeters(){let e=new P;return e.addRange(this.keyMeters),e}getMeters(){let e=new P;return e.addRange(this.keyMeters),e}retrieveUsedDataNames(){return As.getMany2(this.keyMeters)}get isDefined(){return null!=this.keyMeters&&0<this.keyMeters.length}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==k.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}getKeyMeter(e){return null!=e?S.TreeView.getKey2(e):null}getKeyMeterByIndex(e){return e<this.keyMeters.length?this.keyMeters[e]:null}insertKeyMeter(e,t){let r=t.as(F.J.StiKeyTreeViewMeter);null!=r&&(0<=e&&e<this.keyMeters.length?this.keyMeters.insert(e,r):this.keyMeters.add(r))}removeKeyMeter(e){e<this.keyMeters.length&&this.keyMeters.removeAt(e)}removeAllKeyMeters(){this.keyMeters.clear()}addNewKeyMeter(){let e=new F.J.StiKeyTreeViewMeter;return this.keyMeters.add(e),e}addKey(e){null==this.keyMeters&&(this.keyMeters=new P),this.keyMeters.add(S.TreeView.getKey2(e))}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(dr));if(null!=(r=null==r?t.firstOrDefault(e=>e.is(at)):r)){let e=new F.J.StiKeyTreeViewMeter;e.loadFromJsonObject(r.saveToJsonObject(be.Report)),this.keyMeters.clear(),this.keyMeters.add(e)}}shouldSerializeTextFormat(){return!this.textFormat.is(vt)}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return Be.TreeViewElement}get localizedName(){return g.get("Components","StiTreeView")}createNew(){return new bh}}F.J.StiTreeViewElement=bh}let Ao=F.J.StiTreeItem,Io=(F.J.StiTreeViewHelper=class{static fetchItems(l,a){let t=new Ao;for(let e of l.rows){let s=0,n=t;for(let i of e){let e=null==i,t=L.isNullOrEmpty(i),r=e||t;if(a||!r){let e=null!=n.items?n.items.firstOrDefault(e=>e.key==i):null;null==e&&(e=new Ao(i,l.meters[s]),null==n.items&&(n.items=new P),n.items.add(e)),n=e}s++}}return t.items}static async fetchDefaultUserFilters(e){if(e.showAllValue)return null;if(e.selectionMode==Hn.Multi)return null;let t=await Jn.getOrCreate(e),r=this.fetchItems(t,e.showBlanks);if(null==r)return null;let i=r.firstOrDefault();if(null==i)return null;let s=i.meter,n=s.expression;return Gn.createEqualBasedOnValue(i.key,n,e).toList()}static async fetchDefaultUserFilters2(e){if(e.showAllValue)return null;if(e.selectionMode==Hn.Multi)return null;let t=await Jn.getOrCreate(e),r=this.fetchItems(t,e.showBlanks);if(null==r)return null;let i=r.firstOrDefault();if(null==i)return null;let s=i.meter,n=s.expression;return Gn.createEqualBasedOnValue(i.key,n,e).toList()}static format(e,t){var r,r;return t instanceof w&&!e.textFormat.is(Fr)?t.toShortDateString():Xr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Xr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):e.textFormat.format(t)}static format2(e,t){var r,r;return t instanceof w&&!e.textFormat.is(Fr)?t.toShortDateString():Xr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Xr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):e.textFormat.format(t)}},B.Report.Dashboard.ImplementsIStiTreeViewBoxElement),Ro=F.J.StiTreeViewHelper,Eo=B.Report.Dashboard.IStiTreeViewBoxElement;{Ke.add("StiTreeViewBoxElement","Stimulsoft.Dashboard.Export.Tools.StiTreeViewBoxElementExportTool");class yh extends F.e.StiElement{constructor(e=O.empty){super(e),this.group="",this.shadow=new Ae,this.cornerRadius=new m(0),this._style=u.Auto,this.customStyleName="",this.userFilters=new P,this.transformActions=new P,this.transformFilters=new P,this.transformSorts=new P,this.dataTransformation={},this.dataFilters=new P,this.font=new z("Arial",8),this.foreColor=N.transparent,this.showAllValue=!1,this.showBlanks=!1,this.selectionMode=Hn.Multi,this.textFormat=new vt,this.defaultClientRectangle=new O(0,0,200,40),this.helpUrl="user-manual/dashboards_data_filtering_tree_view_box.htm",this.keyMeters=new P}implements(){return yh.ImplementsStiTreeViewBoxElement||(yh.ImplementsStiTreeViewBoxElement=super.implements().concat([Eo,Ie,De,Xt,...Io,...Re,...ve,...Nt,a])),yh.ImplementsStiTreeViewBoxElement}get componentId(){return te.StiTreeViewBoxElement}meta(){return this._hash||(this._hash=[...super.meta(),new l("ParentKey"),new n("TransformActions").get(e=>o.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Es.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Es.loadFromXml(e)))),new n("TransformFilters").get(e=>o.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new n("TransformSorts").get(e=>o.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Rs.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Rs.loadFromXml(e)))),new n("DataFilters").get(e=>o.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>p.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>p.loadFromXml(e)))),new t("ForeColor","",N.transparent),new l("Font").get(()=>o.Serialize.fontArial8(this.font)).set(e=>this.font=o.Deserialize.font(e.value,this.font)).setXml(e=>this.font=B.System.Convert.toFont(e.textContent)),new h("ShowAllValue"),new h("ShowBlanks"),new i("SelectionMode","",Hn,Hn.One).set(e=>{let t=ue.parse(Hn,e.value);null!=t&&(this.selectionMode=t)}).setXml(e=>{let t=ue.parse(Hn,e.textContent);null!=t&&(this.selectionMode=t)}),new n("KeyMeters").get(e=>o.Serialize.objectArray(this.keyMeters,e)).set(e=>this.keyMeters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.keyMeters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new i("Style","",u,u.Auto),new l("Group"),new l("CustomStyleName"),new l("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=m.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=m.tryParse(e.textContent)),new l("Shadow").get(()=>o.Serialize.jShadow(this.shadow)).set(e=>this.shadow=o.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ae.loadFromXml(e.textContent)),new n("TextFormat").check(()=>null!=this.textFormat).set(e=>this.textFormat=$t.createFromJsonObject(e.value)).setXml(e=>this.textFormat=$t.loadFormatFromXml(e,this.report))])}clone(e){var e,e;let t=super.clone(e);return t.keyMeters=this.keyMeters.select(e=>e.clone()).toList(),t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}getParentKey(){return this.parentKey}setParentKey(e){this.parentKey=e}async applyDefaultFilters(){let e=await Ro.fetchDefaultUserFilters(this);null!=e&&(this.userFilters=e)}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}get style(){return this._style}set style(e){(this._style=e)!=u.Custom&&(this.customStyleName="")}fetchAllMeters(){let e=new P;return e.addRange(this.keyMeters),e}getMeters(){let e=new P;return e.addRange(this.keyMeters),e}retrieveUsedDataNames(){return As.getMany2(this.keyMeters)}get isDefined(){return null!=this.keyMeters&&0<this.keyMeters.length}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==k.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}getKeyMeter(e){return null!=e?S.TreeViewBox.getKey2(e):null}getKeyMeterByIndex(e){return e<this.keyMeters.length?this.keyMeters[e]:null}insertKeyMeter(e,t){let r=t.as(F.I.StiKeyTreeViewBoxMeter);null!=r&&(0<=e&&e<this.keyMeters.length?this.keyMeters.insert(e,r):this.keyMeters.add(r))}removeKeyMeter(e){e<this.keyMeters.length&&this.keyMeters.removeAt(e)}removeAllKeyMeters(){this.keyMeters.clear()}addNewKeyMeter(){let e=new F.I.StiKeyTreeViewBoxMeter;return this.keyMeters.add(e),e}addKey(e){null==this.keyMeters&&(this.keyMeters=new P),this.keyMeters.add(S.TreeViewBox.getKey2(e))}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(dr));if(null!=(r=null==r?t.firstOrDefault(e=>e.is(at)):r)){let e=new F.I.StiKeyTreeViewBoxMeter;e.loadFromJsonObject(r.saveToJsonObject(be.Report)),this.keyMeters.clear(),this.keyMeters.add(e)}}shouldSerializeTextFormat(){return!this.textFormat.is(vt)}get toolboxPosition(){return Be.TreeViewBoxElement}get localizedName(){return g.get("Components","StiTreeViewBox")}get minSize(){let e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return G.empty;let t=xt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new G(0,t)}set minSize(e){}get maxSize(){let e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return G.empty;let t=xt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new G(0,t)}set maxSize(e){}createNew(){return new yh}}F.I.StiTreeViewBoxElement=yh}F.k.StiInplaceDesigner=class{};{let e;(s=e=F.r.StiRichTextAlignment||(F.r.StiRichTextAlignment={}))[s["Left"]=1]="Left",s[s["Right"]=2]="Right",s[s["Center"]=3]="Center",s[s["Justify"]=4]="Justify"}let ko=B.Base.Drawing.StiFontUtils,Lo=(F.r.StiRichBoxControl=class{constructor(){this.selectionFont=new z("Arial",12),this.selectionColor=N.black,this.font=new z("Arial",12),this.text="",this.selectedText=""}selectAll(){this.selectedText=this.text}select(e,t){!L.isNullOrEmpty(this.text)&&e<this.text.length&&(this.selectedText=this.text.substr(e,t))}beginUpdate(){}endUpdate(){}setSelectionFont(e){return this.selectionFont=ko.changeFontName(this.selectionFont,e),!0}setSelectionSize(e){return this.selectionFont=ko.changeFontSize(this.selectionFont,e),!0}setSelectionBold(e){return this.selectionFont=ko.changeFontStyleBold(this.selectionFont,e),!0}setSelectionItalic(e){return this.selectionFont=ko.changeFontStyleItalic(this.selectionFont,e),!0}setSelectionUnderlined(e){return this.selectionFont=ko.changeFontStyleUnderline(this.selectionFont,e),!0}},B.Base.Drawing.StiTextRenderer),Vo=F.r.StiRichTextAlignment,Bo=B.System.Drawing.ColorTranslator,No=B.Base.Drawing.StiHtmlState,Po=B.Base.Drawing.StiHtmlTagsState,Oo=F.r.StiRichBoxControl,zo=(F.r.StiHtmlTextHelper=class{setFontName(e,t,r,i){let s=new Oo;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionFont(r),this.getHtmlText(s,i)}setFontSize(e,t,r,i){let s=new Oo;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionSize(Math.round(r)),this.getHtmlText(s,i)}growFontSize(e,t,r){let i=new Oo;return this.setHtmlText(t,e,i,r),i.selectAll(),i.setSelectionSize(Math.round(i.selectionFont.size+1)),this.getHtmlText(i,r)}shrinkFontSize(e,t,r){let i=new Oo;return this.setHtmlText(t,e,i,r),i.selectAll(),0<i.selectionFont.size-1&&i.setSelectionSize(Math.round(i.selectionFont.size-1)),this.getHtmlText(i,r)}setFontBoldStyle(e,t,r,i){let s=new Oo;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionBold(r),this.getHtmlText(s,i)}setFontItalicStyle(e,t,r,i){let s=new Oo;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionItalic(r),this.getHtmlText(s,i)}setFontUnderlineStyle(e,t,r,i){let s=new Oo;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionUnderlined(r),this.getHtmlText(s,i)}setColor(e,t,r,i){let s=new Oo;return this.setHtmlText(t,e,s,i),s.selectAll(),s.selectionColor=r,this.getHtmlText(s,i)}setHorAlignment(e,t,r,i){let s=new Oo;return this.setHtmlText(t,e,s,i),s.selectAll(),s.selectionAlignment=this.getAlignment(r),this.getHtmlText(s,i)}getFont(e,t,r){let i=new Oo;return this.setHtmlText(t,e,i,r),i.selectAll(),i.selectionFont}getColor(e,t,r){let i=new Oo;return this.setHtmlText(t,e,i,r),i.selectAll(),i.selectionColor}getHorAlign(e,t,r){let i=new Oo;return this.setHtmlText(t,e,i,r),i.selectAll(),this.getAlignment2(i.selectionAlignment)}setHtmlText(e,t,l,r){let i="Arial",s=12,n=(l.selectAll(),l.setSelectionFont(i),l.setSelectionSize(s),new Po(!1,!1,!1,!1,s,i,r,N.white,!1,!1,0,0,0,X.Center)),a=null,o=new No(n,0),u=Lo.parseHtmlToStates(e,o,!1);for(let n of u){let e=l.text.length,t=(l.select(e,0),null),r=(t=L.isNullOrEmpty(n.ts.href)?n.text.toString():`<a href="${n.ts.href}">${n.text.toString()}</a>`,l.text+=t,l.select(e,n.text.length),k.Regular),i=(n.ts.bold&&(r|=k.Bold),n.ts.italic&&(r|=k.Italic),n.ts.underline&&(r|=k.Underline),n.ts.fontName),s=n.ts.fontSize;null==a&&(a=l.font=new z(i,s)),l.selectionFont=ko.changeFontStyle2(i,s,r),l.selectionColor=n.ts.fontColor,l.selectionAlignment=this.getAlignment(n.ts.textAlign)}l.select(0,0)}getHtmlText(a,o){let u=!1,h=!1,m=!1,d=o,c="",e=(a.selectAll(),null!=a.selectionFont?a.selectionFont.name:"Arial"),t=null!=a.selectionFont?a.selectionFont.sizeInPoints:12,r=ue.getName(Vo,a.selectionAlignment);c=c+`<font face="${e}" size="${t}">`+`<text-align="${r}">`;for(let l=0;l<a.text.length;l++){a.select(l,1);let e=a.selectionFont,t=null!=e&&e.style&k.Bold,r=null!=e&&e.style&k.Italic,i=null!=e&&e.style&k.Underline,s=a.selectionColor,n="\n"==a.text[l];n&&(c+="<br />"),t&&!u&&(u=!0,c+="<b>"),!t&&u&&(u=!1,c+="</b>"),r&&!h&&(h=!0,c+="<i>"),!r&&h&&(h=!1,c+="</i>"),i&&!m&&(m=!0,c+="<u>"),!i&&m&&(m=!1,c+="</u>"),d.equals(s)||(d=(d.equals(o)?c+=`<font-color="${Bo.toHtml(s)}">`:s.equals(o)?c+="</font-color>":c=(c+="</font-color>")+`<font-color="${Bo.toHtml(s)}">`,s)),c+=a.text[l]}return d.equals(o)||(c+="</font-color>"),m&&(c+="</u>"),h&&(c+="</i>"),u&&(c+="</b>"),(c=c+"</text-align>"+"</font>").toString()}getAlignment(e){switch(e){case X.Left:return Vo.Left;case X.Center:return Vo.Center;case X.Right:return Vo.Right;case X.Width:return Vo.Justify;default:throw new Error("NotSupportedException")}}getAlignment2(e){switch(e){case Vo.Left:return X.Left;case Vo.Center:return X.Center;case Vo.Right:return X.Right;case Vo.Justify:return X.Width;default:throw new Error("NotSupportedException")}}getSimpleText(e,t){let r=new Oo;return this.setHtmlText(e,null,r,t),r.text}},B.System.Drawing.StringTrimming),Ho=B.System.Drawing.Text.HotkeyPrefix,Xo=B.Base.Drawing.StiTextOptions,Go=(F.h.StiAutoSizeHtmlTextHelper=class{static measure(e,t,r,i,s=null){let n=this.getDefaultTextOptions(),l=this.getTextScale(s,i),a=(t.height=1e3,new z("Arial",12));return Lo.measureText(e,r,a,t.clone(),1,n.wordWrap,n.rightToLeft,l,n.angle,n.trimming,n.lineLimit,!0,n)}static getDefaultTextOptions(){return new Xo(!1,!1,!1,0,Ho.None,zo.None)}static getTextScale(e,t){if(null!=e)return e;let r=t.stimulsoft().as(oe);return null!=r&&r.isDesigning?t.zoom:1}},B.Base.Drawing.StiTextDrawing),jo=(F.h.StiAutoSizeTextHelper=class{static toAlignment(e){switch(e){case V.Left:return X.Left;case V.Center:return X.Center;case V.Right:return X.Right;default:throw new Nl(e)}}static measure(e,t,r){let i=Go.measureString(e,t,r);return new G(i.width,i.height)}static measureFontSize(e,t,r,i){let s=this.measure(e,t,i),n=s.width>r.width?r.width/s.width:1,l=s.height>r.height?r.height/s.height:1,a=Math.min(Math.abs(n),Math.abs(l));return i.size*a}},F.h.StiCardsElementHelper=class{static minDataColumnValue(e,t,r){if(!(e.is2(gi)||e.is2(ci)||e.is2(di)))return 0;return t.rows.any()?t.rows.min(e=>v.tryToNumber(e[r])):0}static maxDataColumnValue(e,t,r){if(!(e.is2(gi)||e.is2(ci)||e.is2(di)))return 0;return t.rows.any()?t.rows.max(e=>v.tryToNumber(e[r])):0}},B.Base.Context.StiLinesSegmentGeom),Jo=(F.j.StiVisual=class{async draw(e,t){}drawArrowMore(e,t,r){let i=[],s=(i[0]=new fl(t.right-5*r,t.bottom-5*r),i[1]=new fl(t.right-5*r,t.bottom-15*r),i[2]=new fl(t.right-15*r,t.bottom-5*r),new P([new jo(i)]));e.fillPath(N.fromArgb(140,140,140),s,t.clone(),null)}},B.Base.Context.StiFontGeom),Wo=B.Base.Drawing.StiRotationMode,Uo=(F.h.StiStringFormatHelper=class{static getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=zo.None,t.alignment=Ns.Center,t.lineAlignment=Ns.Center,t}static measureAlignmentParameters(e,t,r,i){switch(e){case V.Left:r.ref=Wo.LeftCenter,i.ref.x=t.x,i.ref.y=t.y+t.height/2;break;case V.Center:r.ref=Wo.CenterCenter,i.ref.x=t.x+t.width/2,i.ref.y=t.y+t.height/2;break;case V.Right:r.ref=Wo.RightCenter,i.ref.x=t.x+t.width,i.ref.y=t.y+t.height/2;break}}static getFontSize(e,t,r,i){let s=new z(i.fontFamily.name,25/.72,i.style,i.unit),n=e.measureString(r,Jo.create(s));if(0==n.width||0==n.height)return 0;let l=t.width/n.width,a=t.height/n.height,o=a<l?a:l;return 25*o}static getFontSize2(e,t,r,i){let s=new z(t.fontFamily.name,25/.72),n=e.measureString(i,Jo.create(s));if(0==n.width||0==n.height)return 0;let l=r.width/n.width,a=r.height/n.height,o=a<l?a:l;return 25*o}},B.Report.Components.StiImageHelper),Ko=B.Base.Context.StiLineSegmentGeom,qo=B.Report.Painters.StiWinLossSparklinesCellPainter,Yo=B.Report.Painters.StiLineSparklinesCellPainter,Zo=B.Report.Painters.StiColumnSparklinesCellPainter,Qo=F.K.StiSparklinesType,_o=F.h.StiStringFormatHelper;{class ru{static DataBarsDraw(t,e,r,i,s,n,l,a,o,u){let h=Ei.formatBasedOnColumnType2(r,n.textFormat,n,a);if(null==a||0==a)return;0<o&&(o=0),u<0&&(u=0);let m=e.clone(),d=(m.inflate(-1*l,-1*l),t.fillRectangle(N.fromArgb(40,i.cellDataBarsPositive),m.clone(),null),u+Math.abs(o)),c=m.width*Math.abs(o)/d,g=m.width*u/d,p=m.width*Math.abs(a)/d,S=p>g;if(S&&(p=g),m.x+=a<0?c-p:c,m.width=p,0<m.width&&0<m.height){let e=a<0?i.cellDataBarsNegative:i.cellDataBarsPositive;if(t.fillRectangle(e,m,null),S){let e=new O(m.right-6*l,m.y,6*l,m.height);t.fillRectangle(i.cellDataBarsOverlapped,e,null)}}let w=t.measureString(h,new Jo(n.font.fontFamily.name,n.font.size,n.font.style,B.System.Drawing.GraphicsUnit.Point));ru.drawText(t,h,n.font,s,n.horAlignment,n.vertAlignment,e,w,l)}static colorScaleDraw(e,t,r,i,s,n,l,a,o,u){let h=Ei.formatBasedOnColumnType2(r,n.textFormat,n,a),m=this.getScaleColor(v.tryToNumber(a),o,u,i.cellBackColor,n.minimumColor,n.maximumColor),d=t.clone(),c=(d.inflate(-1*l,-1*l),e.fillRectangle(m,d,null),e.measureString(h,new Jo(n.font.fontFamily.name,n.font.size,n.font.style,B.System.Drawing.GraphicsUnit.Point)));this.drawText(e,h,n.font,s,n.horAlignment,n.vertAlignment,t,c,l)}static getScaleColor(t,r,i,s,n,l){let a=(i-r)/2,o=(t=Math.min(t,i),0),u,h;if(a<(t=Math.max(t,r))){let e=i-a;h=0!=e?(o=(t-a)/e,u=N.fromArgb(255,s),N.fromArgb(255,l)):(u=N.lightGray,N.lightGray)}else{let e=a-r;h=0!=e?(o=t/e,u=N.fromArgb(255,n),N.fromArgb(255,s)):(u=N.lightGray,N.lightGray)}let e=(h.a-u.a)*o+u.a,m=(h.r-u.r)*o+u.r,d=(h.g-u.g)*o+u.g,c=(h.b-u.b)*o+u.b;return e=Math.min(e,255),m=Math.min(m,255),d=Math.min(d,255),c=Math.min(c,255),e=Math.max(e,0),m=Math.max(m,0),d=Math.max(d,0),c=Math.max(c,0),N.fromArgb(Math.round(e),Math.round(m),Math.round(d),Math.round(c))}static sparklinesDraw(t,r,i,e,s){let n=this.castToArray(e);if(null!=n){let e=n.stimulsoft().toList();switch(i.type){case Qo.Column:Zo.draw(t,r,e,i.allowCustomColors?i.positiveColor:s.cellSparkline,i.allowCustomColors?i.negativeColor:s.cellSparkline);break;case Qo.Line:Yo.draw(t,r,e,i.allowCustomColors?i.positiveColor:s.cellSparkline,!1,i.showFirstLastPoints,i.showHighLowPoints);break;case Qo.Area:Yo.draw(t,r,e,i.allowCustomColors?i.positiveColor:s.cellSparkline,!0,i.showFirstLastPoints,i.showHighLowPoints);break;case Qo.WinLoss:qo.draw(t,r,e,i.allowCustomColors?i.positiveColor:s.cellWinLossPositive,i.allowCustomColors?i.negativeColor:s.cellWinLossNegative);break;default:throw new Nl(i.type)}}}static castToArray(e){return un.isArray(e)?e:null}static bubbleDraw(i,r,e,s,n,l,a,o,t,u,h=!0){if(0==o)return;let m=Ei.formatBasedOnColumnType2(e,l.textFormat,l,o),d=(0<t&&(t=0),u<0&&(u=0),l.horAlignment),c=r.clone();if(c.inflate(-1,-1),c=this.calculateBubbleRect(c,l,Math.abs(o),t,u,a),h&&d!=V.Center){let e=l.horAlignment==V.Left?V.Right:V.Left,t=i.measureString(m,new Jo(l.font.fontFamily.name,l.font.size,l.font.style,B.System.Drawing.GraphicsUnit.Point));this.drawText(i,m,l.font,n,e,l.vertAlignment,r,t,a)}if(0<c.width&&0<c.height){let e=l.allowCustomColors?l.positiveColor:s.cellDataBarsPositive,t=l.allowCustomColors?l.negativeColor:s.cellDataBarsNegative,r=o<0?t:e;i.fillEllipse(r,c.x,c.y,c.width,c.height,null)}}static calculateBubbleRect(e,t,r,i,s,n){let l=t.as(rr);if(null==l)return e;let a=e.height,o=Math.max(Math.abs(i),Math.abs(s)),u=Math.abs(a*r/o);switch(l.horAlignment){case V.Right:return new O(e.right-a+(a-u)/2,e.y+(e.height-u)/2,u,u);case V.Center:return new O(e.x+(e.width-u)/2,e.y+(e.height-u)/2,u,u);case V.Left:return new O(e.x+(a-u)/2,e.y+(e.height-u)/2,u,u)}return e}static indicatorDraw(e,t,r,i,s,n,l){let a=this.getCellText(r,s,l),o=F.t.StiCardsVisual.getFontGeom(s.font,n),u=e.measureString(a,o).width,h=this.calculateIndicatorRect(t,s,n,u,r.isExporting),m=(this.drawIndicator(e,h,l,i,r.isExporting),this.getColor(s.foreColor,l,i)),d=ru.calculateTextRect(t,s,n,u,r.isExporting),c=e.measureString(a,new Jo(s.font.fontFamily.name,s.font.size,s.font.style,B.System.Drawing.GraphicsUnit.Point));this.drawText(e,a,s.font,m,s.horAlignment,s.vertAlignment,d,c,n)}static calculateTextRect(e,t,r,i,s){let n=this.calculateIndicatorRect(e,t,r,i,s),l=2*n.width;switch(this.getHorAlignment(t)){case V.Left:return new O(e.x+l,e.y,e.width-l,e.height);case V.Right:return new O(e.x,e.y,e.width-l,e.height);case V.Center:return new O(e.x,e.y,e.width,e.height)}return e}static getColor(e,t,r){if(!e.equals(N.transparent))return e;if(0<t)return r.cellIndicatorPositive;if(t<0)return r.cellIndicatorNegative;return r.cellIndicatorNeutral}static calculateIndicatorRect(t,e,r,i,s){let n=16*r;switch(this.getHorAlignment(e)){case V.Left:t=new O(t.x,t.y,n,t.height);break;case V.Right:t=new O(t.right-n,t.y,n,t.height);break;case V.Center:{let e=i+n;t=new O(t.right-(t.width-e)/2-n,t.y,n,t.height);break}}return t.inflate(-4*r,-4*r),t}static getHorAlignment(e){let t=e.as(rr);return null!=t?t.horAlignment:V.Right}static getCellText(e,t,r){if(null==r)return"";return Ei.formatAsPercentage2(null==e?void 0:e.report,t.textFormat,r)}static drawIndicator(h,m,d,c,e){let g=Math.min(m.width,m.height);if(null==d||0==d)h.fillRectangle(c.cellIndicatorNeutral,new O(m.x+(m.width-g)/2,m.y+(m.height-4)/2,g,5),null);else{let e=.75*g,t=(m=new O(m.x+(m.width-g)/2,m.y+(m.height-e)/2,g,e)).width/2,r,i,s,n=(s=0<d?(r=new fl(m.left+t,m.top),i=new fl(m.left,m.bottom),new fl(m.right,m.bottom)):(r=new fl(m.left+t,m.bottom),i=new fl(m.left,m.top),new fl(m.right,m.top)),0<d?c.cellIndicatorPositive:c.cellIndicatorNegative),l=new P,a=new Ko(r,i),o=new Ko(i,s),u=new Ko(s,r);l.add(a),l.add(o),l.add(u),h.fillPath(n,l,m,null)}}static imageDraw(e,t,r){let i=Uo.getImageBytesFromObject(r);e.drawImage(i,t)}static drawText(e,t,r,i,s,n,l,a,o){let u=_o.getStringFormatGeom(e),h=(u.alignment=Ns.Far,0),m=(l.width<a.width?l:a).width;switch(s){case V.Left:h=l.x;break;case V.Center:h=l.x+l.width/2-m/2;break;case V.Right:h=l.x+l.width-m;break}let d=0;switch(n){case Mt.Top:d=l.y;break;case Mt.Center:d=l.y+l.height/2-a.height/2;break;case Mt.Bottom:d=l.y+l.height-a.height;break}let c=new O(h,d,m,a.height),g=F.t.StiCardsVisual.getFontGeom(r,o),p=this.getMeasureText(e,t,g,l.width);e.drawString(p,g,i,c,u)}static getMeasureText(r,i,s,n){if(!L.isNullOrEmpty(i))for(let t=0;i.length>t;t++){let e=i.substring(0,t);if(n<r.measureString(e,s).width){if(4<e.length)return e.substring(0,e.length-3)+"...";if(1<e.length)return e.substring(0,1)+"..."}}return i}}F.t.StiCardsCellDrawer=ru}let $o=B.Report.Painters.StiContextRoundedRectangleCreator,eu=B.Base.Context.StiContextPainter,tu=B.Report.Dashboard.Helpers.StiElementScale,J=B.Base.Dashboard.StiElementConsts,ru=F.t.StiCardsCellDrawer,iu=B.Base.Context.StiPenGeom,su=F.F.StiCardsColumnVisibilityHelper,nu=F.h.StiCardsElementHelper,lu=B.Base.Context.StiContext;{class au extends F.j.StiVisual{constructor(e,t){super(),this.element=e,this.dataTable=t,this.style=j.getCardsStyle(this.element)}async draw(e,t){this.paintCards(e,t)}paintCards(s,n){let l=s.options.zoom,a=this.dataTable.meters.where(e=>e.is(sr)).cast().toList(),o=j.getCardsStyle(this.element),e={},t={},u=(this.getCardRectanglesList(a,n,l,e,t),e.ref),h=t.ref,m=new P,d=new P;for(let i=0;i<a.length;i++){let e=a[i],t=nu.minDataColumnValue(e,this.dataTable,i),r=nu.maxDataColumnValue(e,this.dataTable,i);m.add(t),d.add(r)}let c;for(let i=0;i<this.dataTable.rows.length;i++){let e=this.dataTable.rows[i],t=u[i],r=h[i];!c&&(1<t.right-n.right||1<t.bottom-n.bottom)&&(c=!0),this.paintCardItem(s,t,this.element,i,r,a,e,m,d,o,l)}if(c){let e=tu.factor(this.element);this.drawArrowMore(s,n,e)}}getCardRectanglesList(s,e,n,t,r){let i=new P,l=new P,a=new eu,o=new lu(a,!0,!1,!1,n),u=0,h=0;for(let i of this.dataTable.rows){let e={ref:new P},t=au.measureCards(o,this.element,s,i,e,n),r=e.ref;u=Math.max(u,t.width),h=Math.max(h,t.height),l.add(r)}0<this.element.columnCount&&this.element.orientation==B.Report.Dashboard.StiItemOrientation.Horizontal?u=e.width/this.element.columnCount:0<this.element.columnCount&&this.element.orientation==B.Report.Dashboard.StiItemOrientation.Vertical&&(h=e.height/this.element.columnCount),i=this.element.orientation==B.Report.Dashboard.StiItemOrientation.Horizontal?this.getRectanglesHorizontalOrientation(e,u,h):this.getRectanglesVerticalOrientation(e,u,h),t.ref=i,r.ref=l}getRectanglesHorizontalOrientation(t,r,i){let s=new P,n=Math.floor(t.width/r),l=(0==n&&(n=1),r=t.width/n,t.x),a=t.y,o=0;for(let e=0;e<this.dataTable.rows.length;e++){let e=new O(l,a,r,i);s.add(e),l+=e.width,++o>=n&&(l=t.x,a+=e.height,o=0)}return s}getRectanglesVerticalOrientation(t,r,i){let s=new P,n=Math.floor(t.height/i),l=(1<n&&(i=t.height/n),t.x),a=t.y,o=0;for(let e=0;e<this.dataTable.rows.length;e++){let e=new O(l,a,r,i);s.add(e),a+=e.height,++o>=n&&(a=t.y,l+=e.width,o=0)}return s}getContentRectangle(e){if(null==this.dataTable||this.dataTable.rows.length<=1)return e;let t=this.dataTable.meters.where(e=>e.is(sr)).cast().toList(),r={},i={},s=(this.getCardRectanglesList(t,e,1,r,i),r.ref),n=O.empty;for(let e of s)n=O.union(e,n);return n}paintCardItem(g,p,S,t,n,w,f,C,y,b,x){let r=new O(p.x+S.cards.margin.left*x,p.y+S.cards.margin.top*x,p.width-S.cards.margin.left*x-S.cards.margin.right*x,p.height-S.cards.margin.top*x-S.cards.margin.bottom*x);if(g.pushClip(r),null==S.cards.cornerRadius||S.cards.cornerRadius.isEmpty)g.fillRectangle(this.getColor(t),r,null);else{let e=$o.create(r,S.cards.cornerRadius,x);g.fillPath(this.getColor(t),e,r,null)}let i=new P,s=new P;for(let t=0;t<w.length;t++){let e=w[t];s.add(t),!e.wrapLine&&t!=w.length-1||(i.add(s),s=new P)}let T=new P;for(let s of i){let i=(p.width-S.cards.margin.left*x-S.cards.margin.right*x-S.cards.padding.left*x-S.cards.padding.right*x)/s.length;for(let r=0;r<s.length;++r){let e=s[r],t=n[e];T.add(new O(i*r,t.y,i,t.height))}}for(let c=0;c<f.length;c++){let n=w[c],e=su.getVisible(n,S.report);if(!e)continue;let l=f[c],t=C[c],r=y[c],i=au.getForeColor(S,w[c],b),a=n.font,s=T[c],o=p.x+S.cards.margin.left*x+S.cards.padding.left*x+s.x,u=p.y+S.cards.margin.top*x+S.cards.padding.top*x+s.y,h=s.width,m=s.height-S.cards.padding.top*x-S.cards.padding.bottom*x,d=new O(o,u,h,m);if(n.is2(gi)){let e=n.as(gi);ru.DataBarsDraw(g,d,S,b,i,e,x,v.tryToNumber(l),t,r)}else if(n.is2(ci)){let e=n.as(ci);ru.colorScaleDraw(g,d,S,b,i,e,x,v.tryToNumber(l),t,r)}else if(n.is2(pi)){let e=n.as(pi);ru.sparklinesDraw(g,d,e,l,b)}else if(n.is2(di)){let e=n.as(di);ru.bubbleDraw(g,d,S,b,i,e,x,v.tryToNumber(l),t,r)}else if(n.is2(mi)){let e=n.as(mi);ru.indicatorDraw(g,d,S,b,e,x,v.tryToNullableNumber(l))}else{let s=Uo.getImageFromObject(l);if(null!=s){let e=d.height/s.height,t=s.width*e,r=0;switch(n.horAlignment){case V.Left:r=d.x;break;case V.Center:r=d.x+(d.width-t)/2;break;case V.Right:r=d.x+d.width-t;break}let i=new O(r,d.y,t,d.height);ru.imageDraw(g,i,l)}else{let e=Ei.formatBasedOnColumnType2(S,n.textFormat,n,l),t=g.measureString(e,new Jo(a.fontFamily.name,a.size,a.style,B.System.Drawing.GraphicsUnit.Point));ru.drawText(g,e,a,i,n.horAlignment,n.vertAlignment,d,t,x)}}}g.popClip();let l=new iu(b.lineColor,1);if(null==S.cards.cornerRadius||S.cards.cornerRadius.isEmpty)g.drawRectangle(l,r);else{let e=$o.create(r,S.cards.cornerRadius,x);g.drawPath(l,e,r)}}static measureItem(r,s,n,l,a){let o;if(n.is2(gi)||n.is2(ci))o=this.measureDataBarsCell(r,s,n,l,a);else if(n.is2(pi)){let e=n.as(pi);o=this.measureSparklinesCell(e,a)}else if(n.is2(mi)){let e=n.as(mi);o=this.measureIndicatorCell(r,s,e,l,a)}else if(n.is2(di)){let e=n.as(di);o=this.measureBubbleCell(r,s,e,l,a)}else{let i=Uo.getImageFromObject(l);if(null!=i){let e=50*a,t=e/i.height,r=i.width*t;o=new G(r,e)}else{let e=Ei.formatBasedOnColumnType2(s,n.textFormat,n,l),t=this.getFontGeom(n.font,a);o=r.measureString(e,t)}}let e=Math.max(o.height,n.height*a);return new G(o.width,e)}static measureCards(s,o,n,l,e,u){let h=e.ref,t=0,m=0,r=new P,i=new P;for(let t=0;t<l.length;t++){let e=n[t];i.add(t),!e.wrapLine&&t!=l.length-1||(r.add(i),i=new P)}let d=new P;for(let i=0;i<l.length;i++){let e=n[i],t=l[i],r=su.getVisible(e,o.report);r||d.add(G.empty),d.add(this.measureItem(s,o,e,t,u))}for(let e=0;e<r.length;e++){let s=r[e],i=0,n=0;for(let r=0;r<s.length;r++){let e=s[r],t=d[e];i=Math.max(t.height,i),n+=t.width}let l=new G(n,i),a=0;for(let i=0;i<s.length;i++){let e=s[i],t=d[e],r=new O(a,m,t.width+o.cards.padding.left*u+o.cards.padding.right*u,l.height+o.cards.padding.top*u+o.cards.padding.bottom*u);a+=t.width,h.add(r)}t=Math.max(t,l.width+o.cards.padding.left*u+o.cards.padding.right*u),m+=l.height}return e.ref=h,new G(t,m+o.cards.padding.top*u+o.cards.padding.bottom*u+o.cards.margin.top*u+o.cards.margin.bottom*u)}static measureDataBarsCell(e,t,r,i,s){let n=ru.getCellText(t,r,v.tryToNullableNumber(i)),l=this.getFontGeom(r.font,s),a=e.measureString(n,l);return new G(a.width,1.5*a.height)}static measureSparklinesCell(e,t){let r=0==e.height?20:e.height;return new G(0,r*t)}static measureIndicatorCell(e,t,r,i,s){let n=r.as(mi),l=ru.getCellText(t,n,v.tryToNullableNumber(i)),a=this.getFontGeom(r.font,s),o=e.measureString(l,a);return new G(o.width,1.5*o.height)}static measureBubbleCell(e,t,r,i,s){let n=Ei.formatBasedOnColumnType2(t,r.textFormat,r,i),l=this.getFontGeom(r.font,s),a=e.measureString(n,l);return a.width+=4,a=new G(a.width+a.height,1.5*a.height)}static getForeColor(e,t,r){if(!t.foreColor.equals(N.transparent))return t.foreColor;let i=j.getForeColor(e);if(!i.equals(N.transparent))return i;if(null!=r)return r.cellForeColor;return J.Table.Font.Color}static getFontGeom(e,t){let r=Jo.changeFontSize(e,e.size*t);return r}getColor(e){return this.element.cards.colorEach?this.getStyleColor(e):this.style.cellBackColor}getStyleColor(e){let t=(null!=this.element.seriesColors&&0<this.element.seriesColors.length?this.element:j.getCardsStyle(this.element)).seriesColors;return t[e%=t.length]}}F.t.StiCardsVisual=au}let au=F.t.StiCardsVisual,ou=B.Report.Dashboard.Visuals.IStiCardsVisualSvgHelper,uu=B.Report.Dashboard.IStiManuallyEnteredData,hu=B.Report.Export.Services.Helpers.StiContextSvgHelper;{class Hc{implements(){return Hc.ImplementsStiCardsVisualSvgHelper||(Hc.ImplementsStiCardsVisualSvgHelper=[ou]),Hc.ImplementsStiCardsVisualSvgHelper}async writeCards(e,t,r,i,s){let n=new O(0,0,t.width,t.height),l=t.component.as(F.F.StiCardsElement),a=await Hc.getDataTable(l);if(null==a)return;let o=new eu,u=new lu(o,!0,!1,!1,1),h=new au(l,a);if(r&&(r.needToVertScroll||r.needToHorScroll)){let e=h.getContentRectangle(n);r.needToVertScroll=e.height>n.height+5,r.needToHorScroll=e.width>n.width+5,r.needToVertScroll&&(n.width-=15,e=h.getContentRectangle(n),n=e,r.needToHorScroll||(n.height+=10),i.ref=B.System.Convert.toInt32(n.height)),r.needToHorScroll&&(n.height-=15,e=h.getContentRectangle(n),n=e,r.needToVertScroll||(n.height+=10),s.ref=B.System.Convert.toInt32(n.width))}await h.draw(u,n.clone()),e.writeStartElement("g");let m=r&&(r.needToVertScroll||r.needToHorScroll)?0:t.x+.5,d=r&&(r.needToVertScroll||r.needToHorScroll)?0:t.y+.5;e.writeAttributeString("transform",`translate(${m},${d})`),hu.writeGeoms(e,u,!1,!1),e.writeEndElement()}static async getDataTable(e){var t;let r=null==(t=e.as(uu))?void 0:t.getManuallyEnteredDataTable();if(null!=r)return r;return Jn.tryToGetOrCreate(e)}}F.h.StiCardsVisualSvgHelper=Hc}{class Dm{static getSumRectangle(t){let r=new O(0,0,0,0);for(let e of t)e.right>r.right&&(r=new O(r.x,r.y,e.right-r.x,r.height)),e.bottom>r.bottom&&(r=new O(r.x,r.y,r.width,e.bottom-r.y));return r}static getLocationRectangles(t,r,e){if(1==r)return new P([this.checkMinRect(t.clone(),e)]);let i=t.toString()+" "+r.toString();if(this.hashLocations.contains(i))return this.hashLocations.get(i);let s=this.getSimpleRect(t.clone(),r,e),n=this.getSimpleRect(new O(t.x,t.y,t.height,t.width),r,e),l=s.width*s.height,a=n.width*n.height,o=(l<a&&(s=new O(n.x,n.y,n.height,n.width)),new P),u=s.x,h=s.y;for(let e=0;e<r;e++){let e=new O(u,h,s.width,s.height);o.add(e),u=Math.floor(e.right+e.width)<=t.right?e.right:(h=e.bottom,t.x)}this.hashLocations.add(i,o);let m=this.getSumRectangle(o),d=m.toString()+" "+r.toString();return this.hashLocations.contains(d)||this.hashLocations.add(d,o),o}static getMinRectangle(e,t){let r=e.width*e.height/t,i=e;while(i.width*i.height>r||i.isEmpty)i=i.width>i.height?new O(i.x,i.y,i.width/2,i.height):new O(i.x,i.y,i.width,i.height/2);return i}static prepareColumnRow(t,r,i,s,n){t.ref=1,r.ref=1;let l=s.x,a=s.y;for(let e=0;e<n-1;e++){let e=new O(l,a,s.width,s.height);l=e.right+e.width<=i.right?(1==r.ref&&t.ref++,e.right):(r.ref++,a=e.bottom,i.x)}}static getUsingRect(t,r,i){let s=r,n=r.x,l=r.y,a=r.width,o=r.height;for(let e=0;e<i;e++){let e=new O(n,l,r.width,r.height);a<e.right-t.x&&(a=e.right-t.x),o<e.bottom-t.y&&(o=e.bottom-t.y),s=new O(t.x,t.y,a,o),n=e.right+e.width<=t.right?e.right:(l=e.bottom,t.x)}return s}static checkMinRect(e,t){let r=tu.factor(t);return e.width<80*r&&(e.width=80*r),e.height<50*r&&(e.height=50*r),e}static getSimpleRect(e,t,r){let i=this.getMinRectangle(e.clone(),t),s=(i=this.checkMinRect(i,r),{ref:0}),n={ref:0},l=(this.prepareColumnRow(s,n,e.clone(),i,t),this.getUsingRect(e.clone(),i,t));return l.width<e.width&&(i=new O(e.x,e.y,i.width+(e.width-l.width)/s.ref,i.height)),i=l.height<e.height?new O(e.x,e.y,i.width,i.height+(e.height-l.height)/n.ref):i}}Dm.hashLocations=new Na,F.h.StiElementLocationHelper=Dm}let mu=B.Report.Components.Gauge.StiRadialTickLabelCustomValue,du=B.Report.Components.Gauge.StiLinearTickLabelCustomValue,cu=B.System.Drawing.Orientation,gu=B.Report.Export.StiGaugeSvgHelper,pu=B.System.Drawing.Graphics,Su=B.Report.Export.StiSvgData,wu=B.Report.Dashboard.Visuals.IStiGaugeVisualSvgHelper;{class ld{implements(){return ld.ImplementsStiGaugeVisualSvgHelper||(ld.ImplementsStiGaugeVisualSvgHelper=[wu]),ld.ImplementsStiGaugeVisualSvgHelper}async writeGauge(s,e,n,t,r){let i=new O(e.x,e.y,e.width,e.height),l=e.component,a=await ld.getDataTable(l);if(null==a)return;let o=new G(e.width,e.height),u=(new F.i.StiGaugeElementBuilder).render2(l,o,a),h=F.h.StiElementLocationHelper.getLocationRectangles(i.clone(),(await u()).count2(),l);if(null==(u=1<(await u()).count2()?(new F.i.StiGaugeElementBuilder).render2(l,new G(h[0].width,h[0].height),a):u)||!(await u()).any())return;let m=await ld.getTitleHeight(null,u,i.clone(),l,null),d=null!=m?m:0,c=h[0].clone(),g=await ld.getTitleMinFontSize(null,u,l.font,c.width,c.height),p=(g<l.font.size&&(m=await ld.getTitleHeight(null,u,i.clone(),l,g),d=null!=m?m:0),0);if(t&&t.needToVertScroll){let e=F.h.StiElementLocationHelper.getSumRectangle(h);t.needToVertScroll=e.height>i.height+i.top+5,t.needToVertScroll&&(i.width-=15,h=F.h.StiElementLocationHelper.getLocationRectangles(i.clone(),(await u()).count2(),l),u=(new F.i.StiGaugeElementBuilder).render2(l,new G(h[0].width,h[0].height),a),i=F.h.StiElementLocationHelper.getSumRectangle(h),r.ref=B.System.Convert.toInt32(i.height),d=0)}for(let i of await u()){let t=h[p].clone();if(null!=m){let e=new O(t.x,t.y,t.width,d);this.paintTitle(l,null,s,e,i.series,g)}let r=new Su;if(r.x=t.x/2,r.y=(t.y+d)/2,r.width=t.width,r.height=t.height-d,r.component=i.gauge,this.isEmptyData(l,a)&&!l["isSampleForStyles"]){let e=this.getEmptyDataGauge(l);null!=e&&(r.component=e)}gu.writeGauge(s,r,1,n,l["isSampleForStyles"]),l.previousAnimations=r.component.previousAnimations,p++}}paintTitle(s,e,n,l,a,o){if(L.isNullOrEmpty(a))return;let u=ko.changeFontSize(s.font,o),t=F.h.StiTitleMeasureHelper.measureTitle4(e,l.clone(),s.font,a),h=new O(l.x,l.y,l.width,t.height);if(!L.isNullOrWhiteSpace(a)){let e=ul.getForeColor(s,s.foreColor),t=N.transparent.equals(e)?j.getForeColor(s):e,r=pu.measureString(a,u),i=new fl(h.x+l.width/2-.39*r.width,h.y+r.height/2);gu.writeText(n,a,u,new M(t),i,o)}l.y+=h.height,l.height-=h.height}static async getTitleMinFontSize(r,e,i,t,s){let n=null,l=new O(0,0,t,s);for(let t of await e()){let e=F.h.StiAutoSizeTextHelper.measureFontSize(r,t.series,l,i);n=null==n?e:Math.min(n,e)}return n}static async getTitleHeight(e,t,r,i,s){let n=(await t()).firstOrDefault(e=>!L.isNullOrEmpty(e.series));if(null==n)return null;let l=i.font,a=(null!=s&&(l=new z(l.name,s,l.style)),F.h.StiTitleMeasureHelper.measureTitle4(e,r.clone(),l,n.series).height);if(a>r.height/2)return null;return a}isEmptyData(e,t){return null!=t&&t.isEmpty&&e.isQuerable}static async getDataTable(e){var t;let r=null==(t=e.as(uu))?void 0:t.getManuallyEnteredDataTable();if(null!=r)return r;return Jn.tryToGetOrCreate(e)}getEmptyDataGauge(e){switch(e.type){case xl.FullCircular:return this.getFullCircularEmptyDataGauge(e);case xl.HalfCircular:return this.getHalfCircularEmptyDataGauge(e);case xl.Linear:return this.getLinearEmptyDataGauge(e);case xl.HorizontalLinear:return this.getHorizontalLinearEmptyDataGauge(e);case xl.Bullet:return this.getBulletEmptyDataGauge(e)}return null}getBulletEmptyDataGauge(e){let t=j.getDataEmptyColor(e),r=j.getDataEmptyForeColor(e),i=new Tl,s=new Al,n=(s.allowApplyStyle=!1,s.relativeHeight=.85,s.orientation=cu.Horizontal,s.startWidth=.1,s.endWidth=.1,s.maximum=1,s.majorInterval=1,s.borderBrush=new Ne,s.brush=new M(t),new Sl),l=(n.allowApplyStyle=!1,n.textBrush=new M(r),s.items.add(n),new al);return l.offset=.1,l.font=new z("Arial",14),l.textBrush=new M(r),l.placement=Fl.Inside,l.textObj=g.get("Dashboard","Blank"),l.values.add(new du(.5,g.get("Dashboard","Blank"))),s.items.add(l),i.scales.add(s),i}getHorizontalLinearEmptyDataGauge(e){let t=j.getDataEmptyColor(e),r=j.getDataEmptyForeColor(e),i=new Tl,s=new Al,n=(s.allowApplyStyle=!1,s.relativeHeight=.92,s.orientation=cu.Horizontal,s.startWidth=.1,s.endWidth=.1,s.maximum=1,s.majorInterval=1,s.borderBrush=new Ne,s.brush=new M(t),new Sl),l=(n.allowApplyStyle=!1,n.textBrush=new M(r),s.items.add(n),new al);return l.offset=.1,l.font=new z("Arial",14),l.textBrush=new M(r),l.placement=Fl.Inside,l.textObj=g.get("Dashboard","Blank"),l.values.add(new du(.5,g.get("Dashboard","Blank"))),s.items.add(l),i.scales.add(s),i}getLinearEmptyDataGauge(e){let t=j.getDataEmptyColor(e),r=j.getDataEmptyForeColor(e),i=new Tl,s=new Al,n=(s.allowApplyStyle=!1,s.relativeHeight=.84,s.orientation=cu.Vertical,s.startWidth=.1,s.endWidth=.1,s.maximum=1,s.majorInterval=1,s.borderBrush=new Ne,s.brush=new M(t),new Sl),l=(n.allowApplyStyle=!1,n.textBrush=new M(r),s.items.add(n),new al);return l.font=new z("Arial",14),l.textBrush=new M(r),l.placement=Fl.Overlay,l.textObj=g.get("Dashboard","Blank"),l.values.add(new du(.5,g.get("Dashboard","Blank"))),s.items.add(l),i.scales.add(s),i}getHalfCircularEmptyDataGauge(e){let t=j.getDataEmptyColor(e),r=j.getDataEmptyForeColor(e),i=new Tl,s=new Bl,n=(s.allowApplyStyle=!1,s.startAngle=180,s.sweepAngle=180,s.startWidth=.13,s.endWidth=.13,s.minimum=0,s.maximum=1,s.radius=.92,s.majorInterval=1,s.center=new fl(.5,.7),s.borderBrush=new Ne,s.brush=new M(t),new Ll),l=(n.allowApplyStyle=!1,n.textBrush=new M(r),s.items.add(n),new ol);return l.offset=.8,l.font=new z("Arial",14),l.textBrush=new M(r),l.placement=Fl.Overlay,l.values.add(new mu(.5,g.get("Dashboard","Blank"))),s.items.add(l),i.scales.add(s),i}getFullCircularEmptyDataGauge(e){let t=j.getDataEmptyColor(e),r=j.getDataEmptyForeColor(e),i=new Tl,s=new Bl,n=(s.allowApplyStyle=!1,s.startAngle=120,s.sweepAngle=300,s.startWidth=.13,s.endWidth=.13,s.minimum=0,s.maximum=1,s.majorInterval=1,s.borderBrush=new Ne,s.brush=new M(t),new Ll),l=(n.allowApplyStyle=!1,n.textBrush=new M(r),s.items.add(n),i.scales.add(s),new ol);return l.offset=.8,l.font=new z("Arial",14),l.textBrush=new M(r),l.placement=Fl.Overlay,l.values.add(new mu(.5,g.get("Dashboard","Blank"))),s.items.add(l),i.scales.add(s),i}}F.h.StiGaugeVisualSvgHelper=ld}F.u.StiIndicatorIteration=class{constructor(e,t,r){this.series=e,this.value=t,this.target=r}};let fu=B.Data.Engine.StiDataSortDirection,Cu=B.Data.Engine.StiDataSortVariation,yu=B.Data.Engine.StiDataTopNMode,bu=F.u.StiIndicatorIteration;{class Au extends F.i.StiElementBuilder{async render(l,a){this.storedCulture=Gr.set(l.report);try{let t=this.getValueMeterIndex(a),r=this.getTargetMeterIndex(a),i=this.getSeriesMeterIndex(a),e=this.getSeriesKeys(a,i,this.getSeriesKeysLimitCount(l)),s=e.count2(),n=e.select(e=>new bu(this.getSeries(a,i,e,l.report),this.getValue(a,t,i,s,e),this.getNullableValue(a,r,i,s,e)));return n=Au.processVariationSort(l,n),await Au.processTopNElements(l,n)}finally{F.h.StiCultureHelper.restore(this.storedCulture)}}static processVariationSort(e,t){let r=e.userSorts;return t=null!=r&&r.any(e=>e.key==Cu.ident)?r.firstOrDefault().direction==fu.Ascending?t.orderBy(e=>0!=e.target?e.value/e.target:0):t.orderByDescending(e=>0!=e.target?e.value/e.target:0):t}static async processTopNElements(s,n){if(s.topN.mode==yu.None)return n;let l=(n=s.topN.mode==yu.Bottom?n.orderBy(e=>e.value):n.orderByDescending(e=>e.value)).take(s.topN.count);if(n.count2()>s.topN.count&&s.topN.showOthers){let e=n.skip(s.topN.count).sum(e=>v.tryToNumber(e.value)),t=n.skip(s.topN.count),r=t.all(e=>null!=e?null==e.target:null)?null:t.sum(e=>v.tryToNullableNumber(e.target)),i=L.isNullOrEmpty(s.topN.othersText)?c.get("FormDesigner","Others"):await rt.parseAsync(s.topN.othersText,s);l.add(new bu(i,e,r))}return l}getValueMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(ss));return null!=t?e.meters.indexOf(t):-1}getTargetMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(ns));return null!=t?e.meters.indexOf(t):-1}getSeriesMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(is));return null!=t?e.meters.indexOf(t):-1}}F.i.StiIndicatorElementBuilder=Au}let xu=B.Report.Components.TextFormats.StiNegativeColorChecker,Tu=B.System.Drawing.GraphicsUnit,Fu=B.Base.Context.StiInteractionDataGeom,Mu=B.Base.Context.StiIndicatorInteractionData,vu=(F.u.StiIndicatorVisual=class extends F.j.StiVisual{constructor(e,t){super(),this.indent=4,this.minSide=20,this.element=e,this.iterations=t}async draw(e,t){let r=.06*t.width,i=(12<(r=r<4?4:r)&&(r=12),new O(t.x+r/2,t.y+r/2,t.width-r,t.height-r));try{e.pushClip(t),1==this.iterations.length?this.drawSingleMode(e,t,i):1<this.iterations.length&&await this.drawMultiMode(e,i),e.popClip()}finally{}}getContentRectangle(t){if(1<this.iterations.length){let e=t.height/this.iterations.length;return e<this.minSide&&(e=this.minSide),new O(t.x,t.y,t.width,e*this.iterations.length)}return t}drawSingleMode(o,t,e){if(0==this.iterations.length)return;let r=null!=this.iterations[0].target,i=null,u=null,s=null,n={ref:i},l={ref:u},a={ref:s},h=Ei.format(this.element.report,this.element.textFormat,this.iterations[0].value),m=(this.getRectanglesSingleMode(o,h,e,n,l,a),i=n.ref,u=l.ref,s=a.ref,this.processFontName(this.element.font.fontFamily.name,this.iterations[0])),d=this.processFontStyle(this.element.font,this.iterations[0]),c=new z(m,8,d),g=this.processBackColor(this.iterations[0]),p=this.processForeColor(this.iterations[0]),S=this.processGlyphColor(this.iterations[0]),w=this.processIcon(this.element.icon,this.iterations[0]),f=this.processIconAlignment(this.iterations[0]),C=this.processCustomIcon(this.iterations[0]);if(null!=g&&o.fillRectangle(g,t,null),!this.element.report.isDesigning){let e=j.getHotBackColor(this.element);null==g&&(g=N.transparent),o.fillRectangle3(g,e,t,this.getInteractionDataGeom(this.iterations[0]))}let y=p;if(this.iterations[0].value<0&&xu.isNegativeInRed(this.element.textFormat)&&(y=W.Engine.negativeColor),this.drawTextIcon(o,h,c,ha.getContent(w),y,S,i,f,C),r){let e=this.getVariation(this.iterations[0]),t=j.getIndicatorStyle(this.element),r=0<=e?t.positiveColor:t.negativeColor,i=(r=this.processTargetIconColor(r,this.iterations[0]),0<=e?ct.ArrowUp:ct.ArrowDown),s=(i=this.processTargetIcon(i,this.iterations[0]),new Dr),n=(s.decimalDigits=3,Ei.formatAsPercentage2(this.element.report,s,e)),l=0==e?bt.None:bt.Right,a=this.processTargetIconAlignment(l,this.iterations[0]);this.drawTextIcon(o,n,c,ha.getContent(i),r,r,u,a,null)}let b=null,x={ref:b};if(this.measureFontSize(o,s,this.iterations[0].series,x),null!=(b=.88*x.ref)&&0<b){let e=new z(m,b,d),t=Jo.create(e);o.drawRotatedString5(this.iterations[0].series,t,p,s,_o.getStringFormatGeom(o),Wo.CenterCenter,0,!0)}}getVariation(e){let t=e.value,r=v.tryToNumber(e.target),i=0;if(0!=r)switch(this.element.targetMode){case ga.Variation:i=t/r-1,r<0&&(i=-i);break;case ga.Percentage:i=t/r;break}return i}getFactorByFontSize(t,r,i,s){switch(i.fontSizeMode){case ba.Auto:return.7;case ba.Value:case ba.Target:{let e=t.measureString(r,Jo.create(i.font));return e.height/s.height}}return 0}getRectanglesSingleMode(e,t,r,i,s,n){let l=this.iterations[0].target,a=null!=l,o=!L.isNullOrEmpty(this.iterations[0].series),u=.7,h=(1-u)/2,m=1-h-u,d=r.y;!o&&a?(this.element.fontSizeMode==ba.Value?(u=this.getFactorByFontSize(e,t,this.element,r),h=1-u):this.element.fontSizeMode==ba.Target&&(h=this.getFactorByFontSize(e,t,this.element,r),u=1-h),m=0):o&&!a?(h=0,m=1-u):o||a||(this.element.fontSizeMode!=ba.Value?u=1:(u=this.getFactorByFontSize(e,t,this.element,r),d=r.y+(r.height-r.height*u)/2),h=0,m=0),i.ref=new O(r.x,d,r.width,r.height*u),s.ref=new O(i.ref.x,i.ref.bottom,r.width,r.height*h),n.ref=new O(i.ref.x,s.ref.bottom,r.width,r.height*m)}processFontStyle(e,t){let r=this.processFontBold(e.bold,t),i=this.processFontItalic(e.italic,t),s=this.processFontUnderline(e.underline,t),n=this.processFontStrikeout(e.strikeout,t),l=k.Regular;return r&&(l^=k.Bold),i&&(l^=k.Italic),s&&(l^=k.Underline),n&&(l^=k.Strikeout),l}processFontStrikeout(e,t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.FontStyleStrikeout)&&this.getConditionResult(t,e))return e.font.strikeout;return e}processFontUnderline(e,t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.FontStyleUnderline)&&this.getConditionResult(t,e))return e.font.underline;return e}processFontItalic(e,t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.FontStyleItalic)&&this.getConditionResult(t,e))return e.font.italic;return e}processFontBold(e,t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.FontStyleBold)&&this.getConditionResult(t,e))return e.font.bold;return e}processFontName(e,t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.Font)&&this.getConditionResult(t,e))return e.font.name;return e}processIcon(e,t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.Icon)&&this.getConditionResult(t,e))return e.icon;return e}processTargetIcon(e,t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.TargetIcon)&&this.getConditionResult(t,e))return e.targetIcon;return e}processCustomIcon(t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.Icon)&&this.getConditionResult(t,e))return e.customIcon;return this.element.customIcon}processIconAlignment(t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.Icon)&&this.getConditionResult(t,e))return e.iconAlignment;return this.element.iconAlignment}processTargetIconAlignment(e,t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.TargetIcon)&&this.getConditionResult(t,e))return e.targetIconAlignment;return e}processBackColor(t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.BackColor)&&this.getConditionResult(t,e))return e.backColor;return null}processForeColor(t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.TextColor)&&this.getConditionResult(t,e))return e.textColor;return j.getForeColor(this.element)}processGlyphColor(t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.Icon)&&this.getConditionResult(t,e))return e.iconColor;return j.getGlyphColor(this.element)}processTargetIconColor(e,t){for(let e of this.element.indicatorConditions)if(0<(e.permissions&Fa.TargetIcon)&&this.getConditionResult(t,e))return e.targetIconColor;return e}getConditionResult(i,t){let s=null;switch(t.field){case Ta.Value:s=i.value;break;case Ta.Series:s=i.series;break;case Ta.Target:s=i.target;break;case Ta.Variation:{let e=this.getVariation(i),t=new Dr,r=(t.decimalDigits=3,Ei.formatAsPercentage2(this.element.report,t,e));s=r.replace("%","").stimulsoft().toNumber();break}}let e=!1,r=this.getConditionValue(t);if(null!=s){let e=s=t.field!=Ta.Value&&t.field!=Ta.Target&&t.field!=Ta.Variation?s:null==s?0:s.stimulsoft().toNumber();if(null!=e&&null!=r){s.stimulsoft().getType()!=r.stimulsoft().getType()&&(s=s.toString(),r=r.stimulsoft().toString(),e=s);try{switch(t.condition){case B.Report.Components.StiFilterCondition.EqualTo:return 0==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.NotEqualTo:return 0!=e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.GreaterThan:return 1==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.GreaterThanOrEqualTo:return 0<=e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.LessThan:return-1==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.LessThanOrEqualTo:return e.stimulsoft().compareTo(r)<=0;case B.Report.Components.StiFilterCondition.Containing:{let e=s.toString(),t=r.toString();return-1!=e.indexOf(t)}case B.Report.Components.StiFilterCondition.NotContaining:{let e=s.toString(),t=r.toString();return-1==e.indexOf(t)}case B.Report.Components.StiFilterCondition.BeginningWith:{let e=s.toString(),t=r.toString();return e.stimulsoft().startsWith(t)}case B.Report.Components.StiFilterCondition.EndingWith:{let e=s.toString(),t=r.toString();return e.stimulsoft().endsWith(t)}}}catch(e){}}}return e}getConditionValue(e){if(L.isNullOrEmpty(e.value))return null;switch(e.field){case Ta.Value:case Ta.Target:case Ta.Variation:return e.value.stimulsoft().toNumber();default:return e.value.toString()}}async drawMultiMode(e,t){if(0==this.iterations.length)return;let r=this.getTargetValues();r.any(e=>null!=e)?this.drawMultiModeWithTarget(e,t.clone(),r):await this.drawMultiModePresent(e,t.clone())}async drawMultiModePresent(c,g){let e=this.iterations.select(e=>e.value),t=e.max(),s=e.min(),n=t-s,d=g.height/this.iterations.length,p=(d<this.minSide&&(d=this.minSide),new P),S=new P,w=new P,l=ha.getFontIcons(this.element.iconSet),a=new P;if(this.element.iconMode==da.Auto){let i=1/l.length;for(let r=0;r<l.length;r++){let e=s+r*i*n,t=s+(1+r)*i*n;a.add(new F.u.StiIndicatorIconRangeValue(e,t,l[r]))}}else for(let r of this.element.iconRanges){let e=v.tryToNumber(await rt.parseAsync(r.startExpression,this.element)),t=v.tryToNumber(await rt.parseAsync(r.endExpression,this.element));this.element.iconRangeMode==ma.Percentage&&(e=s+e/100*n,t=s+t/100*n),a.add(new F.u.StiIndicatorIconRangeValue(e,t,r.icon))}for(let t of this.iterations){p.add(t.series),S.add(Ei.format(this.element.report,this.element.textFormat,t.value));let e=a.where(e=>e.isBetween(t.value)).firstOrDefault();null!=e?w.add(e.icon):w.add(null)}let f=this.element.font,o=null,u=new z(f.fontFamily.name,1,f.style,f.unit);for(let i=0;i<this.iterations.length;i++){let e=p[i]+S[i]+"Icon",t=new O(g.x,g.y,g.width,d),r=_o.getFontSize(c,t,e,u);(null==o||o>r)&&(o=r)}let C=_o.getStringFormatGeom(c),y=this.element.font.size/13*o;if((y=y>o?o:y)<1)return;let b=new P,x=null,T=new Jo("Stimulsoft",.6*y,B.System.Drawing.FontStyle.Regular,B.System.Drawing.GraphicsUnit.Point);for(let m=0;m<this.iterations.length;m++){let e=this.processFontName(f.fontFamily.name,this.iterations[m]),t=this.processFontStyle(f,this.iterations[m]),r=new z(e,y,t),i=Jo.create(r),s=new P,n=g.y+d*m,l=new O(g.x,n,g.width,d),a=(s.add(l),c.measureString(p[m],i)),o=new O(l.x,l.y,a.width,d),u=(s.add(o),c.measureString(ha.getContent(w[m]),T)),h=((null==x||x>g.right-u.width-this.indent)&&(x=g.right-u.width-this.indent),new O(x,l.y,u.width,d));s.add(h),b.add(s)}for(let d=0;d<this.iterations.length;d++){let e=this.processFontName(f.fontFamily.name,this.iterations[d]),t=this.processFontStyle(f,this.iterations[d]),r=new z(e,y,t),i=Jo.create(r),s=b[d],n=s[0];if(!n.intersectsWith(g))return;let l=this.processBackColor(this.iterations[d]);if(null!=l&&c.fillRectangle(l,n,null),!this.element.report.isDesigning){let e=j.getHotBackColor(this.element);null==l&&(l=N.transparent),c.fillRectangle3(l,e,n,this.getInteractionDataGeom(this.iterations[d]))}let a=new O(s[1].x+this.indent,s[1].y,s[1].width,s[1].height),o=this.processForeColor(this.iterations[d]),u=(c.drawRotatedString5(p[d],i,o,a,C,Wo.CenterCenter,0,!0),s[2]),h=this.processGlyphColor(this.iterations[d]),m=w[d];if(null!=m){let e=this.processIcon(m,this.iterations[d]);c.drawRotatedString5(ha.getContent(e),T,h,u,_o.getStringFormatGeom(c),Wo.CenterCenter,0,!0)}c.drawRotatedString4(S[d],i,o,new fl(x-4,u.y+u.height/2),C,Wo.RightCenter,0,!0)}}drawMultiModeWithTarget(C,y,e){let b=y.height/this.iterations.length,x=(b<this.minSide&&(b=this.minSide),new P),T=new P,F=new P,M=new P,v=new P;for(let n=0;n<this.iterations.length;n++){let e=this.iterations[n],t=(x.add(e.series),T.add(Ei.format(this.element.report,this.element.textFormat,e.value)),this.getVariation(this.iterations[n])),r=new Dr,i=(r.decimalDigits=3,Ei.formatAsPercentage2(this.element.report,r,t)),s=0<=t?ct.ArrowUp:ct.ArrowDown;F.add(i),M.add(s),v.add(0==t?bt.None:bt.Right)}let s=null,D=this.element.font,n=new z(D.fontFamily.name,1,D.style,D.unit);for(let i=0;i<this.iterations.length;i++){let e=x[i]+T[i]+F[i]+"DeltaIcon",t=new O(y.x,y.y,y.width,b),r=_o.getFontSize(C,t,e,n);(null==s||s>r)&&(s=r)}let A=_o.getStringFormatGeom(C),I=this.element.font.size/13*s;if((I=I>s?s:I)<1)return;let R=new Jo(D.fontFamily.name,I,D.style,D.unit),E=new Jo("Stimulsoft",.99*I,B.System.Drawing.FontStyle.Regular,B.System.Drawing.GraphicsUnit.Point),k=null;for(let e=0;e<this.iterations.length;e++){let t=M[e];if(null!=t){let e=C.measureString(ha.getContent(t),E);(null==k||k>y.right-e.width-+this.indent)&&(k=y.right-e.width-+this.indent)}}let L=null;for(let t=0;t<this.iterations.length;t++){let e=C.measureString(F[t],R);(null==L||L>k-e.width)&&(L=k-e.width)}let V=j.getIndicatorStyle(this.element);for(let f=0;f<this.iterations.length;f++){let e=this.processForeColor(this.iterations[f]),t=this.processFontName(D.fontFamily.name,this.iterations[f]),r=this.processFontStyle(D,this.iterations[f]),i=new z(t,I,r),s=(R=Jo.create(i),y.y+b*f),n=new O(y.x,s,y.width,b);if(!n.intersectsWith(y))return;let l=this.processBackColor(this.iterations[f]);if(null!=l&&C.fillRectangle(l,n,null),!this.element.report.isDesigning){let e=j.getHotBackColor(this.element);null==l&&(l=N.transparent),C.fillRectangle3(l,e,n,this.getInteractionDataGeom(this.iterations[f]))}let a=C.measureString(x[f],R),o=new O(n.x+this.indent,n.y,a.width,b),u=(C.drawString(x[f],R,e,o,A),M[f]==ct.ArrowUp?V.positiveColor:V.negativeColor),h=(u=this.processTargetIconColor(u,this.iterations[f]),C.measureString(ha.getContent(M[f]),E)),m=new O(k,n.y,h.width,b),d=C.measureString(F[f],R),c=new O(k-d.width,n.y,d.width,b),g=M[f],p=(g=this.processTargetIcon(g,this.iterations[f]),C.drawRotatedString5(F[f],R,u,c,A,Wo.CenterCenter,0,!0),this.processTargetIconAlignment(v[f],this.iterations[f])),S=(p!=bt.None&&C.drawRotatedString5(ha.getContent(g),E,u,m,_o.getStringFormatGeom(C),Wo.CenterCenter,0,!0),this.iterations[f].value<0&&xu.isNegativeInRed(this.element.textFormat)&&(e=W.Engine.negativeColor),C.measureString(T[f],R)),w=new O(L-S.width,s,S.width,b);C.drawRotatedString4(T[f],R,e,new fl(w.right,w.y+w.height/2),A,Wo.RightCenter,0,!0)}}getInteractionDataGeom(e){var e,e;let t=new Mu,r=(t.value=e.value,t.seriesText=e.series,t.target=e.target,new Fu);return r.interactionToolTip=null==(e=this.element.interaction)?void 0:e.toolTip,r.interactionHyperlink=null==(e=this.element.interaction)?void 0:e.hyperlink,r.interactionData=t,r}getMaxValue(){let t=0;for(let e of this.iterations)t<e.value&&(t=e.value);return t}getTargetValues(){let t=new P;for(let e of this.iterations)t.add(e.target);return t}drawTextIcon(d,c,g,p,t,r,S,w,e){let f,C,y=null;if(w==bt.None){f=O.empty,C=new O(S.x,S.y,S.width,S.height);let e={ref:y};this.measureFontSize(d,C.clone(),c,e),y=e.ref}else if(w==bt.Right||w==bt.Left){let e={ref:y};if(this.measureFontSize(d,S.clone(),c,e),null==(y=e.ref)&&y<=0)return;let t=new Jo("Stimulsoft",y,B.System.Drawing.FontStyle.Regular,B.System.Drawing.GraphicsUnit.Point),r=new Jo(g.fontFamily.name,y,g.style,B.System.Drawing.GraphicsUnit.Point),i=d.measureString(c,r),s=d.measureString(p,t),n=i.width+s.width>S.width?S.width/(i.width+s.width):1,l=(y*=n,new G(i.width*n,i.height*n)),a=new G(s.width*n,s.height*n),o=w==bt.Right?S.x+(S.width-l.width-a.width)/2:S.x+(S.width-l.width-a.width)/2+a.width,u=S.y+(S.height-l.height)/2,h=(C=new O(o,u,l.width,l.height),w==bt.Right?C.right:C.x-a.width),m=S.y+(S.height-a.height)/2;f=new O(h,m,a.width,a.height)}else{C=w==bt.Bottom?new O(S.x,S.y,S.width,S.height/2):new O(S.x,S.y+S.height/2,S.width,S.height/2),f=w==bt.Bottom?new O(S.x,S.y+S.height/2,S.width,S.height/2):new O(S.x,S.y,S.width,S.height/2);let e={ref:y};this.measureFontSize(d,C,c,e),y=e.ref}if(null!=y&&0<y){let e=new Jo(g.fontFamily.name,y,g.style,Tu.Pixel);d.drawRotatedString5(c,e,t,C,_o.getStringFormatGeom(d),Wo.CenterCenter,0,!0)}if(null!=y&&0<y&&w!=bt.None)if(null==e||0==e.length){let e=new Jo("Stimulsoft",.6*y,B.System.Drawing.FontStyle.Regular,B.System.Drawing.GraphicsUnit.Point);d.drawRotatedString5(p,e,r,f,_o.getStringFormatGeom(d),Wo.CenterCenter,0,!0)}else d.drawImage(e,f)}getFontGeom(e){return new Jo("Arial",e,k.Bold,Tu.Point)}measureFontSize(e,t,r,i){let s=e.measureString(r,this.getFontGeom(1e3));if(0==s.width||0==s.height)return void(i.ref=0);let n=t.width/s.width*1e3,l=t.height/s.height*1e3,a=l<n?l:n;(null==i.ref||i.ref>a)&&(i.ref=a)}getElementSide(e,t){let r=e?t.height:t.width,i=e?t.width:t.height,s=r/this.iterations.length;return s=s>i?i:s}},F.T.StiIndicatorElement),Du=B.Report.Dashboard.Visuals.IStiIndicatorVisualSvgHelper,Au=F.i.StiIndicatorElementBuilder,Iu=F.u.StiIndicatorVisual;{class Xc{implements(){return Xc.ImplementsStiIndicatorVisualSvgHelper||(Xc.ImplementsStiIndicatorVisualSvgHelper=[Du]),Xc.ImplementsStiIndicatorVisualSvgHelper}async writeIndicator(e,t,r,i){let s=new O(0,0,t.width,t.height),n=t.component.as(F.T.StiIndicatorElement),l=await Xc.getDataTable(n);if(null==l)return;let a=await(new Au).render(n,l);if(n["isSampleForStyles"]?a=this.getStyleSampleIterations():this.isEmptyData(n,l)&&(a=this.getEmptyDataIterations(),n=this.getEmptyDataIndicatorElement(n)),null==a||!a.any())return;let o=new eu,u=new lu(o,!0,!1,!1,1),h=new Iu(n,a.toList());if(r&&r.needToVertScroll){let e=h.getContentRectangle(s);r.needToVertScroll=e.height>s.height+5,r.needToVertScroll&&(s.width-=15,e=h.getContentRectangle(s),(s=e).height+=10,i.ref=B.System.Convert.toInt32(s.height))}await h.draw(u,s.clone()),e.writeStartElement("g");let m=r&&r.needToVertScroll?0:t.x+.5,d=r&&r.needToVertScroll?0:t.y+.5;e.writeAttributeString("transform",L.format("translate({0},{1})",this.p(m),this.p(d))),hu.writeGeoms(e,u,!1,!1),e.writeEndElement()}p(e){return e.toString().split(",").join(".")}isEmptyData(e,t){return null!=t&&t.isEmpty&&e.isQuerable}getStyleSampleIterations(){let e=new P,t=new bu;return t.value=100,e.add(t),e}getEmptyDataIterations(){let e=new P,t=new bu;return t.value=0,t.series=g.get("Dashboard","Blank"),e.add(t),e}getEmptyDataIndicatorElement(e){let t=e.clone(!0).as(vu);return t.glyphColor=N.fromArgb(240,240,240),t}static async getDataTable(e){var t;let r=null==(t=e.as(uu))?void 0:t.getManuallyEnteredDataTable();if(null!=r)return r;return Jn.tryToGetOrCreate(e)}}F.h.StiIndicatorVisualSvgHelper=Xc}let Ru=B.Data.Comparers.StiArrayEqualityComparer,Eu=B.Base.Helpers.StiBingMapHelper,ku=B.Base.Drawing.StiColorUtils,Lu=B.Report.Maps.StiMapHelper;{class Gc{static get ICON(){return null==this._ICON&&(this._ICON=ya.toBase64String(Nn.UTF8.getBytes('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="#af6682" stroke="#663a4c"/><circle cx="12" cy="9" r="3" fill="#f7f4f2"/></svg>'))),this._ICON}static get EMPTY_ICON(){return null==this._EMPTY_ICON&&(this._EMPTY_ICON=ya.toBase64String(Nn.UTF8.getBytes('<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1" ></svg>'))),this._EMPTY_ICON}static async getBingMapScript(n,e){let t=await Jn.tryToGetOrCreate(n),l=this.calculateMapData(t,n);if(e){l["outerStyle"]="display: table;";let s=n.title;if(s.visible){let t="";if(s.font.bold&&(t+="font-weight: bold;"),s.font.italic&&(t+="font-style: italic;"),s.font.strikeout||s.font.underline){let e=s.font.underline?s.font.strikeout?"underline line-through":"underline":s.font.strikeout?"line-through":"none";t+=`text-decoration: ${e};`}let e=Bo.toHtml(N.transparent.equals(s.foreColor)?j.getTitleForeColor(n):s.foreColor),r=Bo.toHtml(N.transparent.equals(s.backColor)?j.getBackColor(n):s.backColor),i=s.horAlignment.toString().toLowerCase();l["title"]=`font-family: ${s.font.name}; font-size: ${s.font.size}pt; color: ${e};`+`${t}background-color:${r};text-align:${i}'>${s.text}</div>`}}return Eu.getScript(l)}static calculateMapData(c,g){let r={},a=this.getLongitudeMeterIndex(c),o=this.getLatitudeMeterIndex(c),s=this.getLocationMeterIndex(c),n=this.getLocationColorMeterIndex(c),l=this.getLocationArgumentMeterIndex(c),p=this.getLocationValueMeterIndex(c),e=j.isDarkStyle(g.dashboard);if(null!=c)if(-1!=o&&-1!=a){let n=[],l=0;for(let s of c.rows){l++;let e=s[o],t=s[a];if(null==e||null==t)continue;let r=v.tryToNumber(e).toString().replace(",","."),i=v.tryToNumber(t).toString().replace(",",".");if(null==g.customIcon?n.push({lat:r,lon:i,fontIcon:ha.getContent(g.icon).charCodeAt(0),fontIconColor:`rgb(${g.iconColor.r}, ${g.iconColor.g}, ${g.iconColor.b})`}):n.push({lat:r,lon:i,anchorX:this.MAX_RADIUS,anchorY:2*this.MAX_RADIUS}),l>this.MAX_LOCATIONS)break}r["pushpins"]=n}else if(-1!=s){let e=null,i=null;if(g.locationColorType==Va.ColorEach)e=this.getColors(Math.min(c.rows.length,this.MAX_LOCATIONS));else if(g.locationColorType==Va.Group&&-1!=n){let r=[];for(let t=0;t<c.rows.length;t++){let e=null!=c.rows[t][n]?c.rows[t][n].toString():"";r.stimulsoft().contains(e)||r.push(e)}let t=this.getColors(r.length);i=new Na;for(let e=0;e<r.length;e++)i.set(r[e],t[e])}let t=new P;if(0<=p)for(let e=0;e<Math.min(c.rows.length,this.MAX_LOCATIONS);e++)t.add(v.tryToNumber(c.rows[e][p]));un.sort(t);let h=t,m=new Object,d=0;while(d<c.rows.length&&d<this.MAX_LOCATIONS){let a=c.rows[d][s];if(null==a){d++;continue}let o=N.limeGreen,u=null;if(g.locationColorType==Va.Single)o=g.locationColor,u=N.transparent.equals(g.locationColor)?"Transparent":null;else if(g.locationColorType==Va.ColorEach)o=e[d];else if((g.locationColorType==Va.Group||g.locationColorType==Va.Value)&&0<=n){let e=null!=c.rows[d][n]?c.rows[d][n].toString():"";g.locationColorType==Va.Group&&i.containsKey(e)&&(o=i.get(e)),g.locationColorType!=Va.Value||L.isNullOrEmpty(e)||(u=e)}if(m[a]={fillStyle:null!=u?u:`rgba(${o.r}, ${o.g}, ${o.b}, 0.5)`,strokeStyle:"Transparent"==u?u:"#d3d3d3"},0<=p||g.valueViewMode==Ba.Icon)if(g.valueViewMode==Ba.Bubble){let e=h.indexOf(v.tryToNumber(c.rows[d][p]))/h.length,t=2*this.MAX_RADIUS+2,r=this.MIN_RADIUS+Math.ceil(e*this.DELTA_RADIUS),i=this.MAX_RADIUS+1,s=ku.dark(null!=u?this.parseColor(u):o,70),n=null!=u?u:`rgba(${o.r}, ${o.g}, ${o.b}, 0.5)`,l=`<svg xmlns="http://www.w3.org/2000/svg" width="${t}" height="${t}">`+`<circle cx="${i}" cy="${i}" r="${r}" stroke="rgba(${s.r}, ${s.g}, ${s.b}, ${s.a})" `+`stroke-width="1" fill="${n}"/>`+"</svg>";m[a]["icon"]=ya.toBase64String(Nn.UTF8.getBytes(l)),m[a]["anchorX"]=i,m[a]["anchorY"]=i}else g.valueViewMode==Ba.Value?(m[a]["icon"]=this.EMPTY_ICON,m[a]["title"]=null!=c.rows[d][p]?c.rows[d][p].toString():"",m[a]["anchorX"]=1,m[a]["anchorY"]=7):g.valueViewMode==Ba.Icon?(null==g.customIcon&&(m[a]["fontIcon"]=ha.getContent(g.icon).charCodeAt(0),m[a]["fontIconColor"]=`rgb(${g.iconColor.r}, ${g.iconColor.g}, ${g.iconColor.b})`),0<p&&(m[a]["title"]=null!=c.rows[d][p]?c.rows[d][p].toString():"")):g.valueViewMode==Ba.Chart&&(m[a]["chart"]=this.getChartData(c,s,p,l,c.rows[d][s]),m[a]["icon"]=this.EMPTY_ICON);d++}r["locations"]=m,r["locationType"]=ue.getName(ka,g.locationType)}(g.valueViewMode==Ba.Icon||-1!=o&&-1!=a)&&null!=g.customIcon&&this.getCustomIcon(g.customIcon,r),r["theme"]=e?"canvasDark":"canvasLight",r["culture"]=La[g.culture].toString().replace("_","-");let t=j.getBackColor(g);return N.transparent.equals(t)&&null!=g.report&&g.report.info.fillComponent&&g.isDesigning&&(t=N.fromArgb(153,N.white)),r["backgroundColor"]=Bo.toHtml(t),r}static getChartData(t,r,i,s,y){let n=new Na;try{if(0<=r&&0<=i&&0<=s){let h=this.CHART_RADIUS,m=t.meters[s],d=t.meters[i],c=t.meters[r],e=t.rows.where(e=>e[r]==y),g=e.groupBy(e=>[e[s]],new Ru).select(e=>e.key.stimulsoft().toArray()[0]).toList(),p=new P;for(let t of g)p.add(e.where(e=>e[s]==t).select(e=>e[i]).sum(e=>v.tryToNumber(e)));let S=p.sum(),w=this.getColors(Math.min(g.countItems,this.MAX_CHART_SECTORS)),f=0,C=[];for(let u=0;u<Math.min(g.countItems,this.MAX_CHART_SECTORS);u++){let e=g[u],t=p[u],r=t/S*6.28318530716,i=h+1+h*Math.cos(f),s=h+1+h*Math.sin(f),n=h+1+h*Math.cos(f+r),l=h+1+h*Math.sin(f+r),a=.5<t/S?1:0,o=ku.dark(w[u],100);C.push({stroke:`rgb(${o.r}, ${o.g}, ${o.b})`,fill:`rgb(${w[u].r}, ${w[u].g}, ${w[u].b})`,_color:Bo.toHtml(w[u]),d:`M ${h+1} ${h+1} L ${this.toUnits(i)} ${this.toUnits(s)} A ${h} ${h} 0 ${a} 1 ${this.toUnits(n)} ${this.toUnits(l)}z`,_text0:c.label,_text1:null!=y?y.toString():null,_text2:m.label,_text3:null!=e?e.toString():null,_text4:d.label,_text5:t.toString}),f+=r}n["paths"]=C,n["anchor"]=h}}catch(e){}return n}static toUnits(e){let t=2,r=A.round2(e,t).toString().replace(",",".");return r}static getCustomIcon(s,n){try{let t,r=0,i=0;if(!Uo.isSvg(s)){t=aa.bytesToImage(s);let e=Math.min(1,2*this.MAX_RADIUS/Math.max(t.width,t.height));r=Math.round(t.width*e),i=Math.round(t.height*e)}n["customIconAnchorX"]=r/2,n["customIconAnchorY"]=i;let e=`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}"><image width="${r}" height="${i}" href="${this.imageBytesToBase64String(s)}"></image></svg>`;n["customIcon"]=ya.toBase64String(Nn.UTF8.getBytes(e))}catch(e){}}static imageBytesToBase64String(e){let t="data:image/png;base64,";return Uo.isBmp(e)?t="data:image/bmp;base64,":Uo.isJpeg(e)?t="data:image/jpeg;base64,":Uo.isGif(e)?t="data:image/gif;base64,":Uo.isSvg(e)&&(t="data:image/svg+xml;base64,"),t+ya.toBase64String(e)}static getColors(e){let t=new P,r=10,i=!0,s=Lu.getColors();t.addRange(s.stimulsoft().toList());while(t.length<e){if(i)for(let e of s)t.add(ku.dark(e,r));else{for(let e of s)t.add(ku.light(e,r));r+=10}i=!i}return t}static getLongitudeMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(Ui));return null!=t?e.meters.indexOf(t):-1}static getLatitudeMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(Wi));return null!=t?e.meters.indexOf(t):-1}static getLocationMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(yi));return null!=t?e.meters.indexOf(t):-1}static getLocationColorMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(bi));return null!=t?e.meters.indexOf(t):-1}static getLocationArgumentMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(Ci));return null!=t?e.meters.indexOf(t):-1}static getLocationValueMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(xi));return null!=t?e.meters.indexOf(t):-1}static parseColor(t){let s=N.black;try{if(1<t.length){if("#"==t[0]){let r=t.substring(1).toLowerCase(),i="";for(let t=0;t<r.length;t++){let e=r.charAt(t);"0"!=e&&"1"!=e&&"2"!=e&&"3"!=e&&"4"!=e&&"5"!=e&&"6"!=e&&"7"!=e&&"8"!=e&&"9"!=e&&"a"!=e&&"b"!=e&&"c"!=e&&"d"!=e&&"e"!=e&&"f"!=e||(i+=e)}if(6==(r=3==i.length?L.format("{0}{0}{1}{1}{2}{2}",i[0],i[1],i[2]):i).length){let e=ya.toInt32(r,16);s=N.fromArgb(255,e>>16&255,e>>8&255,255&e)}}else if(t.stimulsoft().startsWith("rgb")){let r=t.trim().substring(4,t.length-1).split(",");if(3==r.length){let e=[0,0,0];r[0].stimulsoft().endsWith("%")?e[0]=Math.round(2.55*v.tryToNumber(r[0].substring(0,r[0].length-1))):e[0]=v.tryToNumber(r[0]),r[1].stimulsoft().endsWith("%")?e[1]=Math.round(2.55*v.tryToNumber(r[1].substring(0,r[1].length-1))):e[1]=v.tryToNumber(r[1]),r[2].stimulsoft().endsWith("%")?e[2]=Math.round(2.55*v.tryToNumber(r[2].substring(0,r[2].length-1))):e[2]=v.tryToNumber(r[2]),s=N.fromArgb(255,e[0],e[1],e[2])}else if(4==r.length){let e=[0,0,0],t=1;r[0]=r[0].replace("(",""),r[0].stimulsoft().endsWith("%")?e[0]=Math.round(2.55*v.tryToNumber(r[0].substring(0,r[0].length-1))):e[0]=v.tryToNumber(r[0]),r[1].stimulsoft().endsWith("%")?e[1]=Math.round(2.55*v.tryToNumber(r[1].substring(0,r[1].length-1))):e[1]=v.tryToNumber(r[1]),r[2].stimulsoft().endsWith("%")?e[2]=Math.round(2.55*v.tryToNumber(r[2].substring(0,r[2].length-1))):e[2]=v.tryToNumber(r[2]),t=r[3].stimulsoft().endsWith("%")?2.55*v.tryToNumber(r[3].substring(0,r[3].length-1)):v.tryToNumber(r[3]),s=N.fromArgb(Math.round(255*t),e[0],e[1],e[2])}}else if(null==this.htmlNameToColor){let s=[["AliceBlue","#F0F8FF"],["AntiqueWhite","#FAEBD7"],["Aqua","#00FFFF"],["Aquamarine","#7FFFD4"],["Azure","#F0FFFF"],["Beige","#F5F5DC"],["Bisque","#FFE4C4"],["Black","#000000"],["BlanchedAlmond","#FFEBCD"],["Blue","#0000FF"],["BlueViolet","#8A2BE2"],["Brown","#A52A2A"],["BurlyWood","#DEB887"],["CadetBlue","#5F9EA0"],["Chartreuse","#7FFF00"],["Chocolate","#D2691E"],["Coral","#FF7F50"],["CornflowerBlue","#6495ED"],["Cornsilk","#FFF8DC"],["Crimson","#DC143C"],["Cyan","#00FFFF"],["DarkBlue","#00008B"],["DarkCyan","#008B8B"],["DarkGoldenRod","#B8860B"],["DarkGray","#A9A9A9"],["DarkGrey","#A9A9A9"],["DarkGreen","#006400"],["DarkKhaki","#BDB76B"],["DarkMagenta","#8B008B"],["DarkOliveGreen","#556B2F"],["Darkorange","#FF8C00"],["DarkOrchid","#9932CC"],["DarkRed","#8B0000"],["DarkSalmon","#E9967A"],["DarkSeaGreen","#8FBC8F"],["DarkSlateBlue","#483D8B"],["DarkSlateGray","#2F4F4F"],["DarkSlateGrey","#2F4F4F"],["DarkTurquoise","#00CED1"],["DarkViolet","#9400D3"],["DeepPink","#FF1493"],["DeepSkyBlue","#00BFFF"],["DimGray","#696969"],["DimGrey","#696969"],["DodgerBlue","#1E90FF"],["FireBrick","#B22222"],["FloralWhite","#FFFAF0"],["ForestGreen","#228B22"],["Fuchsia","#FF00FF"],["Gainsboro","#DCDCDC"],["GhostWhite","#F8F8FF"],["Gold","#FFD700"],["GoldenRod","#DAA520"],["Gray","#808080"],["Grey","#808080"],["Green","#008000"],["GreenYellow","#ADFF2F"],["HoneyDew","#F0FFF0"],["HotPink","#FF69B4"],["IndianRed","#CD5C5C"],["Indigo","#4B0082"],["Ivory","#FFFFF0"],["Khaki","#F0E68C"],["Lavender","#E6E6FA"],["LavenderBlush","#FFF0F5"],["LawnGreen","#7CFC00"],["LemonChiffon","#FFFACD"],["LightBlue","#ADD8E6"],["LightCoral","#F08080"],["LightCyan","#E0FFFF"],["LightGoldenRodYellow","#FAFAD2"],["LightGray","#D3D3D3"],["LightGrey","#D3D3D3"],["LightGreen","#90EE90"],["LightPink","#FFB6C1"],["LightSalmon","#FFA07A"],["LightSeaGreen","#20B2AA"],["LightSkyBlue","#87CEFA"],["LightSlateGray","#778899"],["LightSlateGrey","#778899"],["LightSteelBlue","#B0C4DE"],["LightYellow","#FFFFE0"],["Lime","#00FF00"],["LimeGreen","#32CD32"],["Linen","#FAF0E6"],["Magenta","#FF00FF"],["Maroon","#800000"],["MediumAquaMarine","#66CDAA"],["MediumBlue","#0000CD"],["MediumOrchid","#BA55D3"],["MediumPurple","#9370D8"],["MediumSeaGreen","#3CB371"],["MediumSlateBlue","#7B68EE"],["MediumSpringGreen","#00FA9A"],["MediumTurquoise","#48D1CC"],["MediumVioletRed","#C71585"],["MidnightBlue","#191970"],["MintCream","#F5FFFA"],["MistyRose","#FFE4E1"],["Moccasin","#FFE4B5"],["NavajoWhite","#FFDEAD"],["Navy","#000080"],["OldLace","#FDF5E6"],["Olive","#808000"],["OliveDrab","#6B8E23"],["Orange","#FFA500"],["OrangeRed","#FF4500"],["Orchid","#DA70D6"],["PaleGoldenRod","#EEE8AA"],["PaleGreen","#98FB98"],["PaleTurquoise","#AFEEEE"],["PaleVioletRed","#D87093"],["PapayaWhip","#FFEFD5"],["PeachPuff","#FFDAB9"],["Peru","#CD853F"],["Pink","#FFC0CB"],["Plum","#DDA0DD"],["PowderBlue","#B0E0E6"],["Purple","#800080"],["Red","#FF0000"],["RosyBrown","#BC8F8F"],["RoyalBlue","#4169E1"],["SaddleBrown","#8B4513"],["Salmon","#FA8072"],["SandyBrown","#F4A460"],["SeaGreen","#2E8B57"],["SeaShell","#FFF5EE"],["Sienna","#A0522D"],["Silver","#C0C0C0"],["SkyBlue","#87CEEB"],["SlateBlue","#6A5ACD"],["SlateGray","#708090"],["SlateGrey","#708090"],["Snow","#FFFAFA"],["SpringGreen","#00FF7F"],["SteelBlue","#4682B4"],["Tan","#D2B48C"],["Teal","#008080"],["Thistle","#D8BFD8"],["Tomato","#FF6347"],["Turquoise","#40E0D0"],["Violet","#EE82EE"],["Wheat","#F5DEB3"],["White","#FFFFFF"],["WhiteSmoke","#F5F5F5"],["Yellow","#FFFF00"],["YellowGreen","#9ACD32"]];this.htmlNameToColor=new Na;for(let i=0;i<2;i++){let e=s[i][0].toLowerCase(),t=ya.toInt32(s[i][1].substring(1),16),r=N.fromArgb(255,t>>16&255,t>>8&255,255&t);this.htmlNameToColor.set(e,r)}}let e=t.toLowerCase();this.htmlNameToColor.containsKey(e)&&(s=this.htmlNameToColor.get(e))}}catch(e){}return s}}Gc.MAX_LOCATIONS=1e3,Gc.MAX_CHART_SECTORS=100,Gc.MIN_RADIUS=3,Gc.MAX_RADIUS=15,Gc.CHART_RADIUS=26,Gc.DELTA_RADIUS=12,Gc.lockHtmlNameToColor=new Object,F.h.StiOnlineMapHelper=Gc}let Vu=B.Report.CrossTab.Core.StiCellType,Bu=B.System.Collections.DictionaryEntry,Nu=B.Report.Components.StiDataHelper,Pu=B.Report.Components.StiFilter,Ou=B.Report.Components.StiCondition,zu=B.Data.Helpers.StiLabelHelper,Hu=B.Report.Engine.StiEngine,Xu=B.System.Drawing.ContentAlignment,Gu=B.Report.Components.StiIconSetIndicator,ju=B.Report.Dashboard.StiPivotToConvertedStateCache,Ju=B.Report.Dashboard.StiPivotTableToCrossTabCache,Wu=B.Report.CrossTab.StiCrossTotal,Uu=B.Report.CrossTab.StiCrossRowTotal,Ku=B.Report.CrossTab.StiCrossTab,qu=B.Report.CrossTab.StiCrossTitle,Yu=B.Report.Components.StiComponentsCollection,Zu=B.Report.CrossTab.StiCrossColumnTotal,Qu=B.Report.CrossTab.StiCrossSummary,_u=F.N.StiPivotTableElement,$u=B.Report.CrossTab.Core.StiCell,eh=B.Report.CrossTab.StiCrossColumn,th=B.Report.StiReportUnitType,rh=B.Report.StiReport,ih=B.Report.CrossTab.StiCrossRow,sh=B.Report.CrossTab.StiCrossSummaryHeader,nh=B.System.Guid,lh=B.Report.CrossTab.StiCrossHeader,ah=B.Report.CrossTab.Core.StiSummaryType,oh=B.Report.CrossTab.StiCrossCell,uh=B.Report.CrossTab.Core.StiCross,hh=B.Report.Dictionary.StiVirtualSource,mh=B.Report.CrossTab.StiCrossTabHelper;{class Hd{static getHeadersBounds(i){let s=-1,n=-1,l=-1,a=-1;for(let r=0;r<i.length;r++)for(let t=0;t<i[r].length;t++){let e=i[r][t];e.cellType!=Vu.HeaderColMain&&e.cellType!=Vu.HeaderColSummaryTotal||(s=-1==s?t:s,n=Math.max(t,n)),e.cellType!=Vu.HeaderRowMain&&e.cellType!=Vu.HeaderRowSummaryTotal||(l=-1==l?r:l,a=Math.max(r,a))}return new O(l,s,a-l,n-s)}static async getViewerData(e){let t={},r=e.as(_u),i=Ju.get(r);if(null==i){let e=await Jn.getOrCreate(r);i=await Hd.convertToCrossTab(r,e),Ju.put(r,i),ju.putFalse(r)}let s=0==r.rows.length&&0==r.columns.length&&0<r.summaries.length,o=i.crossTabInfo.cross.cells,n=this.getHeadersBounds(o),u=n.bottom+1,h=n.right+1,m=(t["headerHeight"]=u,t["headerWidth"]=h,t["onlySummaries"]=s,t["pivotColumnsCount"]=r.columns.length,t["pivotRowsCount"]=r.rows.length,t["pivotSummariesCount"]=r.summaries.length,t["pivotSummaryDirection"]=ue.getName(Pa,r.summaryDirection),[]);if(0<o.length){let l=new Na;for(let r=0;r<o.length;r++)for(let t=0;t<o[r].length;t++){let e=o[r][t];L.isNullOrEmpty(e.parentGuid)||e.parentCell!=e||(l.containsKey(e.parentGuid)||l.set(e.parentGuid,new P),l.get(e.parentGuid).add(e))}let a=[];for(let n=0;n<o.length;n++){let s=[];for(let e=0;e<o[0].length;e++){let t=o[n][e],r=new P,i=null;if(t.parentCell==t&&!L.isNullOrEmpty(t.guid)&&l.containsKey(t.guid))for(let e of l.get(t.guid))e.field.is(Wu)&&e.parentCell==e?i=e.guid:r.add(e.guid);s.push(this.cellItem(o[n][e],n,e,r,i,n<h||e<u,a,n>=h))}m.push(s)}t["cells"]=m,t["sizes"]=a}return t}static cellItem(s,e,t,r,i,n,l,a){var o,o,o,o,o,o;let u=null==(o=null==(o=s.field)?void 0:o.report)?void 0:o.unit,h=-1;if(s.field&&null!=u){let e=`${u.convertToHInches(null==(o=s.field)?void 0:o.minSize.width)};${u.convertToHInches(null==(o=s.field)?void 0:o.maxSize.width)};`+(null!=(o=s.field)&&o.wordWrap?"True":"False");-1==l.indexOf(e)&&l.push(e),h=l.indexOf(e)}let m={};if(m["rowSpan"]=s.height,m["colSpan"]=s.width,m["row"]=t,m["column"]=e,m["text"]=s.text,m["isColumn"]=a,m["s"]=h,m["l"]=s.level,null!=(o=s.field)&&o.is(lh)&&(m["o"]=s.field.isExpanded),n&&(L.isNullOrEmpty(s.guid)&&(s.guid=nh.newGuid().toString()),L.isNullOrEmpty(s.parentGuid)||(m["parentGuid"]=s.parentGuid),null!=s.parentCell&&s.parentCell==s&&(m["parentCellGuid"]=s.parentCell.guid),null!=s.field&&(m["isTotal"]=s.field.is(Wu)&&s.parentCell==s),m["guid"]=s.guid,0<r.length&&(m["dependedCellGuis"]=r),null!=i&&(m["totalCellGuid"]=i)),null!=s.field&&null!=s.field.indicator&&s.field.indicator.stimulsoft().is(Gu)){let e=s.field.indicator.as(Gu),t=ue.getName(Xu,e.alignment),r=0==t.indexOf("Top")?"top":0==t.indexOf("Bottom")?"bottom":"middle",i=`<img src='data:image/png;base64,${ya.toBase64String(e.customIcon)}' style='vertical-align: ${r};'>`;delete m["text"],0<t.indexOf("Left")?m["text"]=i+s.text:m["text"]=s.text+i}let d=null!=s.field?s.field.conditionPermissions:null,c={};if(d!=Ga.None){if(0<(d&Ga.BackColor)){let e=s.field.conditionBrush.color;c["backgroundColor"]=`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}0<(d&Ga.Font)&&(c["fontFamily"]=s.field.font.name),0<(d&Ga.FontSize)&&(c["fontSize"]=s.field.font.sizeInPoints+`pt`),0<(d&Ga.FontStyleBold)&&(c["fontWeight"]=0<(s.field.font.style&k.Bold)?"bold":"normal"),0<(d&Ga.FontStyleItalic)&&(c["fontStyle"]=0<(s.field.font.style&k.Italic)?"italic ":"normal");let e="";if(0<(d&Ga.FontStyleStrikeout)&&0<(s.field.font.style&k.Strikeout)&&(e+="line-through "),0<(d&Ga.FontStyleUnderline)&&0<(s.field.font.style&k.Underline)&&(e+="underline"),L.isNullOrEmpty(e)||(c["textDecoration"]=e),0<(d&Ga.TextColor)){let e=s.field.conditionTextBrush.color;c["color"]=`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}}if(null!=s.field)switch(s.field.horAlignment){case X.Left:c["text-align"]="left";break;case X.Right:c["text-align"]="right";break;case X.Center:c["text-align"]="center";break;case X.Width:c["text-align"]="justify";break}return m["style"]=c,m}static applyStyle(e,t,s){let n=j.getPivotTableStyle(e),l=t.crossTabInfo.cross.cells,a=e.columns.length+(0<e.rows.length?1:0)+(1<e.summaries.length&&e.summaryDirection==Pa.LeftToRight?1:0),o=(0==e.rows.length?1:e.rows.length)+(1<e.summaries.length&&e.summaryDirection==Pa.UpToDown?1:0);for(let i=0;i<l.length;i++)for(let r=0;r<l[i].length;r++)if(null!=l[i][r].field){let e=l[i][r],t=!(e.isCrossSummary||e.field.is2(Qu)||(e.field.is2(Uu)||e.field.is2(Zu))&&null==e.guid);s?(e.field.font=new z("Arial",10,t?k.Bold:k.Regular),e.field.brush=new M(N.transparent),e.field.textBrush=new M(N.black)):t?(i<o&&r>=a?e.field.brush=null!=e.field.conditionBrush?e.field.conditionBrush:new M(n.rowHeaderBackColor):e.field.brush=null!=e.field.conditionBrush?e.field.conditionBrush:new M(n.columnHeaderBackColor),e.field.textBrush=null!=e.field.conditionTextBrush?e.field.conditionTextBrush:new M(n.columnHeaderForeColor)):(e.field.brush=null!=e.field.conditionBrush?e.field.conditionBrush:new M(r%2!=0?n.alternatingCellBackColor:n.cellBackColor),e.field.textBrush=null!=e.field.conditionTextBrush?e.field.conditionTextBrush:new M(r%2!=0?n.alternatingCellForeColor:n.cellForeColor)),e.field.border.color=n.lineColor}}static buildCross(n,l,s){var e;let a=new Na;for(let e=0;e<l.meters.length;e++)a.set(l.meters[e].expression,e);n.crossTabInfo.startRow=0,n.crossTabInfo.startCol=0;let o=new Yu(null),u=new Yu(null),h=new Yu(null),m=new Yu(null),d=new Yu(null),c=new Yu(null),g=null,p=null,S=null,w=new st;for(let l of n.components.list)if(l.is(oh)||l.is(qu)||l.is(sh)){let e=l.as(ih),t=l.as(eh),r=l.as(Qu),i=l.as(sh),s=l.as(qu);if(null!=s){s.typeOfComponent.stimulsoft().startsWith("Row:")&&d.add(s),s.typeOfComponent.stimulsoft().startsWith("Col:")&&c.add(s),s.typeOfComponent.stimulsoft().startsWith("LeftTitle")&&(g=s),s.typeOfComponent.stimulsoft().startsWith("RightTitle")&&(p=s),s.typeOfComponent.stimulsoft().startsWith("SummaryTitle")&&(S=s);continue}null!=e&&(u.add(e),e.isTotalVisible||(e.total.height=0)),null!=t&&(o.add(t),t.isTotalVisible||(t.total.width=0)),null!=r&&h.add(r),null!=i&&m.add(i);let n=new et(l.name,Object);w.columns.add(n),l.is(lh)&&(n=new et("Display__"+l.name,Object),w.columns.add(n))}for(let s of l.rows){let i=w.newRow();for(let r of n.components.list){if(r.is(sh))continue;let t=r.as(oh);if(null!=t){let e=a.contains(r.alias)?s[a.get(r.alias)]:null;"number"==typeof e&&(e=e.stimulsoft().toNumber()),i.sett(t.name,e),t.is(lh)&&i.sett("Display__"+r.name,s[a.get(r.alias)])}else if(r.is(qu)&&!L.isNullOrEmpty(r.alias)){let e=s[a.get(r.alias)];r.setTextInternal(e.toString())}}w.rows.add(i),n.next()}let f=new uh,C=(n.crossTabInfo.cross=f,n.crossTabInfo.cross.designTime=!1,n.crossTabInfo.cross.colFields=o,n.crossTabInfo.cross.rowFields=u,n.crossTabInfo.cross.sumFields=h,n.crossTabInfo.cross.sumHeaderFields=m,n.crossTabInfo.cross.colTitleFields=c,n.crossTabInfo.cross.rowTitleFields=d,n.crossTabInfo.cross.leftCrossTitle=g,n.crossTabInfo.cross.rightCrossTitle=p,n.crossTabInfo.cross.summaryCrossTitle=S,(n.crossTabInfo.cross.crossTab=n).dataSourceName="pivot",n.report.dictionary.dataSources.add(new hh("pivot","pivot")),n.summaryDirection=1<(null==(e=s.summaries)?void 0:e.length)?s.summaryDirection:Pa.UpToDown,n.crossTabInfo.cross.create(w,n.report,n.summaryDirection,n.emptyValue),n.crossTabInfo.cross.crossTab=null,j.getPivotTableStyle(s)),t=0==s.rows.length&&0==s.columns.length&&0<s.summaries.length;if(t){f.init(2,s.summaries.length);for(let i=0;i<s.summaries.length;i++){let e=s.summaries[i],t=new eh,r=(t.alias=e.expression,t.name="CrossTab_Sum"+i.toString(),t.page=n.page,t.horAlignment=X.Center,t.textFormat=e.textFormat.clone(),t.guid=nh.newGuidString(),t.font=J.Table.Font.getCachedGdiFont(),t.brush=new M(C.cellBackColor),t.hideZeros=e.hideZeros,t.border=new U(i==s.summaries.length-1?H.Right|H.Top:0==i?H.Right|H.Bottom:H.Right|H.Bottom|H.Top,C.lineColor,1,ui.Solid),t.height=J.Table.getHeight(t.font),f.cells[0][i]=new $u,f.cells[0][i].text=this.getLabel(e),f.cells[0][i].field=t,f.cells[0][i].parentCell=f.cells[0][i],new Qu);r.name="CrossTab_Sum"+i.toString(),r.value=0<l.rows.length?l.rows[0][i].toString():"",r.page=n.page,r.horAlignment=X.Right,r.textFormat=e.textFormat.clone(),r.guid=nh.newGuidString(),r.font=J.Table.Font.getCachedGdiFont(),r.border=new U(H.None,C.lineColor,1,ui.Solid),r.height=J.Table.getHeight(r.font),f.cells[1][i]=new $u,f.cells[1][i].field=r,f.cells[1][i].text=0<l.rows.length?l.rows[0][i].toString():"",f.cells[1][i].parentCell=f.cells[1][i]}}if(n.rightToLeft&&mh.makeRightToLeft(n),n.crossTabInfo.cross.doAutoSize(),!t){for(let t=0;t<f.cells.length;t++)for(let e=0;e<f.cells[t].length;e++)null!=f.cells[t][e].field&&(f.cells[t][e].field.margins=f.cells[t][e].field.margins.clone(),0==t&&(f.cells[t][e].field.border.side=f.cells[t][e].field.border.side&~H.Left),0==e&&(f.cells[t][e].field.border.side=f.cells[t][e].field.border.side&~H.Top),t==f.cells.length-1&&(f.cells[t][e].field.border.side=f.cells[t][e].field.border.side&~H.Right),e==f.cells[t].length-1&&(f.cells[t][e].field.border.side=f.cells[t][e].field.border.side&~H.Bottom));let e=s.columns.length+(0<s.rows.length?1:0),r=(0==s.rows.length?1:s.rows.length)+(1<s.summaries.length?1:0);for(let t=e;t<f.cells[0].length;t++)for(let e=r;e<f.cells.length;e++)null!=f.cells[e][t].field&&(f.cells[e][t].field.border.side=H.Left|H.Right);if(1<f.sumFields.count)for(let e=0;e<f.cells[0].length;e++)null!=f.cells[r-1][e].field&&(f.cells[r-1][e].field.border=new U(H.All,C.lineColor,1,ui.Solid));null!=f.cells[0][0].field&&(f.cells[0][0].field.border.side=H.Right|H.Bottom)}}static async convertToCrossTab(e,t){let r=new rh,i=(r.info.zoom=1,r.reportUnit=null!=e&&null!=e.report?e.report.reportUnit:th.HundredthsOfInch,new Hu(r)),s=(r.engine=i,new me),n=(r.pages.add(s),r.dictionary.variables=e.report.dictionary.variables,new Ku);return n.name="CrossTab",n.crossTabStyle=null,n.crossTabStyleIndex=9,s.components.add(n),await this.updateCrossTab(n,e,t),s.components.remove(n),new Promise(e=>{e(n)})}static async updateCrossTab(d,c,e,t=!0){let i=new Na,s=new P,n=new P,r=new P,l="",a=new Na,o=new Na,u=(s.clear(),n.clear(),new P),h=new P,m=new Na,g=j.getPivotTableStyle(c),p=0;for(let r of c.rows){let e=new ih,t=(e.showTotal=r.showTotal,e.alias=r.expression,e.displayValue="{"+r.expression+"}",e.value=e.displayValue,L.isNullOrEmpty(l)&&0<r.expression.length&&0<=r.expression.indexOf(".")&&(l=r.expression.substring(0,r.expression.indexOf("."))),e.page=null,e.name=d.name+"_Row"+(p+1).toString(),e.page=d.page,e.horAlignment=ue.parse(X,ue.getName(V,r.horAlignment)),e.textFormat=r.textFormat.clone(),e.guid=nh.newGuidString(),e.wordWrap=r.size.wordWrap,e.margins=new ee(this.FieldMargin),e.sortDirection=r.sortDirection,e.expandExpression=r.expandExpression,0<r.size.maxWidth&&(e.maxSize=new G(d.report.unit.convertFromHInches(r.size.maxWidth),0)),0<r.size.minWidth&&(e.minSize=new G(d.report.unit.convertFromHInches(r.size.minWidth),0)),0<r.size.width&&(e.maxSize=new G(d.report.unit.convertFromHInches(r.size.width),0),e.minSize=new G(d.report.unit.convertFromHInches(r.size.width),0)),await this.getCondition(c,r,e),await this.setTopN(e,r.topN,c),this.setupTitle(e,g),a.add(r,e),d.components.contains(e)&&d.components.remove(e),d.components.add(e),m.set(e,e),u.add(e),e.total);null==t&&(t=this.createRowTotal(c,e,i,g),L.isNullOrWhiteSpace(r.totalLabel)||(t.text=r.totalLabel),e.totalGuid=t.guid,d.components.add(t)),m.set(t,t),s.add(t),p++}let S=0;for(let r of c.columns){let e=new eh,t=(e.showTotal=r.showTotal,e.alias=r.expression,e.displayValue="{"+r.expression+"}",e.value=e.displayValue,e.page=null,e.name=d.name+"_Column"+(S+1).toString(),e.page=d.page,e.horAlignment=ue.parse(X,ue.getName(V,r.horAlignment)),e.guid=nh.newGuidString(),e.wordWrap=r.size.wordWrap,e.margins=new ee(this.FieldMargin),e.sortDirection=r.sortDirection,e.expandExpression=r.expandExpression,0<r.size.minWidth&&(e.minSize=new G(d.report.unit.convertFromHInches(r.size.minWidth),0)),0<r.size.maxWidth&&(e.maxSize=new G(d.report.unit.convertFromHInches(r.size.maxWidth),0)),0<r.size.width&&(e.maxSize=new G(d.report.unit.convertFromHInches(r.size.width),0),e.minSize=new G(d.report.unit.convertFromHInches(r.size.width),0)),await this.getCondition(c,r,e),await this.setTopN(e,r.topN,c),L.isNullOrEmpty(l)&&0<r.expression.length&&0<=r.expression.indexOf(".")&&(l=r.expression.substring(0,r.expression.indexOf("."))),e.textFormat=r.textFormat.clone(),this.setupTitle(e,g),o.add(r,e),d.components.contains(e)&&d.components.remove(e),d.components.add(e),m.set(e,e),h.add(e),e.total);null==t&&(t=this.createColTotal(c,e,i,n,g),L.isNullOrWhiteSpace(r.totalLabel)||(t.text=r.totalLabel),e.totalGuid=t.guid,d.components.add(t)),m.set(t,t),n.add(t),S++}let w=1;for(let t of c.summaries){let e=new Qu;e.alias=t.expression,this.setSummaryType(e,t.expression),e.page=null,e.name=d.name+"_Sum"+w.toString(),e.page=d.page,e.horAlignment=ue.parse(X,ue.getName(V,t.horAlignment)),e.textFormat=t.textFormat.clone(),e.guid=nh.newGuidString(),await this.getCondition(c,t,e),e.font=J.Table.Font.getCachedGdiFont(),e.border=new U(H.All,g.lineColor,1,ui.Solid),e.height=J.Table.getHeight(e.font),e.hideZeros=t.hideZeros,0<t.size.minWidth&&(e.minSize=new G(d.report.unit.convertFromHInches(t.size.minWidth),0)),0<t.size.maxWidth&&(e.maxSize=new G(d.report.unit.convertFromHInches(t.size.maxWidth),0)),0<t.size.width&&(e.maxSize=new G(d.report.unit.convertFromHInches(t.size.width),0),e.minSize=new G(d.report.unit.convertFromHInches(t.size.width),0)),m.set(e,e),d.components.contains(e)&&d.components.remove(e),d.components.add(e),w++}if(c.summaries.length<2){for(let e of r)d.components.contains(e)&&d.components.remove(e);r.clear()}else if(r.length>c.summaries.length)while(r.length>c.summaries.length){let e=r[r.length-1];d.components.contains(e)&&d.components.remove(e),r.removeAt(r.length-1)}else if(r.length<c.summaries.length)while(r.length<c.summaries.length){let e=new sh;e.text=L.isNullOrEmpty(c.summaries.getByIndex(r.length).label)?(r.length+1).toString():c.summaries.getByIndex(r.length).label,e.page=null,e.name=d.name+"_SumHeader"+(r.length+1).toString(),e.page=d.page,d.applyFieldStyle(e),d.components.add(e),r.add(e)}for(let e of r)m.set(e,e);let f=1;for(let e of s)e.page=null,e.name=d.name+"_RowTotal"+(f++).toString(),e.page=d.page;let C=1;for(let e of n)e.page=null,e.name=d.name+"_ColTotal"+(C++).toString(),e.page=d.page;let y=0<c.columns.length&&0<c.rows.length,b=[],x=[],T=null,F=null,M=null;for(let t of d.components.list)if(t.is(qu)){let e=t;e.typeOfComponent.stimulsoft().startsWith("Col:")&&b.push(e),e.typeOfComponent.stimulsoft().startsWith("Row:")&&x.push(e),e.typeOfComponent.stimulsoft().startsWith("LeftTitle")&&(T=e),e.typeOfComponent.stimulsoft().startsWith("RightTitle")&&(F=e),e.typeOfComponent.stimulsoft().startsWith("SummaryTitle")&&(M=e)}if(0==c.rows.length)for(let i of h){let t="Col:"+i.name,r=!1;for(let e of b)if(e.typeOfComponent==t){b.stimulsoft().remove(e),r=!0,m.set(e,e);break}if(!r){let t="",r=new qu;r.name=i.name+"_Title",r.typeOfComponent="Col:"+i.name;for(let e of c.columns)o.get(e)==i&&(t=this.getLabel(e),r.horAlignment=X.Center,r.textFormat=e.textFormat.clone());r.text=t,this.setupField(r),this.setupTitle(r,g),d.components.add(r),m.set(r,r)}}for(let i of u){let t="Row:"+i.name,r=!1;for(let e of x){if(e.typeOfComponent!=t)continue;x.stimulsoft().remove(e),r=!0,m.set(e,e);break}if(!r){let t="",r=new qu;for(let e of c.rows)a.get(e)==i&&(t=this.getLabel(e),r.horAlignment=X.Center,r.textFormat=e.textFormat.clone());this.setupField(r),r.name=i.name+"_Title",r.text=t,r.typeOfComponent="Row:"+i.name,this.setupTitle(r,g),d.components.add(r),m.set(r,r)}}if(null==T?y&&((T=new qu).name=d.name+"_LeftTitle",this.setupField(T),null!=c.title&&(T.text=c.title.text),T.typeOfComponent="LeftTitle",this.setupTitle(T,g),d.components.add(T),m.set(T,T)):y&&m.set(T,T),null==F){if(y){let t="",r=!0;for(let e of c.columns)r||(t+=", "),t+=this.getLabel(e),r=!1;(F=new qu).name=d.name+"_RightTitle",F.text=t,F.typeOfComponent="RightTitle",this.setupField(F),this.setupTitle(F,g),d.components.add(F),m.set(F,F)}}else y&&m.set(F,F);let v=(0==c.columns.length||0==c.rows.length)&&0<c.summaries.length,D=L.join(", ",c.summaries.select(e=>e.label).stimulsoft().toArray()),A=(null==M?v&&((M=new qu).name=d.name+"_SummaryTitle",M.text=D,M.typeOfComponent="SummaryTitle",this.setupField(M),this.setupTitle(M,g),d.components.add(M),m.set(M,M)):v&&((L.isNullOrEmpty(M.text)||M.text.stimulsoft().startsWith(D)||D.stimulsoft().startsWith(M.text))&&(M.text=D),m.set(M,M)),0);while(A<d.components.count){let e=d.components.getByIndex(A);null==m.get(e)?d.components.removeAt(A):A++}let I=Se.empty;if(d.dataSourceName=l,!t)return;this.buildCross(d,e,c);for(let t of d.components.toCast())if(d.crossTabInfo.cross.fields.contains(t)){let e=d.crossTabInfo.cross.fields.get(t);d.crossTabInfo.cross.setTextOfCell(e.x,e.y,t.cellText)}d.crossTabInfo.cross.maxWidth=d.page.width,d.crossTabInfo.cross.maxHeight=d.page.height,d.crossTabInfo.cross.doAutoSize();let R=new Na;for(let t of d.components.toCast()){let e=t.as(lh);null==e||e.isTotalVisible||R.set(e.total,e.total)}let E=d.report.unit.convertFromHInches(2),k=d.report.unit.convertFromHInches(2);for(let m of d.components.toCast())if(d.crossTabInfo.cross.fields.contains(m)){let e=d.crossTabInfo.cross.fields.get(m),t=d.report.unit.convertRectangleToHInches(B.Report.CrossTab.StiCrossTabHelper.getCellRect(d,e.x,e.y)),r=(I.width=Math.max(I.width,t.right),I.height=Math.max(I.height,t.bottom),t=d.report.unit.convertRectangleFromHInches(t),null!=R.get(m)&&(t.width=0,t.height=0),0),i=0,s=m.as(qu),n=(null!=s&&(s.typeOfComponent.stimulsoft().startsWith("LeftTitle")&&(r=0,i=0),s.typeOfComponent.stimulsoft().startsWith("RightTitle")&&(r=E,i=0),s.typeOfComponent.stimulsoft().startsWith("SummaryTitle")&&(0==c.rows.length&&(r=0,i=2*k),0==c.columns.length&&(r=E,i=k)),s.typeOfComponent.stimulsoft().startsWith("Row:")&&(r=0,i=k),s.typeOfComponent.stimulsoft().startsWith("Col:")&&(r=0,i=k)),m.as(ih)),l=(null!=n&&(r=0,i=2*k),m.as(Uu)),a=(null!=l&&(r=0,i=2*k),m.as(eh)),o=(null!=a&&(r=E,i=k),m.as(Zu)),u=(null!=o&&(r=E,i=k),m.as(Qu)),h=(null!=u&&(r=E,i=2*k),m.as(sh));null!=h&&(i=d.summaryDirection==Pa.LeftToRight?(r=E,k):(r=0,2*k)),t.x+=r,t.y+=i,m.clientRectangle=t.clone()}}static async getCondition(t,r,n){let i=new P;for(let e of t.pivotTableConditions)e.keyValueMeter!=zu.getLabel(r)&&e.keyValueMeter!=r.key||i.add(e);if(null!=i&&0<i.length)for(let s of i){let e=new Ou,t=new Pu,r=(t.condition=s.condition,t.dataType=s.dataType,t.value1=s.value,Nu.getFilterExpression(t,"value2",n.report)),i=(s.dataType!=B.Report.Components.StiFilterDataType.String&&(r=`value2 == null ? False : (value2.ToString().Length > 0 ? ${r} : False)`),e.expression=r,e.permissions=s.permissions,e.permissions&=~Ga.Borders,e.backColor=s.backColor,e.font=s.font,e.textColor=s.textColor,s.iconAlignment!=bt.None&&(e.icon=await s.getIcon(),e.iconSize=s.iconSize,e.iconAlignment=s.iconAlignment==bt.Right?Xu.MiddleRight:Xu.MiddleLeft),new Bu);if(i.key=e,i.value=`{${r}}`,null==n.report.engine.parserConversionStore.get("*StiConditionExpression*"+n.name)){let e=[];n.report.engine.parserConversionStore.set("*StiConditionExpression*"+n.name,e)}n.report.engine.parserConversionStore.get("*StiConditionExpression*"+n.name).push(i),n.conditions.add(e)}}static setupTitle(e,t){e.border=new U(H.All,t.lineColor,1,ui.Solid),e.font=J.Table.Font.getCachedGdiFont(),e.height=J.Table.getHeight(e.font)}static setupField(e){e.margins.left=0,e.margins.right=0,e.guid=nh.newGuidString()}static createRowTotal(e,t,r,i){let s=t.guid,n=r.get(s);return null==n&&((n=new Uu).text=L.isNullOrEmpty(e.totalLabel)?c.get("PropertyMain","Total"):e.totalLabel,n.wordWrap=t.wordWrap,n.minSize=t.minSize,n.maxSize=t.maxSize,this.setupField(n),this.setupTitle(n,i)),r.set(s,n),n}static createColTotal(e,t,r,i,s){let n=t.guid,l=r.get(n);return null==l&&((l=new Zu).text=L.isNullOrEmpty(e.totalLabel)?c.get("PropertyMain","Total"):e.totalLabel,l.wordWrap=t.wordWrap,l.minSize=t.minSize,l.maxSize=t.maxSize,this.setupField(l),this.setupTitle(l,s)),r.set(n,l),i.add(l),l}static getLabel(e){return L.isNullOrEmpty(e.label)?e.expression.substring(e.expression.lastIndexOf(".")+1).stimulsoft().replaceAll("]","").stimulsoft().replaceAll(")",""):e.label}static getSummaryTypes(){return 0==this.summaryTypes.count&&(this.summaryTypes.add("None","None"),this.summaryTypes.add("Sum","Sum"),this.summaryTypes.add("Avg","Average"),this.summaryTypes.add("Min","Min"),this.summaryTypes.add("Max","Max"),this.summaryTypes.add("DistinctCount","CountDistinct"),this.summaryTypes.add("Count","Count"),this.summaryTypes.add("Median","Median")),this.summaryTypes}static async setTopN(t,e,r){if(t.topN=e.clone(),t.topN.mode!=yu.None){t.topN.showOthers&&(t.topN.othersText=L.isNullOrEmpty(t.topN.othersText)?c.get("FormDesigner","Others"):await rt.parseAsync(t.topN.othersText,r));for(let e of r.summaries){if(!L.isNullOrEmpty(e.label)&&e.label!=t.topN.measureField||zu.getLabel(e)!=t.topN.measureField)continue;e.label!=t.topN.measureField||L.isNullOrEmpty(e.expression)||-1==e.expression.indexOf("(")||-1==e.expression.indexOf(")")||(t.topN.measureField=e.expression.substr(e.expression.indexOf("(")+1).stimulsoft().replaceAll(")",""))}}}static setSummaryType(t,r){if(L.isNullOrEmpty(r))return;let i=this.getSummaryTypes();for(let e of i.keys)r.stimulsoft().startsWith(e)&&(t.summary="Count"!=e?ah[i.get(e)]:ah.Sum,r=r.stimulsoft().replaceAll(e.toString()+"(",""));t.value="{"+r.stimulsoft().replaceAll(")","")+"}"}}Hd.summaryTypes=new Na,Hd.FieldMargin=1.5,F.h.StiPivotTableHelper=Hd}F.v.StiProgressIteration=class{constructor(e="",t,r){this.series=e,this.value=t,this.target=r}};let dh=F.v.StiProgressIteration;{class ch extends F.i.StiElementBuilder{async render(l,a){this.storedCulture=Gr.set(l.report);try{let t=this.getValueMeterIndex(a),r=this.getTargetMeterIndex(a),i=this.getSeriesMeterIndex(a),e=this.getSeriesKeys(a,i),s=e.count2(),n=e.select(e=>new dh(this.getSeries(a,i,e,l.report),this.getValue(a,t,i,s,e),this.getNullableValue(a,r,i,s,e)));return n=ch.processVariationSort(l,n),await ch.processTopNElements(l,n)}finally{F.h.StiCultureHelper.restore(this.storedCulture)}}static processVariationSort(e,t){let r=e.userSorts;return t=null!=r&&r.any(e=>e.key==Cu.ident)?r.firstOrDefault().direction==fu.Ascending?t.orderBy(e=>0!=e.target?e.value/e.target:0):t.orderByDescending(e=>0!=e.target?e.value/e.target:0):t}static async processTopNElements(s,n){if(s.topN.mode==yu.None)return n;let l=(n=(s.topN.mode==yu.Bottom?n.orderBy(e=>e.value):n.orderByDescending(e=>e.value)).toList()).take(s.topN.count).toList();if(n.count2()>s.topN.count&&s.topN.showOthers){let e=n.skip(s.topN.count).sum(e=>v.tryToNumber(e.value)),t=n.skip(s.topN.count),r=t.all(e=>null==e.target)?null:t.sum(e=>v.tryToNullableNumber(e.target)),i=L.isNullOrEmpty(s.topN.othersText)?c.get("FormDesigner","Others"):await rt.parseAsync(s.topN.othersText,s);l.add(new dh(i,e,r))}return l}getValueMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(zi));return null!=t?e.meters.indexOf(t):-1}getTargetMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(Hi));return null!=t?e.meters.indexOf(t):-1}getSeriesMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(Xi));return null!=t?e.meters.indexOf(t):-1}}F.i.StiProgressElementBuilder=ch}F.w.StiProgressVisualCreator=class{static createProgressVisual(e,t){switch(e.mode){case Ka.DataBars:return new F.v.StiDataBarsProgressVisual(e,t);case Ka.Circle:return new F.v.StiCircleProgressVisual(e,t);case Ka.Pie:return new F.v.StiPieProgressVisual(e,t);default:throw new Nl(e.mode)}}};let ch=F.i.StiProgressElementBuilder,gh=B.Report.Dashboard.Visuals.IStiProgressVisualSvgHelper,ph=F.w.StiProgressVisualCreator;{class jc{implements(){return jc.ImplementsStiProgressVisualSvgHelper||(jc.ImplementsStiProgressVisualSvgHelper=[gh]),jc.ImplementsStiProgressVisualSvgHelper}async writeProgress(e,t,r,i){let s=new O(0,0,t.width,t.height),n=t.component,l=await jc.getDataTable(n);if(null==l)return;let a=await(new ch).render(n,l);if(n["isSampleForStyles"]?a=this.getStyleSampleIterations():this.isEmptyData(n,l)&&(a=this.getEmptyDataIterations()),null==a||!a.any())return;let o=new eu,u=new lu(o,!0,!1,!1,1),h=ph.createProgressVisual(n,a.toList());if(r&&r.needToVertScroll){let e=h.getContentRectangle(s.clone());r.needToVertScroll=e.height>s.height+5,r.needToVertScroll&&(s.width-=15,e=h.getContentRectangle(s.clone()),s=e,i.ref=B.System.Convert.toInt32(s.height))}await h.draw(u,s.clone()),e.writeStartElement("g");let m=r&&r.needToVertScroll?0:t.x+.5,d=r&&r.needToVertScroll?0:t.y+.5;e.writeAttributeString("transform",L.format("translate({0},{1})",this.p(m),this.p(d))),hu.writeGeoms(e,u,!1,!1),e.writeEndElement()}p(e){return e.toString().split(",").join(".")}isEmptyData(e,t){return null!=t&&t.isEmpty&&e.isQuerable}getStyleSampleIterations(){let e=new P,t=new dh;return t.value=75,t.target=100,e.add(t),e}getEmptyDataIterations(){let e=new P,t=new dh;return t.value=0,t.series=g.get("Dashboard","Blank"),e.add(t),e}static async getDataTable(e){var t;let r=null==(t=e.as(uu))?void 0:t.getManuallyEnteredDataTable();if(null!=r)return r;return Jn.tryToGetOrCreate(e)}}F.h.StiProgressVisualSvgHelper=jc}F.h.StiTableAlignmentHelper=class{static getHorAlign(e){let t=F.h.StiMeterHelper.toDataType(e);if(fe.isNumericType(t))return V.Right;if(fe.isDateType(t))return V.Center;return V.Left}},F.h.StiTableElementHelper=class{static minDataColumnValue(e,t,r){if(!(e.is2(Ai)||e.is2(Di)||e.is2(fi)))return 0;return t.rows.any()?t.rows.min(e=>v.tryToNumber(e[r])):0}static maxDataColumnValue(e,t,r){if(!(e.is2(Ai)||e.is2(Di)||e.is2(fi)))return 0;return t.rows.any()?t.rows.max(e=>v.tryToNumber(e[r])):0}static calculateTotal(e,r,i){switch(e.summaryType){case Rr.Sum:if(ls.isPercentOfGrandTotal(e.expression))return 1;return i.rows.any()?i.rows.sum(e=>r<e.length?v.tryToNumber(e[r]):0):0;case Rr.Count:return i.rows.any()?i.rows.count2(e=>r<e.length&&null!=e[r]):0;case Rr.Min:return i.rows.any()?i.rows.min(e=>r<e.length?v.tryToNumber(e[r]):0):0;case Rr.Max:return i.rows.any()?i.rows.max(e=>r<e.length?v.tryToNumber(e[r]):0):0;case Rr.Average:{let e=i.rows.any()?i.rows.sum(e=>r<e.length?v.tryToNumber(e[r]):0):0,t=i.rows.any()?i.rows.count2(e=>r<e.length&&null!=e[r]&&null!=e[r]):0;return 0==t?0:e/t}}return 0}},F.h.StiTitleMeasureHelper=class{static measureTitle(e){return this.measureTitle2(e,e.text)}static measureTitle2(e,t){return this.measureTitle3(null,null,e,t)}static measureTitle3(e,t,r,i){var s;if(null==r||!r.visible)return G.empty;let n=ja.yy(30),l=null!=(s=null==t?void 0:t.width)?s:O.empty.width;if(L.isNullOrWhiteSpace(i))return new G(l,n);let a=F.h.StiAutoSizeTextHelper.measure(e,i,r.font);return n=Math.max(n,a.height),null!=t&&(n=Math.min(n,t.height)),new G(a.width,n)}static measureTitle4(e,t,r,i){let s=ja.yy(30);if(L.isNullOrWhiteSpace(i))return new G(t.width,s);let n=F.h.StiAutoSizeTextHelper.measure(e,i,r);return s=Math.max(s,n.height),null!=t&&(s=Math.min(s,t.height)),new G(n.width,s)}};{class Jc{static loadReport(e,t){switch(t){case"Financial":e.loadPacked(this.financial);break;case"Orders":e.loadPacked(this.orders);break;case"SalesOverview":e.loadPacked(this.salesOverview);break;case"TicketsStatistics":e.loadPacked(this.ticketsStatistics);break;case"TrafficAnalytics":e.loadPacked(this.trafficAnalytics);break;case"VehicleProduction":e.loadPacked(this.vehicleProduction);break;case"WebsiteAnalytics":e.loadPacked(this.websiteAnalytics);break}}}Jc.financial="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",Jc.orders="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",Jc.salesOverview="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",Jc.ticketsStatistics="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",Jc.trafficAnalytics="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",Jc.vehicleProduction="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",Jc.websiteAnalytics="H4sIAAAAAAAEAO1c6W/jOLL/vsD+D0YvHjCD9LRJiuIxg/fBiXO4czmxkzjBAA2ejhJZcku2cwzmf1/KVywfitPO9Jvd15npxBaLJVap6seqIqk//vmPUunDuenGSe/SJGkQRx9+LX1AAMFP+JP3CXz4OEOx3w901uxD7nNfSEy1xRZqLhTTklIAGceS+7lOJ6Jjsk5XRqZBz1QiET71ApXmiCphINIZqtIKsn7vNk4yukYv6PTDNLa9HMFOYkTPDAdZrrpPP0Hfo4wS6GMAwBbwAPi5nO9xK6J2rgfxCPa56wIBzffYjdpBZGb0NL6Axu07IlT9UPRc63Gsh1LXop5JuonpDa/m7nwRBb0Ribo1EznriRkE5qFher0gamcqQW4cjHM4aq+K9FbGItGXjsokOTo8HkU/7PWT4d1N9MtFY8y5oZKgO7xhP3VdSo2ntGc6v/2e/B7NXvhUTcSD+7rYcBVEOn5IP+3FSSdd0k/0xOzV6QP6tBNHvSQO0+Wt2yI1y276QjFSV1Hbp2ogwri94g5jmp24040jE/VGZNm/yNlm2hXKlEY0aXbxj+xXyf10+zIMVEmFIk1L8+Zb+nXJLdyV0acJiymvGX7znH76eUKQo85+erdB+qnm7MSJFzybqQQ//fzbLOmfE3kmF/6VmLYzt9J0PKWqSYN2ZJJS27jfmY+UlDPR0i8lHZeiuFfqxDqwT0NGvd97/zKR3oTHdFTDX1OztyYxkTK6kqam45RhMsP9I2t0zWDo12NjCsNRJ3cdzl4f2UmuHc2052w0R+XNcnGmmmvEM42tTphr8/NwM7XmHBGZIxoZ9QwBnSOY2K0jySj+HHt3oDKYEMnTjF7OTRr3EzWrq7G2pt/c9wnMijxwjlun+Lq8+dBkN/wAgIM9gRWUHGAJfM6xNhII6CuOIae5Ps2n7vCGO+kgd73WEe1hw9NBZWfr5qz12N0i9fNjdnp1fkfJ0fkWudmh3fNyc1C7O2wfdyrtB6GSU35ebh0hcdNssYPzm95DFwWsdntvDg5R47im0kY5ulcHF8cncB/syfaZbrCH+unlbjdqBQcY9itmZz+5vfxcbXtb/Cs+bN152wfN4/v7B71/ZdN6cltvtLbY1cNzeiAr1/ySy+vDZ/r4vIsa+wP70HBAW06vD46PzXXtfvf6zOuA4wf6cOZXBpcSooEcyGYizsXxaesSnMiLrZ3mRZ/Xk3p8ewlvqkfVnb26unzu40ua3qSfk9bX2mU/uUL4aJdvbbOvWNnkVif391V9deL3BvCwVz8lRwe7Vb1jq0/PA9yTW97zdnXH3F03tspNm8K+bd+dpN5Zm+9h3aw/peXBZevr1WnbI4Y81bV3nX69DQb33sF14/S+3WfpJcXxNZW1i/PeWfdwOxw843Y7hM2zdJCEpxTfM9kT9LBZtg3bvkjK7f3DbllWrvTe9dfHJ1m+GHhx2jjust0Tf5v0P7OubF3FNDm+iqqf44o83Pos0bVoXO3FHfBwE1bDo93+ThXUrq4+A3rQ38ZsZ/txj/Zu0GMfp42Ds2b99OKgxe7vTb9lie3x3fvw5rl/6z2ct8OnsyisA9HdUgOzXX/QNel324/73ebR2VHt/jGRx5eDm7Kp9I9bCp+3yxW1P0h3Dis7hO9IVUGtWrc8uIAnJ3f77RY+7jxH/v5553N6oq/2+09n+qTV1cfhaaVz5N8hIeTT7leHojcnSjxeRBzi+PnzZ/9U1+66Zz3QrPfhUdA97raCznP1LqzZU8mv785b4OEM1WsBewTVk/5N4+FuG7fvrO3fBWEaseCq5h1Vmv0KPqzy2m4VeLcPX7fOcLy9X97e6ogb3TBXSYdbfFQ7emS8W9F1r8+qN7dHtnyy1/L2rp8E+toqNy+3moPGdfuZDlqqr/CZZ/YMvqnf9so2bd1dXpTP2nWdXkSNLm9/fjhIK/D8VJ3eVnR159hP65Ha6p+IwSC6qOyH/c+6edSuCf8Gh6CVDrQizZPTgX5IO3q/fU4PtvR+2BIX2qSnh80D/+bxcz/df7ioX19fXPOwjcgAqa6Iqs+1i4PweKeSPB99PVXtcuQ1D/h++T6ILurh6d7jZbmCBk9n3Wp4Jjvneydg/+7i8ZGhu6uOsi1zvbe/d3S7u1WuOOMTuDPoNDr39d79/36YgMafow9/TrAyg+fGGpBX024qHONq1qcpZGhGHXOI9B7QKCjGWGpgkKHY40QSaJCiylqGIJEw12cnDvudKM0Pd1GA3OCO3bRyO8tlJGKkzaNr/gXOt2T9atFY2pX9p8Itb55g+Hjqa/QSN7kuUI1VoDQGmjPGpYcwp5Zxz7eCCouZRVbxD7Pd/swxGc7hqyS/Mua+Vt1A9BUMZnKKpe1zwrtI3UOrZNcWUYIwM0a5rAcj4XIEj0qJALPCuGEUyI5ekX1DyYvl3uyRY4KAdv8rTyjsCyAE9pXxJZBQufiAFontFYidJVobiL20+1Tspa1zYmc0zaCzSDcWXFLLKbGeSwEF5k50zbEntZNaUKAUKRIcFwh+kbrkcQPJl/efir68eV722OUhKyX3feMDRbXBlmDKDMfAtxArn1IuBRFFkvsFkp+Yhy+bSr+ax1QDq0nepAUjfUsYgwgxjTnxBLUWAsy08Rhx/l+kBVKghXPjUvPIedyXy8AlgfFG6liD2VQva9C+SUECSujgUBAPIUykYQgjRiXBPvXdzFCIDLRAQQ2TZsWVTdSyksVUGSsp3mYjWArOrMex9bEVinmca+FiTOJbzWihp7AiT+l3pEm+xPbLZJxfuu57ZtWb+M4buL540xs6vc18iKUehxT6nsIWckaUhZRQaj1iWfF8ygt0V3e5Z1Y/20BRK1lMtbKS4k0qkNI41zGQCo2xVkpYAz3KBXQGJTAoVAEsiiSz4X35MnliG2qigFFOHwV0b9OKi6kJgJC4yQcLCJkFCCHDPMCBoQIUaqUoyqwM2tMhfqn2k5l67DcpZz1+Ux2tR/4mVSErhAZSAWYsRg55qKcR8aklUmmvGH9gUVC6HfcjZb6cbxakFXGZqqWI6E3KwAa5GNUFqwr6mEPGsoyEuYAFc+F+67wyXr7M6mVBhGlG+OklNyxKWqVI35Cy7qSDSad3T1cN4lC74IUqjVzsxqRGvg+FthZ5ysBcnuP8t3ebjSTrmIyLjb+Wy6tlzv6MK5aZ788XcV/Ez2fo45WLl3vP5APjtuWLREPayeITJxBiT3vQYosBoYL4miFjqVCI+4zNdHltVWlItJ3009uMKI3DQP860/KyYDD3FBfQN/9cb0XS2w1NJ7uUd7uJvEOSuWRzKiCTVFsBmMuwISYuxCCEuOenDGDSo1TPddsJA3ejc6N6ImqHQ/aMgY8YgI8eAh8RAHMdtuNEm+Ei2m/uZ66xEvaWMAQfh/8t0jaDXmiyiFIOCa0IU5MnuhRh3yyUQpYXQ2YVOew31NOx6S2GGy+m7uZPgQRSPnd24aJ2yannpg9BgOTW5WtLeu4+dpPxZJU9sn7npxdPHyYPPy/pdCSkCVcmWaUsqkwCk05Qqx7kZ/B5CF5eFPkmDbhgkymfOJuRLhanRnBNrLMWbDzAuKZv1MA0hSrUgqMqfbMmCmamKRQMV07FcD1kifVMtTRU0MKscBodxIORkTdu44dmHIfNoLuEzBm7uh9O0N1u+LQXhEs0/eHASZKEQXRfNWkviMR4TJkOmkIumd3C+CHTTSNOstXZiWMUSD30oyViNs1jgZRzjlfA/1hEfRGGT7uZUo2esaoC1b5igBPz4whiN+26mdYhs4NgB14KGx9oN9toTArrgpWk3c9wMluvE72iwThgHWUjI1JnYoNALYYDJ6btHs/AuDnNDTl7SguBStWooCPCatAOhsgO5gn2k7jfbZiucFHaaLfBx4X7NHpZyPLrHLePpYqU2Qr+yEQKBB/q9v+d1JXEiCXi7ieBPgoikx7ESwwyZ+i9pG/yzUVgMkSrZZNPPXbxwNiLd0zmFGsFiAuIPb8GYeoOTkxSPPu/0MEVIQCmEmAfMOBjjBEHzEMuQ1RUY8axy4deDwGy+RqhLAx4n9kfsyW8GiY0ana3S6Xfi8+z/TQfllj7enjzopxC0NEAY0MVNJpjTCwTDPkkqyQQRoCweKFffsZ7me2WVouns9ywtQi3HT6v5cUZo7wPr2NvC1lajudRkPa248diYxsTrbI0H/lYEMGUQBhDFy8YCFwaCTjTRlA0/yCXWgcemRqbNw/n0vfDnVWZ076DFWb3cf8goYsdXg9E6yJxLCfp4tscbMHQj/thL1ii8VdtPCMaP5JC+3ZD8wxzsRwgCPtSCsGwEp6lPlfO5hdNdpV9L1/4mxr4qLnAwt14XhXK0awjE+TQZZ/aZW06qx37QinoYYQtAe4TYd9NpteireX8i6KtFf67sAb2zf67Kln0jQeFy4Y9Jgg2wBOIQSG5chDoKeuzdfwXopEDo7/YgzPnfUcffiN0NRMRpdZBcGXoyeunpJM85tx0Q7EYfI0LKKMyw+KC6zTWS+JORrMXJOlCJD8hasZTktIKZhXrPGwYq7nMYly1WRIUrZdrvrNocT9Z9Js52YY07yzckmLmuwt3JF57bBnFOwu2ZA393QVrGBVHuli0Ec07C7dknfzdhWveBskrsg1JNhStYK75/qEDUyzbpSI0dLOrEZZp4GZGZKiWEkp/sV6xappdun9kOssOW79P4AAQ05JrRjnkGErOKJWMSWGAwdRfUoEpkmjJTqCcTCVHsEHssFRp3xA6LHhHLnSoRTpQWZ5eHDxMyVaF/1z53ChOPe7iYReLcWmtogJ5mFHMPG+98H8UPsD3qTQjMAkR5tm9tTQ4lf4dyoMncbQYc3+HuuC6+eU7VYm+W+nr1TrA9OEVIoOnAJYaay4gwEJwxonGBHLrGe77xL6CDOuU/ucL/xtgw6sM9uKRBn6D3oK/1NRozMciuoo7YlbFOeBY2IS1EXCsyjsQt1ZQADgfbl/IHgDUgPoEEJ8RvAZwjKpT7wgdGWj8AI+ZLj/Aoxg8CGUKW5cta2kw59kiqyYKKGU9SCBTbwKP1atmy9bMNgCRtZisCSSrMGRhC+NGGDIPBhMMoVAjDg2y2V5CaiGzvsVU+hBR6wLWNRa6MX738MMjPxBk2uUHgrwSfmjsc9/Dvi8ZdumWBIxZirKiFLQALh4nKEKQyRbLAgCZblzdAD/W4bEOfLjnkByI0K7CkIVdvhthCF6BIZZIl9gyi41LYJjPJJa+hi7y41wTzdZYKcuww3/vOOQHisx0+c9Bke+FG1gZprmGCro0GyLLkUHSw4Jp7FnPW9ixM4cblUF7Bjfy228L0CMjLJVLk326G2BIntPmUPK1LxKDViHJwmb5jZDEX4Ek0nOPQlkXeUCCjWECaiJcPOhpYn1k1HrRyLsiiWOHfuDItMsPHJkST45RWE9BTFwMgrLCKGCAcJ9k51IUQpy8Fn/kcWTpFvUCOHH0nyYQUJpuad8AVd7McB1sOXPQ4jQ4/rMKYhbOlGwEMWRVsEIZUlBqIK3F3AdCKeFpRn3lwhc8v2llGcQQ8hcEKz9AZqbL2iBTN4ly39xM+FagWdh69xfuzVsgG+18KxxO46kj46GL/8/3AjJnetkpWyEZhdhyJRmRPpWEICaVv+Rc9qoVnpkDJS5AWXCRWfwakZbOX9vi9Qpqrclm3ZTqFaBaPPm1EVLN78KYIJUCnFFNNRbSx1ZjiSyWDBIEPAWUv8a2sAyp3rk0Q9gPnJp2+REMTYkn+4Ek1C4Ssghwgl0ixbK/BkgJDdCIv1bOzQdDBSdfiwq8w16l2E5To5LrNSzXblTy/Ta2echZBSjFe5rfCijzG84mgAKZNB4HyjJiMfWJgFR7KDvh6QJXs86hpr8g8PkBKDNd/nMA5f+m1su0NcQZLpKKYmI9Bi2GhGkpCQTkjbXeyRHyV6o1w1PmGwDHOjzWCUxccOOMaGWBZvE08TcdiFy1ScXlS1AYIj2PcYyFz6zhTBMkspeTCLrmWjP4yEfHIt8jFGF4dCQCLZyJ+HscilRUeYz51kGmwVpYwQHxfWQt1NlCxcLxiFfM9b0ORQ7P/+Rp/rJTkVYrDxKBLVAEQ+kJLRjINvhjyigQ8I0qeO9TkeuoYvm+1m84IJq9pteZgnMDjS1D3NmC76wDuJnY1/M7pV9VxeK7ZAp1MiUvrXr1zFrKKYCwySnCb/CoSdd11Ag0hJr4CBCpsdIuSYVcCIWcShXV6HWnKj51VCo6d/Rfd2h2g1nt73wYVlImPEoN0h43TDCXMwstjaaYW2Vt4Yuj3nQYdn/4Dt6w4EzZkinnv+TAaZGcrcpjsAwHVhhVseEUe93197vV3/Lg7DBRyTGZiQ8nH18Y5yItlAVbv41eubEdCjWzZ3oYdLmg1FlkJQzaUWdqmonpqdtWnrIRPI8W31iWGLLJC4JG7yj55z/+/Df1QiAX4l4AAA==",F.d.StiWizardDashboardsHelper=Jc}F.l.StiDashboardImages=class{};{class Wc{constructor(){this.name="",this.expression=""}clone(){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new l("Name"),new l("Expression")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static loadFromJson(e){let t=new Wc;return t.loadFromJsonObject(e),t}static loadFromXml(e){let t=new Wc;return t.loadFromXml(e),t}saveToString(){return this.saveToJsonObject(be.Report).serialize()}getStringRepresentation(){if(L.isNullOrWhiteSpace(this.name))return c.get("FormStyleDesigner","NotSpecified");return L.isNullOrWhiteSpace(this.expression)?this.name:this.name+` - `+this.expression}isDefault(){return L.isNullOrEmpty(this.name)&&L.isNullOrEmpty(this.expression)}}F.g.StiDashboardDrillDownParameter=Wc}F.x.StiDashboardDrillDownParameterConverter=class{},F.x.StiDashboardInteractionConverter=class{},F.x.StiDashboardInteractionCreator=class{static new2(e){switch(e){case"Chart":return new F.g.StiChartDashboardInteraction;case"Table":return new F.g.StiTableDashboardInteraction;case"TableColumn":return new F.g.StiTableColumnDashboardInteraction;case"RegionMap":return new F.g.StiRegionMapDashboardInteraction;case"Text":return new F.g.StiTextDashboardInteraction;case"Image":return new F.g.StiImageDashboardInteraction;case"Gauge":return new F.g.StiGaugeDashboardInteraction;case"Indicator":return new F.g.StiIndicatorDashboardInteraction;case"Progress":return new F.g.StiProgressDashboardInteraction;case"OnlineMap":return new F.g.StiOnlineMapDashboardInteraction;case"PivotTable":return new F.g.StiPivotTableDashboardInteraction;default:throw new Nl(e)}}},F.x.StiDashboardInteractionJsonConverter=class{},F.x.StiTableDashboardInteractionConverter=class extends F.x.StiDashboardInteractionConverter{};let Sh=F.E.StiButtonElement,wh=F.X.StiShapeElement,fh=F.R.StiComboBoxElement,Ch=F.P.StiListBoxElement,yh=F.I.StiTreeViewBoxElement,bh=F.J.StiTreeViewElement,xh=F.Q.StiDatePickerElement,Th=F.V.StiTextElement,Fh=F.K.StiTableElement,Mh=F.F.StiCardsElement,vh=F.M.StiProgressElement,Dh=F.O.StiOnlineMapElement,Ah=F.L.StiRegionMapElement,Ih=F.W.StiImageElement,Rh=F.S.StiGaugeElement,Eh=F.H.StiChartElement,kh=F.e.StiDashboard;{class Uc{}F.m.StiDashboardOptions=Uc,F.m.Services=class{static get elements(){return null==this._elements&&(this._elements=[kh,Sh,Mh,Rh,Ih,vu,Ah,Dh,Ze,_u,vh,Fh,Th,wh,fh,Ch,yh,bh,xh],B.Report.Chart.StiChartAssembly.isAssemblyLoaded&&this._elements.push(Eh)),this._elements}}}{class Kc{static fetchAll(){return F.m.Services.elements}static load(){B["StiOptions"].Services.components.addRange(this.fetchAll())}}(F.m.StiDashboardElementsLoader=Kc).load()}let Lh=B.Report.Chart.IStiColumnShape3D,Vh=B.Report.Chart.IStiClusteredColumnArea3D,Bh=B.Report.Chart.IStiAxisArea3D,Nh=B.Report.Chart.StiPie3dSeries,Ph=B.Report.Chart.StiClusteredBarArea,Oh=B.Report.Chart.StiAxisArea,zh=B.Report.Chart.StiConstantLines_StiOrientation,Hh=F.H.StiLegendVisibility,Xh=B.Report.Chart.StiPieSeries,Gh=B.Report.Chart.StiRadarArea,jh=B.Report.Chart.StiMarker,Jh=B.Report.Chart.IStiGanttArea,Wh=F.H.StiChartLabelsStyle,Uh=B.Report.Chart.IStiPieSeriesLabels,Kh=B.Report.Chart.IStiOutsidePieLabels,qh=B.Report.Chart.IStiCenterPieLabels,Yh=B.Report.Chart.IStiYRightAxis,Zh=F.H.StiXChartAxisTitle,Qh=B.Report.Chart.IStiClusteredBarArea,_h=B.Report.Chart.IStiAllowApplyBrushNegative,$h=B.Report.Chart.IStiAllowApplyColorNegative,em=B.Report.Chart.IStiSeriesLabels,tm=B.Report.Chart.IStiDoughnutSeries,rm=B.Report.Chart.IStiPictorialSeries,im=B.Report.Chart.IStiParetoSeries,sm=B.Base.Helpers.StiValueComparer,nm=B.Report.Components.TextFormats.StiCustomFormatService,lm=B.Report.Chart.IStiPieSeries,am=F.H.StiYChartAxis,om=F.H.StiXChartAxis,um=B.Report.Chart.IStiAxisArea,hm=B.Report.Chart.IStiStackedBaseLineSeries,mm=B.Report.Chart.IStiBaseLineSeries,dm=B.Report.Chart.IStiFunnelSeries,cm=B.Report.Chart.StiBoxAndWhiskerHelper,gm=B.Report.Chart.StiShowSeriesLabels,pm=B.Report.Chart.IStiShowZerosSeries,Sm=B.Report.Chart.StiShowEmptyCellsAs,wm=B.Report.Chart.StiChartHelper,fm=B.Report.Chart.IStiFontIconsSeries,Cm=B.Report.Chart.IStiRoundValuesArea,ym=B.Report.Chart.StiScatterSeries,bm=B.Report.Chart.IStiScatterArea;{class y extends F.i.StiElementBuilder{async render(r,i){this.storedCulture=Gr.set(r.report);try{let e=new B.Report.Components["StiChart"];if(e.horSpacing=6,e.vertSpacing=6,e.isDashboard=!0,e.page=r.page,e.previousAnimations=r.previousAnimations,y.setStyle(r,e),e.series.clear(),null==i)return e;await this.renderElements(r,e,i),await this.renderArea(r,e),await this.renderLegend(r,e),await this.renderSeriesLabels(r,e),await y.renderConstantLines(r,e),this.simplifyValues(e),e.applyStyle(),e.allowApplyStyle=!1;let t=ul.getBackColor(r,r.backColor);return N.transparent.equals(t)||(e.brush=new M(t)),e}finally{F.h.StiCultureHelper.restore(this.storedCulture)}}async renderElements(o,u,h){let m=null==u?void 0:u.report,d=this.getSeriesMeterIndex(h),e=this.getSeriesKeyValues(h,d),c=this.getArgumentMeterIndexes(h),g=this.getArgumentKeys(o,h).toList(),r=this.getValueMeters(h),p=e.count2();for(let a of e){let t=0;for(let e of r){let r=this.getValueMeterIndexes(h)[t],s=this.renderSeries(o,e,this.toReadableString(a,m),u);if(null==s)continue;await y.renderConditions(this.toString(a),s,o,e),y.renderTrendLines(s,o,e);let i=-1!=d&&1<p?h.rows.whereArrayItemStringEqualsTo(d,this.toString(a)):h.rows,n=(s.values=P.create(Number,g.length),0);for(let e of g){let t=y.getDetailRows(i,e,c);if(n<s.values.length){let e=P.getValueOrFirstOrDefault(t.getArrayItem(r).firstOrDefault());if(null!=e&&e.stimulsoft().is(w)){s.core.isDateTimeValues=!0;let e=u.area.as(Oh);e&&(e.xAxis.startFromZero=!1)}s.values[n]=t.getArrayItem(r).firstOrDefaultAsNullableNumber()}n++}s.originalArguments=g.stimulsoft().toArray(),s.arguments=this.proccessSelectArguments(g,o,s,m);let l=s.as(dm);if(null!=l){let e=s.values,t=s.arguments;un.sort3(e,t),un.reverse(e),un.reverse(t),l.values=e,l.arguments=t}else if(s.is(im)){let r=new P,i=new P;for(let t=0;t<s.values.length;t++){let e=s.values[t];if(!(0<e))continue;r.add(e),null!=s.arguments&&t<s.arguments.length?i.add(s.arguments[t]):i.add(t+1)}let e=r.stimulsoft().toArray(),t=i.stimulsoft().toArray();un.sort3(e,t),un.reverse(e),un.reverse(t),s.valuesStart=null,s.values=e,s.arguments=t}t++,await y.processTopNElements(o,s),B.Report.Chart["StiHistogramHelper"].checkValuesAndArguments(s,o.argumentFormat),await this.renderSeriesInteraction(s,o,g.length,this.toString(a))}}cm.checkArgument(u),wm.checkWaterfallTotals(u)}proccessSelectArguments(e,t,s,r){let i=s.as(ym);if(null!=i){let i=[];for(let r=0;r<s.originalArguments.length;r++){let e=s.originalArguments[r],t=null!=e&&0<e.length?e[0]:e;i.push(t)}return i}return e.select(e=>this.getString(t.argumentFormat,e,r)).stimulsoft().toArray()}static async processTopNElements(r,s){if(r.topN.mode==yu.None)return;let n=new P,e=(s.values.length>s.arguments.length?s.values:s.arguments).length;for(let i=0;i<e;i++){let e=i<s.values.length?s.values[i]:null,t=i<s.arguments.length?s.arguments[i]:null,r=i<s.originalArguments.length?s.originalArguments[i]:null;n.add({key:t,key1:r,value:e})}let i=(n=r.topN.mode==yu.Bottom?n.orderBy(e=>e.value):n.orderByDescending(e=>e.value)).take(r.topN.count);if(n.length>r.topN.count&&r.topN.showOthers){let e=n.skip(r.topN.count).sum(e=>v.tryToNumber(e.value)),t=L.isNullOrEmpty(r.topN.othersText)?c.get("FormDesigner","Others"):await rt.parseAsync(r.topN.othersText,r);i.add({key:t,key1:t,value:e})}r.isBarChart&&i.reverse(),s.originalArguments=i.select(e=>e.key1).stimulsoft().toArray(),s.arguments=i.select(e=>e.key).stimulsoft().toArray(),s.values=i.select(e=>v.tryToNullableNumber(e.value)).stimulsoft().toArray()}static setStyle(e,t){if(e.style!=u.Custom)return void(t.style=j.getChartStyle(e));let r=e.report.styles.getCustomChartStyle(e.customStyleName);if(null!=r)return t.style=r,void(t.customStyleName=e.customStyleName);t.style=j.getChartStyle2(u.Blue)}static getDetailRows(e,r,i){if(!i.any())return e;return e.where(t=>{let e=i.select(e=>t[e]).stimulsoft().toArray();return sm.equalValues(e,r)})}renderSeries(e,t,r,i){let s=t,n=mn.neww2(t.seriesType);return y.renderSeriesYAxis(e,s,n),y.renderSeriesLine(s,n),y.renderSeriesShowZeros(s,n),y.renderSeriesShowNulls(s,n),n.coreTitle=this.getSeriesTitle(e,r,t),n.core.seriesColors=null!=e.seriesColors&&0<e.seriesColors.length?e.seriesColors:null,n.isDashboard=!0,this.renderSeriesNegativeColor(e,n,i.series.count),this.renderSeriesParetoColor(e,n,i.series.count),this.renderMarker(e,n),y.renderSeriesLighting(n),y.renderSeriesIcon(e,n),y.renderSeriesPie3d(e,n),n.is(Lh)&&(n.columnShape=e.columnShape),i.series.add(n),n}static renderSeriesPie3d(e,t){var r;t.is(Nh)&&null!=(r=e.options3D)&&r.stimulsoft().is(nn)&&(t.options3D=e.options3D.stimulsoft().as(nn))}static renderSeriesYAxis(e,t,r){t.is(cs)&&1<e.values.length&&(r.yAxis=t.yAxis)}static renderSeriesLine(r,i){if(null!=r){let e=i.as(mm);if(null!=e)return e.lineStyle=r.lineStyle,void(e.lineWidth=r.lineWidth);let t=i.as(hm);null!=t&&(t.lineStyle=r.lineStyle,t.lineWidth=r.lineWidth)}}static renderSeriesShowZeros(e,t){let r=t.as(pm);if(null==r)return;r.showZeros=e.showZeros==tt.Zero;let i=t.as(mm);if(null==i)return;e.showZeros==tt.Gap&&(i.showZerosAs=Sm.Gap),e.showZeros==tt.ConnectPointsWithLine&&(i.showZerosAs=Sm.ConnectPointsWithLine)}static renderSeriesShowNulls(e,t){let r=t.as(Rn);if(null==r)return;r.showNulls=e.showNulls==tt.Zero;let i=t.as(mm);if(null==i)return;e.showNulls==tt.Gap&&(i.showNullsAs=Sm.Gap),e.showNulls==tt.ConnectPointsWithLine&&(i.showNullsAs=Sm.ConnectPointsWithLine)}static renderSeriesLighting(e){e.is(lm)&&(e.lighting=!1),e.is(tm)&&(e.lighting=!1)}static renderSeriesIcon(e,t){let r=t.as(fm);null!=r&&(t.is(rm)&&null==e.icon?r.icon=B.Report.Helpers.StiFontIcons.QuarterFull:r.icon=e.icon)}renderMarker(e,t){let r,i=null!=t?t.as(mm):null,s=null!=t?t.as(hm):null;null!=i?r=null!=i.marker?i.marker.as(jh):null:null!=s&&(r=null!=s.marker?s.marker.as(jh):null),null!=r&&(r.size=e.marker.size,r.angle=e.marker.angle,r.type=e.marker.type,r.extendedVisible=e.marker.visible)}renderSeriesNegativeColor(e,t,r){if(null==e.negativeSeriesColors||e.negativeSeriesColors.length<=0)return;while(r>=e.negativeSeriesColors.length)r-=e.negativeSeriesColors.length;let i=t.as(_h),s=(null!=i&&(i.allowApplyBrushNegative=!0,i.brushNegative=new M(e.negativeSeriesColors[r])),t.as($h));null!=s&&(s.allowApplyColorNegative=!0,s.lineColorNegative=e.negativeSeriesColors[r])}renderSeriesParetoColor(e,t,r){if(null==e.paretoSeriesColors||e.paretoSeriesColors.length<=0)return;while(r>=e.paretoSeriesColors.length)r-=e.paretoSeriesColors.length;let i=t.as(im);null!=i&&(i.allowApplyLineColor=!0,i.lineColor=e.paretoSeriesColors[r])}async renderArea(e,t){let r=ul.getBackColor(e,e.backColor);N.transparent.equals(r)||(t.area.brush=255==r.a?new M(r):new Ne),(e.isPieChart||e.isPie3dChart||e.isDoughnutChart||e.isFunnelChart||e.isSunburstChart||e.isPictorialStackedChart)&&(t.area.allowApplyStyle=!1,t.area.borderColor=N.transparent),t.area.colorEach=y.getColorEach(e),t.area.is(Cm)&&(t.area.as(Cm).roundValues=e.roundValues),await this.renderAxisAxes3d(e,t),await this.renderAxisAxes(e,t),y.renderRadarAxis(e,t)}static getColorEach(e){return!!(e.isPieChart||e.isPie3dChart||e.isDoughnutChart||e.isPictorialStackedChart)||null!=e.area&&e.area.colorEach}async renderAxisAxes3d(e,t){if(t.series.count<=0)return;let r=t.area.as(Vh);null!=r&&(r.sideBySide=e.area.sideBySide),await this.renderXAxis3D(e,t),await this.renderYAxis3D(e,t)}async renderAxisAxes(e,t){if(t.series.count<=0)return;let r=t.area.as(um);if(null==r)return;r.allowApplyStyle=!1,r.borderColor=N.transparent,y.renderInterlacingHor(e,r),y.renderInterlacingVert(e,r),y.renderGridLinesHor(e,r),y.renderGridLinesVert(e,r),r.reverseHor=e.area.reverseHor,r.reverseVert=e.area.reverseVert,await this.renderXAxis(e,t,!1),await this.renderYAxis(e,t,!1),e.xTopAxis.visible&&await this.renderXAxis(e,t,!0),e.yRightAxis.visible?await this.renderYAxis(e,t,!0):await y.renderYRightAxis(e,t)}static renderInterlacingHor(e,t){e.area.interlacingHor.visible&&!N.transparent.equals(e.area.interlacingHor.color)&&(t.interlacingHor.interlacedBrush=new M(e.area.interlacingHor.color)),t.interlacingHor.visible=e.area.interlacingHor.visible}static renderInterlacingVert(e,t){e.area.interlacingVert.visible&&!N.transparent.equals(e.area.interlacingVert.color)&&(t.interlacingVert.interlacedBrush=new M(e.area.interlacingVert.color)),t.interlacingVert.visible=e.area.interlacingVert.visible}static renderGridLinesHor(e,t){e.area.gridLinesHor.visible&&!N.transparent.equals(e.area.gridLinesHor.color)&&(t.gridLinesHor.color=e.area.gridLinesHor.color),t.gridLinesHor.visible=e.area.gridLinesHor.visible,t.gridLinesHor.style=ui.Solid}static renderGridLinesVert(e,t){e.area.gridLinesVert.visible&&!N.transparent.equals(e.area.gridLinesVert.color)&&(t.gridLinesVert.color=e.area.gridLinesVert.color),t.gridLinesVert.visible=e.area.gridLinesVert.visible,t.gridLinesVert.style=ui.Solid}async renderXAxis3D(e,t){let r=t.area.as(Bh);if(null==r)return;let i=r.xAxis,s=e.xAxis;await y.renderAxis3D(e,i,s),i.visible=s.visible,s.showEdgeValues==Ys.Auto&&(i.showEdgeValues=!1)}async renderYAxis3D(e,t){let r=t.area.as(Bh);if(null==r)return;let i=r.yAxis,s=e.yAxis;await y.renderAxis3D(e,i,s),i.visible=s.visible,null!=e.valueFormat&&(i.labels.formatService=y.checkValueFormat(e.valueFormat,t))}async renderXAxis(e,t,r){let i=t.area.as(um);if(null==i)return;let s=r?i.xTopAxis:i.xAxis,n=r?e.xTopAxis:e.xAxis,l=t.area.is(Qh),a=cn.isDrillAvailable(e)&&e.drillDownCurrentLevel<e.drillDownLevelCount?e.arguments.getRange(e.drillDownCurrentLevel,1):e.arguments,o=(l?e.values:a).select(this.getTitle).distinct(),u=(await y.renderAxis(e,s,n),s.ticks.visible=o.any(),s.visible=n.visible,await y.renderXAxisTitleText(e,s,n,o),t.series.toList().cast().all(e=>e.is(mm)||e.is(hm))),h=(n.startFromZero==Ys.Auto&&(s.startFromZero=!u),t.series.toList().cast().all(e=>e.core.isDateTimeValues));h&&i.is(Ph)&&(s.startFromZero=!1),n.showEdgeValues==Ys.Auto&&(s.showEdgeValues=u),s.labels.placement==Ls.AutoRotation&&(s.labels.textAlignment=V.Left),null!=e.valueFormat&&i.is(Qh)&&(s.labels.formatService=y.checkValueFormat(e.valueFormat,t)),null!=e.argumentFormat&&i.is(bm)&&(s.labels.formatService=e.argumentFormat),y.renderAxisLineColor(e,s)}async renderYAxis(e,t,r){let i=t.area.as(um);if(null==i)return;let s=r?i.yRightAxis:i.yAxis,n=r?e.yRightAxis:e.yAxis,l=t.area.is(Jh)||t.area.is(Qh),a=(l&&e.dataMode!=ln.ManuallyEnteringData?e.arguments:e.chartValuesList()).select(this.getTitle).distinct(),o=(await y.renderAxis(e,s,n),s.visible=a.any()&&n.visible,await y.renderYAxisTitleText(e,s,n,a),null==e.valueFormat||i.is(Qh)||(s.labels.formatService=y.checkValueFormat(e.valueFormat,t)),t.series.toList().cast().all(e=>e.core.isDateTimeValues));o&&(i.yAxis.startFromZero=!1),y.renderAxisLineColor(e,s)}static renderXRadarAxis(e,t){let r=t.area.as(Gh);if(null==r)return;this.renderXRadarAxisLabels(e.area.xAxis.labels,r.xAxis.labels),this.renderAxisRange(r.xAxis.range,e.xAxis),null!=e.valueFormat&&(r.yAxis.labels.formatService=y.checkValueFormat(e.valueFormat,t));let i=j.getForeColor(e);this.renderRadarXAxisLabelsColor(e,r.xAxis.labels,e.xAxis,i),r.xAxis.visible=e.xAxis.visible}static renderXRadarAxisLabels(e,t){t.font=e.font,t.textBefore=e.textBefore,t.textAfter=e.textAfter,t.allowApplyStyle=!1}static renderYRadarAxis(e,t){let r=t.area.as(Gh);if(null==r)return;this.renderYRadarAxisLabels(e.area.yAxis.labels,r.yAxis.labels),this.renderAxisRange(r.yAxis.range,e.yAxis);let i=j.getForeColor(e);this.renderRadarYAxisLabelsColor(e,r.yAxis.labels,e.yAxis,i),r.yAxis.visible=e.yAxis.visible}static renderYRadarAxisLabels(e,t){t.font=e.font,t.textBefore=e.textBefore,t.textAfter=e.textAfter,t.step=e.step,t.angle=e.angle,t.textAlignment=e.textAlignment,t.allowApplyStyle=!1}static renderRadarXAxisLabelsColor(e,t,r,i){if(!N.transparent.equals(r.labels.color))return void(t.color=r.labels.color);e.style==u.Custom&&t.color!=N.transparent||(t.color=i)}static renderRadarYAxisLabelsColor(e,t,r,i){if(!N.transparent.equals(r.labels.color))return void(t.color=r.labels.color);e.style==u.Custom&&t.color!=N.transparent||(t.color=i)}static checkValueFormat(e,i){let s=e.as(Mr);if(null!=s&&0<(s.state&B.Report.Components.StiTextFormatState.Abbreviation)){let t=s.clone(),r=null;for(let e=0;e<i.series.count;e++){let t=i.series.getByIndex(e);for(let e of t.values)(null==r||r>e)&&(r=e)}if(null!=r&&0!=r){let e=0;if((r=Math.abs(r))<4){while(Math.round(r)%10==0)r*=10,e++;e+=2}t.useLocalSetting=!1,t.decimalDigits=e}return t}return e}static async renderYRightAxis(e,t){let r=t.area.as(um);if(null==r)return;await this.renderAxis(e,r.yRightAxis,e.yRightAxis),this.renderAxisLineColor(e,r.yRightAxis)}static async renderXAxisTitleText(e,t,r,i){if(!r.title.visible)return;t.title.text=L.isNullOrEmpty(r.title.text)?L.join(" / ",i):await rt.parseAsync(r.title.text,e)}static async renderYAxisTitleText(e,t,r,i){if(!r.title.visible)return;t.title.text=L.isNullOrEmpty(r.title.text)?L.join(" / ",i):await rt.parseAsync(r.title.text,e)}static renderAxisLineColor(e,t){if(e.style==u.Custom&&!N.transparent.equals(t.lineColor))return t.allowApplyStyle=!1,void(t.allowApplyStyle=!1);j.isDarkStyle(e.dashboard)&&(t.allowApplyStyle=!1,t.lineColor=j.getForeColor(e))}static renderRadarAxis(e,t){if(t.series.count<=0)return;let r=t.area.as(Gh);if(null==r)return;this.renderXRadarAxis(e,t),this.renderYRadarAxis(e,t)}static async renderAxis3D(e,t,r){let i=j.getForeColor(e);await this.renderAxisLabels3D(e,t,r),this.renderAxisLabelsColor3D(e,t,r,i)}static async renderAxis(e,t,r){let i=j.getForeColor(e);this.renderAxisTitle(e,t,r,i),await this.renderAxisLabels(e,t,r),this.renderAxisStartFromZero(t,r),this.renderAxisShowEdgeValues(t,r),this.renderAxisRange(t.range,r),this.renderAxisLabelsColor(e,t,r,i)}static renderAxisTitle(e,t,r,i){let s=this.getTitleAxisChart(r),n=t.title;n.alignment=s.alignment,n.position=s.position,n.font=s.font,this.renderAxisLabelsTitleColor(e,n,s,i),s.is(Zh)&&(n.direction=s.direction),s.is(qs)&&(n.direction=s.direction)}static async renderAxisLabels3D(e,t,r){t.labels.textAfter=await rt.parseAsync(r.labels.textAfter,e),t.labels.textBefore=await rt.parseAsync(r.labels.textBefore,e),t.labels.font=r.labels.font}static async renderAxisLabels(e,t,r){t.labels.angle=r.labels.angle,t.is(Yh)&&e.isParetoChart||(t.labels.textAfter=await rt.parseAsync(r.labels.textAfter,e)),t.labels.textAlignment=r.labels.textAlignment,t.labels.textBefore=await rt.parseAsync(r.labels.textBefore,e),t.labels.font=r.labels.font,t.labels.placement=r.labels.placement,t.labels.step=r.labels.step}static renderAxisStartFromZero(t,r){if(r.is(om)){let e=r;null!=e&&e.startFromZero!=Ys.Auto&&(t.startFromZero=e.startFromZero!=Ys.False)}if(r.is(am)){let e=r;null!=e&&(t.startFromZero=e.startFromZero)}}static renderAxisShowEdgeValues(t,r){if(r.is(om)){let e=r;null!=e&&e.showEdgeValues!=Ys.Auto&&(t.showEdgeValues=e.showEdgeValues!=Ys.False)}}static renderAxisRange(e,t){t.stimulsoft().getType()!=om&&t.stimulsoft().getType()!=am||(e.auto=t.range.auto,e.maximum=t.range.maximum,e.minimum=t.range.minimum)}static renderAxisLabelsTitleColor(e,t,r,i){if(!N.transparent.equals(r.color))return void(t.color=r.color);e.style==u.Custom&&!N.transparent.equals(t.color)||(t.color=i)}static renderAxisLabelsColor3D(e,t,r,i){if(!N.transparent.equals(r.labels.color))return void(t.labels.color=r.labels.color);e.style==u.Custom&&!N.transparent.equals(t.labels.color)||(t.labels.color=i)}static renderAxisLabelsColor(e,t,r,i){if(!N.transparent.equals(r.labels.color))return void(t.labels.color=r.labels.color);e.style==u.Custom&&!N.transparent.equals(t.labels.color)||(t.labels.color=i)}static getTitleAxisChart(e){if(e.is(om))return e.title;if(e.is(am))return e.title;return null}async renderLegend(e,t){t.legend.horAlignment=e.legend.horAlignment,t.legend.vertAlignment=e.legend.vertAlignment,t.legend.title=await rt.parseAsync(e.legend.title.text,e),t.legend.titleFont=e.legend.title.font,t.legend.allowApplyStyle=!1,t.legend.font=e.legend.labels.font,t.legend.visible=y.getChartLegendVisible(e,t),t.legend.columns=e.legend.columns,t.legend.direction=e.legend.direction;let r=j.getForeColor(e);y.renderLegendTitleColor(e,t,r),y.renderLegendLabelsColor(e,t,r)}static getChartLegendVisible(e,t){if(1==t.series.count&&!t.series.getByIndex(0).is(Xh))return e.legend.visibility==Hh.Always;return e.legend.visibility!=Hh.False}static renderLegendTitleColor(e,t,r){if(!N.transparent.equals(e.legend.title.color))return void(t.legend.titleColor=e.legend.title.color);e.style==u.Custom&&!N.transparent.equals(t.legend.titleColor)||(t.legend.titleColor=r)}static renderSeriesLabelsLegendValueType(e,t){let r=0;t.series.toList().cast().where(e=>null!=e.arguments).toList().forEach(e=>{r+=e.arguments.stimulsoft().toList().count2(e=>null!=e)}),null==e.legend.labels.valueType?0<r&&1<t.series.count?t.seriesLabels.legendValueType=Xs.SeriesTitleArgument:1==r&&1==t.series.count&&(e.isPieChart||e.isPie3dChart||e.isDoughnutChart)?t.seriesLabels.legendValueType=Xs.SeriesTitle:0<r&&1==t.series.count?t.seriesLabels.legendValueType=Xs.Argument:0==r&&1<t.series.count?t.seriesLabels.legendValueType=Xs.SeriesTitle:t.seriesLabels.legendValueType=e.isBubbleChart?Xs.Weight:Xs.Value:t.seriesLabels.legendValueType=e.legend.labels.valueType}static renderLegendLabelsColor(e,t,r){if(!N.transparent.equals(e.legend.labels.color))return void(t.legend.labelsColor=e.legend.labels.color);e.style==u.Custom&&!N.transparent.equals(t.legend.labelsColor)||(t.legend.labelsColor=r)}static async renderConditions(e,t,r,i){let s=null!=r.chartConditions?r.chartConditions.where(e=>e.keyValueMeter==i.key):null,n=(null!=s&&await this.renderValueConditions(r,t,s),null!=r.chartConditions?r.chartConditions.where(e=>e.field==Vn.Argument):null),l=(null!=n&&await this.renderArgumentConditions(r,t,n),null!=r.chartConditions?r.chartConditions.where(e=>e.field==Vn.Series):null);null!=l&&await this.renderSeriesConditions(r,t,l,e)}static async renderValueConditions(r,i,e){for(let t of e){let e=t.isExpression?await rt.parseAsync(`{${t.value}}`,r):t.value;i.conditions.add(new B.Report.Chart["StiChartCondition"](t.color,B.Report.Components.StiFilterItem.Value,t.dataType,t.condition,e,t.markerType,t.markerAngle))}}static async renderArgumentConditions(r,i,e){for(let t of e){let e=t.isExpression?await rt.parseAsync(`{${t.value}}`,r):t.value;i.conditions.add(new B.Report.Chart["StiChartCondition"](t.color,B.Report.Components.StiFilterItem.Argument,t.dataType,t.condition,e,t.markerType,t.markerAngle))}}static async renderSeriesConditions(r,i,e,s){for(let t of e){let e=t.isExpression?await rt.parseAsync(`{${t.value}}`,r):t.value;this.getConditionResult(null==e?void 0:e.toString(),s,t.condition)&&(i.legendColor=t.color,i.conditions.add(new B.Report.Chart["StiChartCondition"](t.color,B.Report.Components.StiFilterItem.Argument,B.Report.Components.StiFilterDataType.String,B.Report.Components.StiFilterCondition.BeginningWith,"",t.markerType,t.markerAngle)))}}static getConditionResult(r,i,t){let e=!1;if(null!=i){let e=i;if(null!=e&&null!=r){i.stimulsoft().getType()!=r.stimulsoft().getType()&&(i=i.toString(),r=r.stimulsoft().toString(),e=i);try{switch(t){case B.Report.Components.StiFilterCondition.EqualTo:return 0==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.NotEqualTo:return 0!=e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.GreaterThan:return 1==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.GreaterThanOrEqualTo:return 0<=e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.LessThan:return-1==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.LessThanOrEqualTo:return e.stimulsoft().compareTo(r)<=0;case B.Report.Components.StiFilterCondition.Containing:{let e=i.toString(),t=r.toString();return-1!=e.indexOf(t)}case B.Report.Components.StiFilterCondition.NotContaining:{let e=i.toString(),t=r.toString();return-1==e.indexOf(t)}case B.Report.Components.StiFilterCondition.BeginningWith:{let e=i.toString(),t=r.toString();return e.stimulsoft().startsWith(t)}case B.Report.Components.StiFilterCondition.EndingWith:{let e=i.toString(),t=r.toString();return e.stimulsoft().endsWith(t)}}}catch(e){}}}return e}static async renderConstantLines(i,s){for(let r of i.constantLines){let e=!L.isNullOrEmpty(r.text),t=new B.Report.Chart["StiConstantLines"];t.allowApplyStyle=!1,t.text=r.text,t.axisValue=await rt.parseAsync(r.axisValue,i),t.lineColor=r.lineColor,t.lineStyle=r.lineStyle,t.lineWidth=r.lineWidth,t.titleVisible=e,t.orientation=i.isBarChart?zh.Vertical:zh.Horizontal,t.position=r.position,s.constantLines.add(t)}}static renderTrendLines(t,e,r){var e;let i=null==(e=e.trendLines)?void 0:e.where(e=>e.keyValueMeter==r.key).toList();t.trendLines.clear();for(let e of i)t.trendLines.add(this.getTrendLine(e,t.chart))}static getTrendLine(t,r){switch(t.type){case rn.None:return new B.Report.Chart["StiTrendLineNone"];case rn.Exponential:{let e=new B.Report.Chart["StiTrendLineExponential"];return e.allowApplyStyle=!1,e.lineColor=N.transparent.equals(t.lineColor)?r.style.core.trendLineColor:t.lineColor,e.lineStyle=t.lineStyle,e.lineWidth=t.lineWidth,e.showShadow=!1,e}case rn.Linear:{let e=new B.Report.Chart["StiTrendLineLinear"];return e.allowApplyStyle=!1,e.lineColor=N.transparent.equals(t.lineColor)?r.style.core.trendLineColor:t.lineColor,e.lineStyle=t.lineStyle,e.lineWidth=t.lineWidth,e.showShadow=!1,e}case rn.Logarithmic:{let e=new B.Report.Chart["StiTrendLineLogarithmic"];return e.allowApplyStyle=!1,e.lineColor=N.transparent.equals(t.lineColor)?r.style.core.trendLineColor:t.lineColor,e.lineStyle=t.lineStyle,e.lineWidth=t.lineWidth,e.showShadow=!1,e}}}async renderSeriesLabels(t,r){if(!(t.isPieChart||t.isPie3dChart||t.isFunnelChart||t.isPictorialStackedChart||t.isDoughnutChart||t.isTreemapChart||t.isAxisAreaChart||t.isSunburstChart||t.isRadarChart||t.isWaterfallChart||t.isAxisAreaChart3D))return void(r.seriesLabels.visible=!1);if(r.allowApplyStyle=!1,t.isPieChart?y.renderPieLabelsPosition(t,r):t.isPie3dChart?y.renderPie3dLabelsPosition(t,r):t.isDoughnutChart||t.isSunburstChart?y.renderDoughnutLabelsPosition(t,r):t.isFunnelChart?y.renderFunnelLabelsPosition(t,r):t.isPictorialStackedChart?y.renderPictorialStackedLabelsPosition(t,r):t.isTreemapChart?y.renderTreemapLabelsPosition(t,r):t.isWaterfallChart?y.renderWaterfallLabelsPosition(t,r):t.isStackedChart?y.renderStackedLabelsPosition(t,r):t.isRadarChart?y.renderRadarLabelsPosition(t,r):t.isAxisAreaChart?y.renderAxisLabelsPosition(t,r):t.isAxisAreaChart3D&&y.renderClusteredColumn3DLabelsPosition(t,r),r.seriesLabels.core.applyStyle(r.style),await y.applyPropertiesToSeriesLabels(t,r.seriesLabels.as(em)),t.isStackedChart)for(let e of r.series.list)await y.applyPropertiesToSeriesLabels(t,e.seriesLabels.as(em));t.isPieChart||t.isPie3dChart||t.isDoughnutChart?(y.renderPieLabelsStyle(t,r),y.renderPieLabelsAutoRotate(t,r),y.renderSeriesLabelsLegendValueType(t,r)):t.isSunburstChart?y.renderPieLabelsAutoRotate(t,r):t.isFullStackedChart?(y.renderLabelsStyle(t,r),r.seriesLabels.showInPercent=!0):y.renderLabelsStyle(t,r),y.renderLabelsColor(t,r),y.renderLabelsTextFormat(t,r)}static async applyPropertiesToSeriesLabels(e,t){t.preventIntersection=!0,t.textAfter=await rt.parseAsync(e.labels.textAfter,e),t.textBefore=await rt.parseAsync(e.labels.textBefore,e),t.font=e.labels.font,t.showZeros=!1}static renderPieLabelsAutoRotate(e,t){let r=t.seriesLabels.as(qh);null!=r&&(r.autoRotate=e.labels.autoRotate)}static renderLabelsColor(e,t){var r,r;let i=t.seriesLabels.as(em),s=t.seriesLabels.as(Kh);N.transparent.equals(e.labels.foreColor)?(i.labelColor=N.gray,i.labelColor=j.isDarkStyle2(e.style)?N.fromArgb(50,50,50):null!=(null==(r=null==t?void 0:t.style)?void 0:r.core)?t.style.core.seriesLabelsColor:N.gray,null!=s&&(s.lineColor=null!=(null==(r=null==t?void 0:t.style)?void 0:r.core)?t.style.core.seriesLabelsLineColor:N.gray)):(i.labelColor=e.labels.foreColor,null!=s&&(s.lineColor=e.labels.foreColor))}static renderLabelsTextFormat(e,t){t.seriesLabels.formatService=e.valueFormat}static renderFunnelLabelsPosition(e,t){switch(e.labels.funnelPosition){case C.None:t.seriesLabels.visible=!1;break;case C.Left:t.seriesLabels=new B.Report.Chart["StiOutsideLeftFunnelLabels"];break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterFunnelLabels"];break;case C.Right:t.seriesLabels=new B.Report.Chart["StiOutsideRightFunnelLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderPictorialStackedLabelsPosition(e,t){switch(e.labels.pictorialStackedPosition){case C.None:t.seriesLabels.visible=!1;break;case C.Left:t.seriesLabels=new B.Report.Chart["StiOutsideLeftPictorialStackedLabels"];break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterPictorialStackedLabels"];break;case C.Right:t.seriesLabels=new B.Report.Chart["StiOutsideRightPictorialStackedLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderTreemapLabelsPosition(e,t){switch(e.labels.treemapPosition){case C.None:t.seriesLabels.visible=!1;break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterTreemapLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderPieLabelsPosition(e,t){switch(e.labels.piePosition){case C.None:t.seriesLabels.visible=!1;break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterPieLabels"];break;case C.InsideEnd:t.seriesLabels=new B.Report.Chart["StiInsideEndPieLabels"];break;case C.Outside:t.seriesLabels=new B.Report.Chart["StiOutsidePieLabels"];break;case C.TwoColumns:t.seriesLabels=new B.Report.Chart["StiTwoColumnsPieLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderPie3dLabelsPosition(e,t){switch(e.labels.pie3dPosition){case C.None:t.seriesLabels.visible=!1;break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterPie3dLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderStackedLabelsPosition(e,r){switch(e.labels.axisPosition){case C.Total:{let t=r.series.toList().lastOrDefault();r.series.toList().where(e=>e!=t).toList().forEach(e=>{e.showSeriesLabels=gm.FromSeries,e.seriesLabels.visible=!1}),t.showSeriesLabels=gm.FromSeries,t.seriesLabels=new B.Report.Chart["StiValueAxisLabels"],t.isTotalLabel=!0,t.seriesLabels.formatService=e.valueFormat;break}default:y.renderAxisLabelsPosition(e,r);break}}static renderRadarLabelsPosition(e,t){switch(e.labels.radarPosition){case C.None:t.seriesLabels.visible=!1;break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterAxisLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderWaterfallLabelsPosition(e,t){switch(e.labels.axisPosition){case C.None:t.seriesLabels.visible=!1;break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterAxisLabels"];break;case C.InsideBase:t.seriesLabels=new B.Report.Chart["StiInsideBaseAxisLabels"];break;case C.InsideEnd:t.seriesLabels=new B.Report.Chart["StiInsideEndAxisLabels"];break;case C.Outside:t.seriesLabels=new B.Report.Chart["StiOutsideAxisLabels"];break;case C.OutsideBase:t.seriesLabels=new B.Report.Chart["StiOutsideBaseAxisLabels"];break;case C.OutsideEnd:t.seriesLabels=new B.Report.Chart["StiOutsideEndAxisLabels"];break;case C.Value:t.seriesLabels=new B.Report.Chart["StiValueAxisLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderAxisLabelsPosition(e,t){switch(e.labels.axisPosition){case C.None:t.seriesLabels.visible=!1;break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterAxisLabels"];break;case C.InsideBase:t.seriesLabels=new B.Report.Chart["StiInsideBaseAxisLabels"];break;case C.InsideEnd:t.seriesLabels=new B.Report.Chart["StiInsideEndAxisLabels"];break;case C.Left:t.seriesLabels=new B.Report.Chart["StiLeftAxisLabels"];break;case C.Outside:t.seriesLabels=new B.Report.Chart["StiOutsideAxisLabels"];break;case C.OutsideBase:t.seriesLabels=new B.Report.Chart["StiOutsideBaseAxisLabels"];break;case C.OutsideEnd:t.seriesLabels=new B.Report.Chart["StiOutsideEndAxisLabels"];break;case C.Right:t.seriesLabels=new B.Report.Chart["StiRightAxisLabels"];break;case C.Value:t.seriesLabels=new B.Report.Chart["StiValueAxisLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderClusteredColumn3DLabelsPosition(e,t){switch(e.labels.clusteredColumn3dPosition){case C.None:t.seriesLabels.visible=!1;break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterAxisLabels3D"];break;case C.Outside:t.seriesLabels=new B.Report.Chart["StiOutsideAxisLabels3D"];break;default:t.seriesLabels.visible=!1;break}}static renderDoughnutLabelsPosition(e,t){switch(e.labels.doughnutPosition){case C.None:t.seriesLabels.visible=!1;break;case C.Center:t.seriesLabels=new B.Report.Chart["StiCenterPieLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderPieLabelsStyle(e,t){let r=t.seriesLabels.as(Uh);switch(e.labels.style){case Wh.PercentOfTotal:r.showInPercent=!0,r.valueType=Xs.Value;break;case Wh.Category:r.showInPercent=!1,r.valueType=e.arguments.any()?Xs.Argument:Xs.SeriesTitle;break;case Wh.CategoryPercentOfTotal:r.showInPercent=!0,r.valueType=e.arguments.any()?Xs.ArgumentValue:Xs.SeriesTitleValue;break;case Wh.CategoryValue:r.showInPercent=!1,r.valueType=e.arguments.any()?Xs.ArgumentValue:Xs.SeriesTitleValue;break;case Wh.Value:r.showInPercent=!1,r.valueType=Xs.Value;break}}static renderLabelsStyle(e,t){let r=t.seriesLabels;switch(e.labels.style){case Wh.PercentOfTotal:r.valueType=Xs.Value;break;case Wh.Category:r.valueType=e.arguments.any()?Xs.Argument:Xs.SeriesTitle;break;case Wh.CategoryPercentOfTotal:r.valueType=e.arguments.any()?Xs.ArgumentValue:Xs.SeriesTitleValue;break;case Wh.CategoryValue:r.valueType=e.arguments.any()?Xs.ArgumentValue:Xs.SeriesTitleValue;break;case Wh.Value:r.valueType=Xs.Value;break}}async renderSeriesInteraction(r,i,e,s){if(r.chart.isDesigning)return;let n=null==i?void 0:i.report,l=0,t=i.dashboardInteraction;if(t.onHover==gr.ShowToolTip){r.toolTips=un.create(String,e);for(let t of r.arguments){let e="";l<r.values.length&&null!=r.values[l]&&(e=r.values[l].toString()),r.toolTips[l]=await this.getToolTip(r.chart.style,i,i.dashboardInteraction.toolTip,this.getString(i.argumentFormat,t,n),this.getString(i.valueFormat,e,n),s),l++}}l=0,r.hyperlinks=un.create(String,e);for(let t of r.arguments){let e="";l<r.values.length&&null!=r.values[l]&&(e=r.values[l].toString()),r.hyperlinks[l]=await this.getHyperlink(i,i.dashboardInteraction.hyperlink,null===t||void 0===t?void 0:t.toString(),e,r.titleValue),l++}r.drillDownEnabled=!0}async getToolTip(r,e,t,i,s,n){if(null==i&&(i=""),null==n&&(n=""),L.isNullOrWhiteSpace(t)){null==i||L.isNullOrEmpty(i)||(i=i.split('"').join('\\"'));let e='"StiColor":"{0}","StiValue":"{1}","StiArgument":"{2}"{3}',t=await this.getToolTipStyle(r);return"{"+L.format(e,"#ffffff",s,i,t)+"}"}return this.getHyperlink(e,t,i,s,n)}async getToolTipStyle(e){let t=B.Base.StiJsonReportObjectHelper.Serialize.jBrush(e.core.toolTipBrush),r=B.Base.StiJsonReportObjectHelper.Serialize.jBrush(e.core.toolTipTextBrush),i=B.Base.StiJsonReportObjectHelper.Serialize.jBorder2(e.core.toolTipBorder),s=e.core.toolTipCornerRadius.toString();return`,"StiToolTipCornerRadius":"${s}","StiToolTipBrush":"${t}","StiToolTipTextBrush":"${r}","StiToolTipBorder":"${i}"`}async getHyperlink(e,t,r,i,s){null==r&&(r=""),null==s&&(s="");let n=new Na;return n.add("Argument",r),n.add("Value",i),n.add("Series",s),rt.parseAsync(t,e,!1,n)}getTitle(e){return zu.getLabel(e)}getSeriesTitle(e,t,r){if(e.values.length<2)return t;let i=zu.getLabel(r),s=L.isNullOrWhiteSpace(i)?null:i;if(null==s)return t;return L.isNullOrWhiteSpace(t)?s:t+` - `+s}getArgumentIndex(e,t){let r=this.getArgumentMeterIndexes(e).toList();if(null==r||!r.any())return-1;if(1==r.length)return r.firstOrDefault();if(r.length>t)return A.trunc(r[t]);return-1}simplifyValues(e){let t=0;while(t<e.series.count){let r=e.series.getByIndex(t);if(800<r.values.length){let t=this.getShorterListPoints(r);r.values=un.create(Number,t.length),r.arguments=un.create(Object,t.length);for(let e=0;e<t.length;e++)r.values[e]=t[e].x,r.arguments[e]=t[e].y}t++}}getShorterListPoints(t){let r=un.create(fl,t.values.length);for(let e=0;e<t.values.length;e++)r[e]=new fl(t.values[e],e);let i=[.3,.6,1,5,9,15,20,25,30,40],s=null,n=null;for(let e=0;e<i.length;e++){if((s=B.Report.Chart["StiSimplifyHelper"].simplify(r,e,!0).stimulsoft().toList()).length/r.length<.02&&s.length<900&&null!=n){s=n;break}n=s}return s}getString(r,i,s){if(null==i)return"";if(un.isArray(i)){let t=new P;for(let e of i)t.add(this.getFormatValue(r,e,s));return L.join(" - ",t)}return this.getFormatValue(r,i,s)}getFormatValue(e,t,r){return null==t?"":t instanceof w?e.is2(Fr)||e.is2(Tr)||e.is2(nm)?e.format(t):t.toShortDateString():Xr.isEligable(t,null==r?void 0:r.culture)?Xr.convert(t,null==r?void 0:r.culture):null!=e?e.format(t):t.toString()}static create(e){if(e.isSunburstChart)return new F.i.StiSunburstChartElementBuilder;if(e.isBubbleChart)return new F.i.StiBubbleChartElementBuilder;if(e.isRange)return new F.i.StiRangeChartElementBuilder;if(e.isFinancial)return new F.i.StiFinancialChartElementBuilder;if(e.isFullStackedChart||e.isStackedChart)return new F.i.StiStackedChartElementBuilder;return new y}getValueMeterIndexes(t){if(null==t)return null;return this.getValueMeters(t).select(e=>t.meters.indexOf(e)).stimulsoft().toArray()}getArgumentMeterIndexes(t){if(null==t)return null;return this.getArgumentMeters(t).select(e=>t.meters.indexOf(e)).toList()}getSeriesMeterIndex(e){if(null==e)return-1;let t=e.meters.firstOrDefault(e=>e.is(gs));return null!=t?e.meters.indexOf(t):-1}getArgumentKeys(e,t){if(null==t)return null;let r=this.getArgumentMeters(t),i=r.select(e=>t.meters.indexOf(e)).toList(),s=t.rows.groupBy(t=>i.select(e=>t[e]).stimulsoft().toArray(),new Ru);return s.select(e=>e.key.stimulsoft().toArray())}getValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(cs)).cast()}getArgumentMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ds)).cast()}}F.i.StiChartElementBuilder=y}let xm=B.Report.Chart.IStiBubbleSeries,Tm=(F.i.StiBubbleChartElementBuilder=class extends F.i.StiChartElementBuilder{async renderElements(u,h,m){let d=h.report,c=this.getSeriesMeterIndex(m),e=this.getSeriesKeys(m,c),t=this.getValueMeters(m),g=e.count2();for(let o of e){let a=0;for(let l of t){let e=this.getValueMeterIndexes(m)[a],t=this.renderSeries(u,l,o,h);if(null==t)continue;let r=-1!=c&&1<g?m.rows.whereArrayItemStringEqualsTo(c,o):m.rows,i=(t.values=r.getArrayItem(e).tryCastToNullableNumber().stimulsoft().toArray(),this.getArgumentIndex(m,e)),s=(-1!=i&&(t.arguments=r.getArrayItem(i).select(e=>this.getString(u.argumentFormat,e,d)).stimulsoft().toArray()),t.weights=null,this.getWeightIndex(m,e));if(-1!=s&&(t.weights=r.getArrayItem(s).tryCastToNumber().stimulsoft().toArray()),null==t.weights){t.weights=[];for(let e=0;e<t.argument.length;e++)t.weights[e]=10}a++;let n=Math.min(t.values.length,t.arguments.length);await this.renderSeriesInteraction(t,u,n,o)}}}renderSeries(e,t,r,i){let s=new B.Report.Chart["StiBubbleSeries"];return s.coreTitle=this.getSeriesTitle(e,r,t),s.isDashboard=!0,i.series.add(s),s}async renderSeriesInteraction(l,e,t,r){let a=l.as(xm);if(null==a)return;let i=e.dashboardInteraction;if(i.onHover==gr.ShowToolTip){l.toolTips=un.create(String,t);for(let n=0;n<t;n++){let e="",t="",r="",i=(n<l.values.length&&null!=l.values[n]&&(e=l.values[n].toString()),n<l.arguments.length&&null!=l.arguments[n]&&(t=``+l.arguments[n]),n<a.weights.length&&(r=a.weights[n].toString()),'"StiColor":"{0}","StiValue":"{1}","StiArgument":"{2}","StiWeight":"{3}"{4}'),s=await this.getToolTipStyle(l.chart.style);l.toolTips[n]="{"+L.format(i,"#ffffff",e,t,r,s)+"}"}}l.drillDownEnabled=!0}getWeightIndex(e,t){if(null==e)return-1;let r=this.getWeightMeterIndexes(e);if(null==r)return-1;if(!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return A.trunc(r[t]);return-1}getWeightMeterIndexes(t){if(null==t)return null;return this.getWeightMeters(t).select(e=>t.meters.indexOf(e)).toList()}getWeightMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(as)).cast()}getValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(Mn)).cast()}getArgumentMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ea)).cast()}},B.Report.Chart.IStiFinancialSeries),Fm=(F.i.StiFinancialChartElementBuilder=class extends F.i.StiChartElementBuilder{async renderElements(d,c,g){let p=null==c?void 0:c.report,S=this.getSeriesMeterIndex(g),e=this.getSeriesKeys(g,S),t=this.getValueMeters(g),w=e.count2();for(let m of e){let h=0;for(let u of t){let e=this.getValueMeterIndexes(g)[h],t=this.renderSeries(d,u,m,c),r=t.as(Tm);if(null==t||null==r)continue;let i=-1!=S&&1<w?g.rows.whereArrayItemStringEqualsTo(S,m):g.rows,s=(r.valuesOpen=i.getArrayItem(e).tryCastToNullableNumber().stimulsoft().toArray(),r.valuesClose=null,this.getCloseValueIndex(g,e));if(-1!=s&&(r.valuesClose=i.getArrayItem(s).tryCastToNullableNumber().stimulsoft().toArray()),null==r.valuesClose){r.valuesClose=[];for(let e=0;e<t.argument.length;e++)r.valuesClose[e]=10}r.valuesLow=null;let n=this.getLowValueIndex(g,e);if(-1!=n&&(r.valuesLow=i.getArrayItem(n).tryCastToNullableNumber().stimulsoft().toArray()),null==r.valuesLow){r.valuesLow=[];for(let e=0;e<t.argument.length;e++)r.valuesLow[e]=10}r.valuesHigh=null;let l=this.getHighValueIndex(g,e);if(-1!=l&&(r.valuesHigh=i.getArrayItem(l).tryCastToNullableNumber().stimulsoft().toArray()),null==r.valuesHigh){r.valuesHigh=[];for(let e=0;e<t.argument.length;e++)r.valuesHigh[e]=10}let a=this.getArgumentIndex(g,e),o=(-1!=a&&(t.arguments=i.getArrayItem(a).select(e=>this.getString(d.argumentFormat,e,p)).stimulsoft().toArray()),h++,Math.min(t.values.length,t.arguments.length));await this.renderSeriesInteraction(t,d,o,m)}}}renderSeries(e,t,r,i){let s=mn.neww2(t.as(os).seriesType);return s.coreTitle=this.getSeriesTitle(e,r,t),s.isDashboard=!0,i.series.add(s),s}async renderSeriesInteraction(o,e,t,r){let u=o.as(Tm);if(null==u)return;let i=e.dashboardInteraction;if(i.onHover==gr.ShowToolTip){o.toolTips=un.create(String,t);for(let a=0;a<t;a++){let e="",t="",r="",i="",s="",n=(a<u.valuesOpen.length&&null!=u.valuesOpen[a]&&(e=u.valuesOpen[a].toString()),a<u.valuesClose.length&&(t=u.valuesClose[a].toString()),a<u.valuesLow.length&&(r=u.valuesLow[a].toString()),a<u.valuesHigh.length&&(i=u.valuesHigh[a].toString()),a<o.arguments.length&&null!=o.arguments[a]&&(s=``+o.arguments[a]),'"StiColor":"{0}","StiOpenValue":"{1}","StiCloseValue":"{2}","StiLowValue":"{3}","StiHighValue":"{4}","StiArgument":"{5}"{6}'),l=await this.getToolTipStyle(o.chart.style);o.toolTips[a]="{"+L.format(n,"#ffffff",e,t,r,i,s,l)+"}"}}o.drillDownEnabled=!0}async renderArea(e,d){await super.renderArea(e,d);let c=null,g=null;for(let m=0;m<d.series.count;m++){let e=d.series.getByIndex(m).as(Tm);if(null==e)continue;let t=e.valuesOpen.stimulsoft().toList().min(),r=e.valuesClose.stimulsoft().toList().min(),i=e.valuesLow.stimulsoft().toList().min(),s=e.valuesHigh.stimulsoft().toList().min(),n=e.valuesOpen.stimulsoft().toList().max(),l=e.valuesClose.stimulsoft().toList().max(),a=e.valuesLow.stimulsoft().toList().max(),o=e.valuesHigh.stimulsoft().toList().max(),u=new P([t,r,i,s]).min(),h=new P([n,l,a,o]).max();null==c&&(c=u),null==g&&(g=h),c=Math.min(c,u),g=Math.max(g,h)}let t=d.area.as(um),r=(t.yAxis.range.auto=!1,t.yAxis.range.minimum=c,t.yAxis.range.maximum=g,t.yAxis.range.maximum-t.yAxis.range.minimum);t.yAxis.labels.step=2<r?Math.round(r/10):A.round2(r/10,4)}getValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(os)).cast()}getCloseValueIndex(e,t){if(null==e)return-1;let r=this.getCloseMeterIndexes(e);if(null==r||!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return r[t];return-1}getCloseMeterIndexes(t){if(null==t)return null;return this.getCloseMeters(t).select(e=>t.meters.indexOf(e)).toList()}getCloseMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(us)).cast()}getLowValueIndex(e,t){if(null==e)return-1;let r=this.getLowMeterIndexes(e);if(null==r||!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return r[t];return-1}getLowMeterIndexes(t){if(null==t)return null;return this.getLowMeters(t).select(e=>t.meters.indexOf(e)).toList()}getLowMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(hs)).cast()}getHighValueIndex(e,t){if(null==e)return-1;let r=this.getHighMeterIndexes(e);if(null==r)return-1;if(!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return r[t];return-1}getHighMeterIndexes(t){if(null==t)return null;return this.getHighMeters(t).select(e=>t.meters.indexOf(e)).toList()}getHighMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ms)).cast()}},B.Report.Chart.IStiRangeSeries),Mm=(F.i.StiRangeChartElementBuilder=class extends F.i.StiChartElementBuilder{async renderElements(u,h,m){let d=null==h?void 0:h.report,c=this.getSeriesMeterIndex(m),e=this.getSeriesKeys(m,c),g=e.count2(),r=this.getValueMeters(m),p=this.getArgumentMeterIndexes(m),S=this.getArgumentKeys(u,m).toList();for(let o of e){let a=0;for(let t of r){let i=this.getValueMeterIndexes(m)[a],r=this.renderSeries(u,t,o,h);if(null==r)continue;await F.i.StiChartElementBuilder.renderConditions(o,r,u,t);let s=-1!=c&&1<g?m.rows.whereArrayItemStringEqualsTo(c,this.toString(o)):m.rows,n=(r.values=P.create(Number,S.length),0);for(let t of S){let e=F.i.StiChartElementBuilder.getDetailRows(s,t,p);n<r.values.length&&(r.values[n]=e.getArrayItem(i).firstOrDefaultAsNullableNumber()),n++}r.core.isDateTimeValues=P.getValueOrFirstOrDefault(s.getArrayItem(i).toList().firstOrDefault())instanceof w;let l=r.as(Fm);if(null!=l){l.valuesEnd=P.create(Number,S.length);let r=this.getEndValueIndex(m,i);if(null==l.valuesEnd&&(l.valuesEnd=P.repeat(10,S.length)),-1!=r){n=0;for(let t of S){let e=F.i.StiChartElementBuilder.getDetailRows(s,t,p);n<l.valuesEnd.length&&(l.valuesEnd[n]=e.getArrayItem(r).firstOrDefaultAsNullableNumber()),n++}}}r.originalArguments=S.stimulsoft().toArray(),r.arguments=S.select(e=>this.getString(u.argumentFormat,e,d)).stimulsoft().toArray(),a++;let e=Math.min(r.values.length,r.arguments.length);await this.renderSeriesInteraction(r,u,e,o)}}}renderSeries(e,t,r,i){let s=mn.neww2(t.seriesType),n=(s.coreTitle=this.getSeriesTitle(e,r,t),s.isDashboard=!0,t);return F.i.StiChartElementBuilder.renderSeriesLine(n,s),this.renderMarker(e,s),i.series.add(s),s}async renderSeriesInteraction(s,n,e,l){var a,a;let o=null==n?void 0:n.report,u=s.as(Fm);if(null==u)return;let t=n.dashboardInteraction.as(gn);if(t.onHover==gr.ShowToolTip){s.toolTips=un.create(String,e);for(let i=0;i<e;i++){let e="",t="",r="";i<s.values.length&&null!=s.values[i]&&(e=(s.core.isDateTimeValues?w.fromOADate(s.values[i]):s.values[i]).toString()),null!=u.valuesEnd&&i<u.valuesEnd.length&&(t=s.core.isDateTimeValues?null==(a=w.fromOADate(u.valuesEnd[i]))?void 0:a.toString():null==(a=u.valuesEnd[i])?void 0:a.toString()),i<s.arguments.length&&null!=s.arguments[i]&&(r=``+s.arguments[i]),s.toolTips[i]=await this.getToolTip2(s.chart.style,n,n.dashboardInteraction.toolTip,this.getString(n.argumentFormat,r,o),this.getString(n.valueFormat,e,o),this.getString(n.valueFormat,t,o),l)}}s.drillDownEnabled=!0}async getToolTip2(r,e,t,i,s,n,l){if(null==i&&(i=""),null==l&&(l=""),L.isNullOrWhiteSpace(t)){null==i||L.isNullOrEmpty(i)||(i=i.split('"').join('\\"'));let e='"StiColor":"{0}","StiValue":"{1} - {3}","StiArgument":"{2}"{4}',t=await this.getToolTipStyle(r);return"{"+L.format(e,"#ffffff",s,i,n,t)+"}"}return this.getHyperlink2(e,t,i,s,n,l)}async getHyperlink2(e,t,r,i,s,n){null==r&&(r=""),null==n&&(n="");let l=new Na;return l.add("Argument",r),l.add("Value",i),l.add("EndValue",s),l.add("Series",n),rt.parseAsync(t,e,!1,l)}getValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ta)).cast()}getEndValueIndex(e,t){if(null==e)return-1;let r=this.getEndValueMeterIndexes(e);if(null==r||!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return A.trunc(r[t]);return-1}getEndValueMeterIndexes(t){if(null==t)return null;return this.getEndValueMeters(t).select(e=>t.meters.indexOf(e)).toList()}getEndValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ps)).cast()}},B.Report.Components.StiShape),vm=(F.i.StiShapeElementBuilder=class{render(e){let t=new Mm;return t.shapeType=e.shapeType,t.brush=e.fill,t.borderColor=e.stroke,t.size=e.size,t}},B.Report.Chart.IStiStackedColumnSeries);{class qc extends F.i.StiChartElementBuilder{async renderElements(a,o,u){let h=null==o?void 0:o.report,m=this.getSeriesMeterIndex(u),e=this.getSeriesKeys(u,m),d=this.getArgumentMeterIndexes(u),c=this.getArgumentKeys(a,u).toList(),r=this.getValueMeters(u),g=e.count2(),p=new P;for(let l of e){let t=0;for(let e of r){p.add(l);let r=this.getValueMeterIndexes(u)[t],i=this.renderSeries(a,e,l,o);if(null==i)continue;await F.i.StiChartElementBuilder.renderConditions(l,i,a,e),F.i.StiChartElementBuilder.renderTrendLines(i,a,e);let s=-1!=m&&1<g?u.rows.whereArrayItemStringEqualsTo(m,l):u.rows,n=(i.values=P.create(Number,c.length),0);for(let t of c){let e=F.i.StiChartElementBuilder.getDetailRows(s,t,d);n<i.values.length&&(i.values[n]=e.getArrayItem(r).firstOrDefaultAsNullableNumber()),n++}i.originalArguments=c.stimulsoft().toArray(),i.arguments=c.select(e=>this.getString(a.argumentFormat,e,h)).stimulsoft().toArray(),t++}}await qc.processTopNStackedChart(a,o);for(let t=0;t<p.length;t++){if(o.series.count<t)break;let e=o.series.getByIndex(t);if(null==e)return;await this.renderSeriesInteraction(e,a,c.length,p[t])}}static getDataTable(e){let r=new st,t=new et("Id",Number),i=(r.columns.add(t),new et("Argument",Object));r.columns.add(i);for(let t=0;t<e.length;t++){let e=new et("Value-"+t.toString(),Number);r.columns.add(e)}let s=new et("OriginalArguments",Object),n=(r.columns.add(s),new et("ValueSum",Number)),l=(r.columns.add(n),this.getCountRow(e.toList()));for(let e=0;e<l;e++){let e=r.newRow();r.rows.add(e)}return r}static getCountRow(t){let r=0;for(let e of t)r=Math.max(r,e.arguments.length);return r}static async getArguments(e,t){if(e.length<=t.topN.count)return e;let r=e.take(t.topN.count).toList();if(t.topN.showOthers){let e=L.isNullOrEmpty(t.topN.othersText)?c.get("FormDesigner","Others"):await rt.parseAsync(t.topN.othersText,t);r.add(e)}return r}static getValues(t,r){if(t.length<=r.topN.count)return t;let i=t.take(r.topN.count).toList();if(r.topN.showOthers){let e=t.skip(r.topN.count).sum();i.add(e)}return i}static async processTopNStackedChart(i,e){if(i.topN.mode==yu.None)return;let s=e.series.toList();if(!s.any(e=>e.is(hm)||e.is(vm)))return;let n=qc.getDataTable(s.toList());if(n.rows.count<1)return;for(let i=0;i<n.rows.count;i++){0<s.length&&s[0].arguments.length>i?n.rows.getByIndex(i).setValue(1,s[0].arguments[i]):n.rows.getByIndex(i).setValue(1,null),0<s.length&&s[0].originalArguments.length>i?n.rows.getByIndex(i).setValue(n.columns.count-2,s[0].originalArguments[i]):n.rows.getByIndex(i).setValue(n.columns.count-2,null);let r=0;for(let t=0;t<s.length;t++)if(0<s.length&&s[t].values.length>i){let e=s[t].values[i];n.rows.getByIndex(i).setValue(t+2,e),r+=e}else n.rows.getByIndex(i).setValue(t+2,null);n.rows.getByIndex(i).setValue(n.columns.count-1,r)}n.defaultView.sort=i.topN.mode==yu.Top?"ValueSum desc":"ValueSum asc",n=n.defaultView.toTable();let l=0;for(let r of s){r.originalArguments=qc.getListByColumnName(n,"OriginalArguments");let e=qc.getListByColumnName(n,"Argument"),t=(r.arguments=await qc.getArguments(e,i),qc.getListByColumnName(n,"Value-"+l.toString()));r.values=qc.getValues(t,i),l++}}static getListByColumnName(e,r){let i=new P;for(let t of e.rows.toList()){let e=t.gett(r);i.add(e)}return i}}F.i.StiStackedChartElementBuilder=qc}F.i.StiSunburstChartElementBuilder=class extends F.i.StiChartElementBuilder{async renderElements(i,s,n){let t=this.getArgumentMeters(n),l=this.getValueMeters(n).firstOrDefault(),a=this.getValueMeterIndexes(n).stimulsoft().toList().firstOrDefault();for(let e=0;e<t.length;e++){let t=this.getArgumentMeterIndexes(n)[e],r=this.renderSeries(i,l,"",s);if(null==r)continue;r.values=un.create(Number,n.rows.length),r.arguments=un.create(Object,n.rows.length);for(let e=0;e<n.rows.length;e++)r.values[e]=v.tryToNullableNumber(n.rows[e][a]),r.arguments[e]=n.rows[e][t];await this.renderSeriesInteraction(r,i,r.arguments.length,"")}}renderSeries(e,t,r,i){let s=mn.neww2(t.seriesType);return s.core.seriesColors=null!=e.seriesColors&&0<e.seriesColors.length?e.seriesColors:null,s.isDashboard=!0,i.series.add(s),s}};{class Yc{static getVisualizer(e){return null}}Yc.typeToGdiVisualizer=new Na,Yc.typeToWpfVisualizer=new Na,Yc.lockObject={},F.n.StiVisualizer=Yc}F.n.StiGdiVisualizer=class extends F.n.StiVisualizer{render(e){}},F.n.StiGdiVisualizerAttribute=class{},F.u.StiIndicatorIconRangeValue=class{constructor(e,t,r){this.start=e,this.end=t,this.icon=r}isBetween(e){return this.start<=e&&e<=this.end}};let Dm=F.h.StiElementLocationHelper,Am=(F.v.StiProgressVisual=class extends F.j.StiVisual{constructor(e,t){super(),this.minElementSide=2,this.minFontSize=3,this.element=e,this.iterations=t,this.style=j.getProgressStyle(this.element)}getMaxValue(){return this.iterations.select(e=>Math.abs(e.value)).concat(new P([0])).max()}getTargetValues(){let t=this.getMaxValue(),r=new P;for(let e of this.iterations)r.add(null!=e.target?e.target:t);return r}getTextValues(){let i=new P,s=this.getTargetValues();for(let r=0;r<this.iterations.length;r++){let e=s[r],t=0!=e?Math.abs(this.iterations[r].value)/e:0;i.add(Ei.formatAsPercentage2(this.element.report,this.element.textFormat,t))}return i}getColor(e){return this.element.colorEach?this.getColors(this.iterations.length)[e]:this.style.bandColor}getColors(e){let l=[],t=(null!=this.element.seriesColors&&0<this.element.seriesColors.length?this.element:this.style).seriesColors,r=0,a=0;for(let n=0;n<e;n++){let s=null==t||0==t.length?N.fromArgb(255,52,152,219):t[r];if(0!=a){let e=Math.min(s.a+a,255),t=Math.min(s.r+a,255),r=Math.min(s.g+a,255),i=Math.min(s.b+a,255);l[n]=N.fromArgb(e,t,r,i)}else l[n]=s;++r==t.length&&(r=0,a=50)}return l}getContentRectangle(t){if(1<this.iterations.length){let e=Dm.getLocationRectangles(t,this.iterations.length,this.element);t=Dm.getSumRectangle(e)}return t}getConditionResult(i,t){let s=null;switch(t.field){case Za.Value:s=i.value;break;case Za.Series:s=i.series;break;case Za.Target:s=i.target;break;case Za.Percentage:{let e=this.getVariation(i),t=new Dr,r=(t.decimalDigits=3,Ei.formatAsPercentage2(this.element.report,t,e));s=r.replace("%","").stimulsoft().toNumber();break}}let e=!1,r=this.getConditionValue(t);if(null!=s){let e=s=t.field!=Za.Value&&t.field!=Za.Target&&t.field!=Za.Percentage?s:null==s?0:s.stimulsoft().toNumber();if(null!=e&&null!=r){s.stimulsoft().getType()!=r.stimulsoft().getType()&&(s=s.toString(),r=r.stimulsoft().toString(),e=s);try{switch(t.condition){case B.Report.Components.StiFilterCondition.EqualTo:return 0==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.NotEqualTo:return 0!=e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.GreaterThan:return 1==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.GreaterThanOrEqualTo:return 0<=e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.LessThan:return-1==e.stimulsoft().compareTo(r);case B.Report.Components.StiFilterCondition.LessThanOrEqualTo:return e.stimulsoft().compareTo(r)<=0;case B.Report.Components.StiFilterCondition.Containing:{let e=s.toString(),t=r.toString();return-1!=e.indexOf(t)}case B.Report.Components.StiFilterCondition.NotContaining:{let e=s.toString(),t=r.toString();return-1==e.indexOf(t)}case B.Report.Components.StiFilterCondition.BeginningWith:{let e=s.toString(),t=r.toString();return e.stimulsoft().startsWith(t)}case B.Report.Components.StiFilterCondition.EndingWith:{let e=s.toString(),t=r.toString();return e.stimulsoft().endsWith(t)}}}catch(e){}}}return e}processColor(e,t){for(let e of this.element.progressConditions)if(0<(e.permissions&Qa.Color)&&this.getConditionResult(t,e))return e.color;return e}getVariation(e){let t=e.value,r=e.target;return t/r}getConditionValue(e){if(L.isNullOrEmpty(e.value))return null;switch(e.field){case Za.Value:case Za.Target:case Za.Percentage:return e.value.stimulsoft().toNumber();default:return e.value.toString()}}processForeColor(t,e=null){for(let e of this.element.progressConditions)if(0<(e.permissions&Qa.TextColor)&&this.getConditionResult(t,e))return e.textColor;return j.getForeColor(this.element,e)}processTrackColor(e,t){for(let e of this.element.progressConditions)if(0<(e.permissions&Qa.TrackColor)&&this.getConditionResult(t,e))return e.trackColor;return e}processFontStyle(e,t){let r=this.processFontBold(e.bold,t),i=this.processFontItalic(e.italic,t),s=this.processFontUnderline(e.underline,t),n=this.processFontStrikeout(e.strikeout,t),l=k.Regular;return r&&(l^=k.Bold),i&&(l^=k.Italic),s&&(l^=k.Underline),n&&(l^=k.Strikeout),l}processFontStrikeout(e,t){for(let e of this.element.progressConditions)if(0<(e.permissions&Qa.FontStyleStrikeout)&&this.getConditionResult(t,e))return e.font.strikeout;return e}processFontUnderline(e,t){for(let e of this.element.progressConditions)if(0<(e.permissions&Qa.FontStyleUnderline)&&this.getConditionResult(t,e))return e.font.underline;return e}processFontItalic(e,t){for(let e of this.element.progressConditions)if(0<(e.permissions&Qa.FontStyleItalic)&&this.getConditionResult(t,e))return e.font.italic;return e}processFontBold(e,t){for(let e of this.element.progressConditions)if(0<(e.permissions&Qa.FontStyleBold)&&this.getConditionResult(t,e))return e.font.bold;return e}processFontName(e,t){for(let e of this.element.progressConditions)if(0<(e.permissions&Qa.Font)&&this.getConditionResult(t,e))return e.font.name;return e}},B.Base.Context.StiPieSegmentGeom),Im=(F.v.StiPieProgressVisual=class extends F.v.StiProgressVisual{async draw(h,m){if(0==this.iterations.length)return;let d=Dm.getLocationRectangles(m,this.iterations.length,this.element);if(d.length<1)return;let c=d[0],e=c.width<c.height?c.width:c.height,t=this.element.font,g=this.getTitleHeight(e,t.size),p=c.width,S=null,r=new z(t.fontFamily.name,1,t.style,t.unit);for(let t of this.iterations){if(L.isNullOrEmpty(t.series))continue;let e=_o.getFontSize(h,new O(0,0,p,g),t.series,r);(null==S||S>e)&&(S=e)}let w=(e-(g=null!=S&&S<t.size?this.getTitleHeight(e,S):g))/2*.8,f=(S<this.minFontSize&&(S=0,g=0,w=e/2*.8),2*w),C=this.getTargetValues(),y=!1;h.pushClip(m);for(let u=0;u<this.iterations.length;u++){let e=C[u],t=this.iterations[u],r=d[u],i=(!y&&(1<r.right-m.right||1<r.bottom-m.bottom)&&(y=!0),r.x+r.width/2),s=r.y+g+(c.height-g)/2,n=new fl(i,s),l=new O(n.x-w,n.y-w,f,f),a=new O(l.x+l.width/2-p/2,l.top-g,p,g),o=this.processColor(this.getColor(u),this.iterations[u]);this.drawPieProgress(h,l,a,e,t,S,o)}if(y){let e=tu.factor(this.element);this.drawArrowMore(h,m,e)}h.popClip()}drawPieProgress(u,e,h,t,m,d,r){let i=this.processTrackColor(this.style.trackColor,m),s=(u.fillEllipse2(i,e,null),0!=t?360/t*Math.abs(m.value):t),n=(360<s&&(s=360),new P([new Am(e,-90,s,null,null,null)]));if(u.fillPath(r,n,e,null),d>=this.minFontSize){let e=this.processFontName(this.element.font.fontFamily.name,m),t=this.processFontStyle(this.element.font,m),r=new z(e,d,t),i=new Jo(r.fontFamily.name,d,r.style,r.unit),s=Wo.CenterCenter,n=new fl,l={ref:Wo.CenterCenter},a={ref:new fl},o=(_o.measureAlignmentParameters(V.Center,h,l,a),s=l.ref,n=a.ref,this.processForeColor(m));u.drawRotatedString4(m.series,i,o,n,_o.getStringFormatGeom(u),s,0,!0)}}getTitleHeight(e,t){let r=t/13;return e/4*(r=4<r?4:r)}constructor(e,t){super(e,t)}},B.Base.Context.StiArcSegmentGeom);F.v.StiCircleProgressVisual=class extends F.v.StiPieProgressVisual{async draw(g,p){if(0==this.iterations.length)return;let S=Dm.getLocationRectangles(p,this.iterations.length,this.element);if(S.length<1)return;let w=.87,f=S[0],e=f.width<f.height?f.width:f.height,C=this.element.font,y=this.getTitleHeight(e,C.size),b=f.width,x=this.getTargetValues(),T=this.getTextValues(),F=null,r=new z(C.fontFamily.name,1,C.style,C.unit);for(let t of this.iterations.where(e=>!L.isNullOrEmpty(e.series))){let e=_o.getFontSize(g,new O(0,0,b,y),t.series,r);(null==F||F>e)&&(F=e)}let M=(e-(y=null!=F&&F<C.size?this.getTitleHeight(e,F):y))/2*.8,v=null,i=new O(f.x-M*w,f.y-.82*M,2*M*w,2*M*w),s=new z(this.element.font.name,1,k.Bold,Tu.Point);for(let t=0;t<this.iterations.length;t++){let e=_o.getFontSize(g,i,T[t],s);(null==v||v>e)&&(v=e)}F<this.minFontSize&&(y=0,F=0,M=e/2*.8);let D=2*M,A=M/5,I=M-A,R=2*I,E=!1;g.pushClip(p);for(let c=0;c<this.iterations.length;c++){let e=S[c],t=(!E&&(1<e.right-p.right||1<e.bottom-p.bottom)&&(E=!0),e.x+e.width/2),r=e.y+y+(f.height-y)/2,m=new fl(t,r),d=new O(m.x-M,m.y-M,D,D),i=new O(m.x-I,m.y-I,R,R),s=this.processTrackColor(this.style.trackColor,this.iterations[c]),n=new iu(s,A),l=(g.drawEllipse(n,d.x+A/2,d.y+A/2,d.width-A,d.height-A),x[c]),a=0!=l?360/l*Math.abs(this.iterations[c].value):0,o=-90,u=(360<a&&(a=360),new P),h=(u.add(new Im(d,o,a)),u.add(new Ko(this.getPoint(m,M,o+a),this.getPoint(m,I,o+a))),u.add(new Im(i,o+a,-a)),u.add(new Ko(this.getPoint(m,I,o),this.getPoint(m,M,o))),this.processColor(this.getColor(c),this.iterations[c]));if(g.fillPath(h,u,d,null),v>=this.minFontSize){let e=new O(m.x-M*w,m.y-.82*M,2*M*w,2*M*w),t=T[c],r=new z(this.element.font.name,v,k.Bold,Tu.Point),i=this.processFontStyle(r,this.iterations[c]),s=new Jo(r.name,r.size,i,Tu.Point),n=this.processForeColor(this.iterations[c]);g.drawRotatedString5(t,s,n,e,_o.getStringFormatGeom(g),Wo.CenterCenter,0,!0)}if(F>=this.minFontSize){let e=new O(m.x-b/2,d.top-y,b,y),t=new z(C.fontFamily.name,F,C.style,C.unit),r=this.processFontName(t.fontFamily.name,this.iterations[c]),i=this.processFontStyle(t,this.iterations[c]),s=new z(r,t.size,i),n=new Jo(s.fontFamily.name,F,s.style,s.unit),l=Wo.CenterCenter,a=new fl,o={ref:Wo.CenterCenter},u={ref:new fl},h=(_o.measureAlignmentParameters(V.Center,e,o,u),l=o.ref,a=u.ref,this.processForeColor(this.iterations[c]));g.drawRotatedString4(this.iterations[c].series,n,h,a,_o.getStringFormatGeom(g),l,0,!0)}}if(E){let e=tu.factor(this.element);this.drawArrowMore(g,p,e)}g.popClip()}getPoint(e,t,r){let i=Math.PI*r/180;return new fl(e.x+Math.cos(i)*t,e.y+Math.sin(i)*t)}constructor(e,t){super(e,t)}},F.v.StiDataBarsProgressVisual=class extends F.v.StiProgressVisual{async draw(p,e){if(0==this.iterations.length)return;let t=.06*e.width,S=(t<4&&(t=4),new O(e.x+t/2,e.y+t/2,e.width-t,e.height-t)),w=S.height/this.iterations.length,f=(w<this.minElementSide&&(w=this.minElementSide),1<this.iterations.length?.95*w:w),C=S.width,s=this.getTextValues(),y=this.getTargetValues(),b=this.element.font,x=null,n=new z(b.fontFamily.name,1,b.style,b.unit);for(let i=0;i<this.iterations.length;i++){let e=``+this.iterations[i].series+s[i],t=new O(S.x,S.y+w*i+.07*f,C,.86*f),r=_o.getFontSize(p,t,e,n);(null==x||x>r)&&(x=r)}let T=this.element.font.size/18*x,F=(T>x&&(T=x),new z(b.fontFamily.name,T,b.style,b.unit)),M=(p.pushClip(S),1<this.iterations.length?.05*w/(this.iterations.length-1):0);for(let g=0;g<this.iterations.length;g++){let e=this.processFontName(F.fontFamily.name,this.iterations[g]),t=this.processFontStyle(F,this.iterations[g]),n=new z(e,F.size,t),r=y[g],i=S.y+(w+M)*g,l=new O(S.x,i,C,f),s=this.processTrackColor(this.style.trackColor,this.iterations[g]),a=(p.fillRectangle(s,l,null),0!=r?Math.abs(this.iterations[g].value)/r:0),o=Ei.formatAsPercentage2(this.element.report,this.element.textFormat,a),u=j.getForeColor(this.element);if(x>=this.minFontSize){let e=new Jo(b.fontFamily.name,T,n.style,n.unit),t=p.measureString(o,e),r=new O(l.right-t.width,l.top+.05*l.height,t.width,l.height);u=this.processForeColor(this.iterations[g]),p.drawRotatedString5(o,e,u,r,_o.getStringFormatGeom(p),Wo.CenterCenter,0,!0)}let h=this.iterations[g].series;if(x>=this.minFontSize){let e=new Jo(b.fontFamily.name,T,n.style,n.unit),t=p.measureString(h,e),r=new O(l.left,l.top+.05*l.height,t.width,l.height);u=this.processForeColor(this.iterations[g]),p.drawRotatedString5(h,e,u,r,_o.getStringFormatGeom(p),Wo.CenterCenter,0,!0)}let m=0!=r?C/r*this.iterations[g].value:0,d=(m>l.width&&(m=l.width),new O(S.x,i,m,f)),c=(p.pushClip(d),this.processColor(this.getColor(g),this.iterations[g]));if(p.fillRectangle(c,d,null),x>=this.minFontSize){let e=new Jo(n.name,n.size,n.style,n.unit),t=p.measureString(o,e),r=new O(l.right-t.width,l.top+.05*l.height,t.width,l.height),i=this.isColorLight(c)?N.white:u,s=this.processForeColor(this.iterations[g],i);p.drawRotatedString5(o,e,s,r,_o.getStringFormatGeom(p),Wo.CenterCenter,0,!0)}if(x>=this.minFontSize){let e=new Jo(n.name,n.size,n.style,n.unit),t=p.measureString(h,e),r=new O(l.left,l.top+.05*l.height,t.width,l.height),i=this.isColorLight(c)?N.white:u,s=this.processForeColor(this.iterations[g],i);p.drawRotatedString5(h,e,s,r,_o.getStringFormatGeom(p),Wo.CenterCenter,0,!0)}p.popClip()}p.popClip()}isColorLight(e){return 0<600-e.r-e.g-e.b}constructor(e,t){super(e,t)}};{let e;(s=e=F.f.StiDashboardExportFormat||(F.f.StiDashboardExportFormat={}))[s["Pdf"]=0]="Pdf",s[s["Excel"]=1]="Excel",s[s["Data"]=2]="Data",s[s["Image"]=3]="Image",s[s["Html"]=4]="Html",s[s["Document"]=5]="Document"}let Rm=B.Report.Components.StiPageOrientation,Em=B.System.Drawing.Printing.PaperKind,km=B.Report.Dashboard.Export.IStiDashboardExportSettings,Lm=B.Report.Export.StiExportSettings;{class Cd extends Lm{constructor(){super(...arguments),this.renderBorders=!0,this.orientation=Rm.Landscape,this.paperSize=Em.A4,this.openAfterExport=!0}is(e){if(e instanceof B.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}implements(){return Cd.ImplementsStiDashboardExportSettings||(Cd.ImplementsStiDashboardExportSettings=[km]),Cd.ImplementsStiDashboardExportSettings}get isDesignMode(){return this.is(F.y.StiSvgDashboardExportSettings)&&this.as(F.y.StiSvgDashboardExportSettings).designMode}getExportFormat(){return F.z.StiExportFormatHelper.convert(this.format)}toParameters(){let e=super.toParameters();return e.Format=ue.getName(F.f.StiDashboardExportFormat,this.format),e.Orientation=ue.getName(Rm,this.orientation),e.PaperSize=ue.getName(Rm,this.paperSize),e}}F.y.StiDashboardExportSettings=Cd}let Vm=B.Report.Export.StiImageType,Bm=B.Report.Dashboard.Export.IStiImageDashboardExportSettings;{class _m extends F.y.StiDashboardExportSettings{constructor(e){super(),this.format=F.f.StiDashboardExportFormat.Image,this.imageType=Vm.Svg,this.scale=100,null!=e?this.imageType=e:this.renderSinglePage=!0}implements(){return _m.ImplementsStiImageDashboardExportSettings||(_m.ImplementsStiImageDashboardExportSettings=super.implements().concat([F.y.IStiSizeExportSettings,Bm])),_m.ImplementsStiImageDashboardExportSettings}get width(){return this._width}set width(e){this._width=e,this.paperSize=Em.Custom}get height(){return this._height}set height(e){this._height=e,this.paperSize=Em.Custom}toParameters(){let e=super.toParameters();return e.Format=ue.getName(F.f.StiDashboardExportFormat,this.format),e.ImageType=ue.getName(Vm,this.imageType),e.Width=0,e.Height=0,e}}F.y.StiImageDashboardExportSettings=_m}F.y.StiSvgDashboardExportSettings=class extends F.y.StiImageDashboardExportSettings{constructor(){super(...arguments),this.imageType=Vm.Svg,this.renderEmptyContent=!0}},F.y.StiHtmlDashboardExportSettings=class extends F.y.StiDashboardExportSettings{constructor(){super(...arguments),this.format=F.f.StiDashboardExportFormat.Html,this.imageQuality=200,this.scale=100,this.enableAnimation=!0}};let Nm=F.y.StiHtmlDashboardExportSettings,Pm=B.Report.Components.StiText,Om=F.h.StiTitleMeasureHelper,zm=F.y.StiSvgDashboardExportSettings,Hm=(F.z.StiTitleExportHelper=class{static async render(e,t,r){var r;let i=e.as(pe),s=F.p.StiElementControlPainter.getBorderContentRect(new O(0,0,t.width,t.height),t.border),n=null!=i?i.title:null;if(null==n||!n.visible||L.isNullOrEmpty(n.text))return s;let l=Om.measureTitle(i.title),a=l.width>s.width?s.width/l.width:1,o=l.height>s.height?s.height/l.height:1,u=Math.min(Math.abs(a),Math.abs(o)),h=N.transparent.equals(n.foreColor)?j.getTitleForeColor(e):n.foreColor,m=r.is(zm)||r.is(Nm),d=n.backColor==N.transparent?j.getBackColor(e,null,m):n.backColor,c=j.getBackColor(e,null,!0),g=(255!=c.a&&d.equals(c)&&(d=N.transparent),r.format==F.f.StiDashboardExportFormat.Html&&e.is(Dn)&&(s.x+=3,s.y+=3),new Pm),p=(g.name=e.name+`_Title`,g.clientRectangle=new O(s.x,s.y,s.width,l.height),g.text=await rt.parseAsync(n.text,e),g.font=ko.changeFontSize(n.font,n.font.size*u),g.horAlignment=this.convert(n.horAlignment),g.vertAlignment=Mt.Center,g.textBrush=new M(h),g.brush=new M(d),s.height-=g.height,s.y+=g.height,null==(r=e.as(De))?void 0:r.cornerRadius);return null!=p&&(0<p.topLeft&&(g.margins.left=Math.max(g.margins.left,p.topLeft/2)),0<p.topRight&&(g.margins.right=Math.max(g.margins.right,p.topRight/2))),t.components.add(g),s}static convert(e){switch(e){case V.Left:return X.Left;case V.Center:return X.Center;case V.Right:return X.Right;default:throw new Nl(e)}}},F.z.StiLayoutExportHelper=class{static excludeMargin(t,r){if(t.is(Ge)){let e=t.margin;if(!e.isEmpty)return new O(r.x+e.left,r.y+e.top,Math.max(1,r.width-e.left-e.right),Math.max(1,r.height-e.top-e.bottom))}return r}static excludePadding(t,r){if(t.is(je)){let e=t.padding;if(!e.isEmpty)return new O(r.x+e.left,r.y+e.top,Math.max(1,r.width-e.left-e.right),Math.max(1,r.height-e.top-e.bottom))}return r}static excludeCornerRadius(n,l){if(n.is(De)){let e=n.cornerRadius;if(e.isDefault())return l;let t=Math.max(e.topLeft/2,e.bottomLeft/2),r=Math.max(e.topLeft/2,e.topRight/2),i=Math.max(e.topRight/2,e.bottomRight/2),s=Math.max(e.bottomLeft/2,e.bottomRight/2);if(n.is(je)){let e=n.padding;t=e.left>t?e.left:t-e.left,r=e.top>r?e.top:r-e.top,i=e.right>i?e.right:i-e.right,s=e.bottom>s?e.bottom:s-e.bottom}return new O(l.x+t,l.y+r,Math.max(1,l.width-t-i),Math.max(1,l.height-r-s))}return l}},B.Report.Components.IStiBorder),Xm=(F.z.StiBorderExportHelper=class{static render(e,t,r){e.is(We)&&t.is(Hm)&&r.renderBorders&&(t.border=e.border2.getBorder(),t.border.topmost=!0)}},F.z.StiBackColorExportHelper=class{static render(e,t){t.is(Qe)&&(t.backColor=j.getBackColor(e))}},B.Report.StiExportFormat),Gm=(F.z.StiExportFormatHelper=class{static convert(e){switch(e){case F.f.StiDashboardExportFormat.Pdf:return Xm.Pdf;case F.f.StiDashboardExportFormat.Excel:return Xm.Excel2007;case F.f.StiDashboardExportFormat.Html:return Xm.Html;case F.f.StiDashboardExportFormat.Data:return Xm.Data;case F.f.StiDashboardExportFormat.Image:return Xm.Image;case F.f.StiDashboardExportFormat.Document:return Xm.Document;default:throw new Nl(e)}}},B.Report.Dashboard.Export.IStiExcelDashboardExportSettings);{class $m extends F.y.StiDashboardExportSettings{constructor(){super(...arguments),this.format=F.f.StiDashboardExportFormat.Excel,this.imageQuality=200}implements(){return $m.ImplementsStiExcelDashboardExportSettings||($m.ImplementsStiExcelDashboardExportSettings=super.implements().concat([F.y.IStiSizeExportSettings,Gm])),$m.ImplementsStiExcelDashboardExportSettings}get width(){return this._width}set width(e){this._width=e,this.paperSize=Em.Custom}get height(){return this._height}set height(e){this._height=e,this.paperSize=Em.Custom}toParameters(){let e=super.toParameters();return e.Width=0,e.Height=0,e}}F.y.StiExcelDashboardExportSettings=$m}let jm=B.Report.Dashboard.Export.IStiPdfDashboardExportSettings;{class ed extends F.y.StiDashboardExportSettings{constructor(){super(...arguments),this.format=F.f.StiDashboardExportFormat.Pdf,this.imageQuality=200}implements(){return ed.ImplementsStiPdfDashboardExportSettings||(ed.ImplementsStiPdfDashboardExportSettings=super.implements().concat([jm])),ed.ImplementsStiPdfDashboardExportSettings}}F.y.StiPdfDashboardExportSettings=ed}let Jm=B.Report.Export.StiDataType,Wm=B.Report.Dashboard.Export.IStiDataDashboardExportSettings;{class Qm extends F.y.StiDashboardExportSettings{constructor(e){super(),this.format=F.f.StiDashboardExportFormat.Data,this.dataType=Jm.Csv,null!=e&&(this.dataType=e)}implements(){return Qm.ImplementsStiDataDashboardExportSettings||(Qm.ImplementsStiDataDashboardExportSettings=super.implements().concat([Wm])),Qm.ImplementsStiDataDashboardExportSettings}toParameters(){let e=super.toParameters();return e.DataType=B.System.Enum.getName(Jm,this.dataType),e}}F.y.StiDataDashboardExportSettings=Qm}let Um=B.Report.Export.StiHtmlChartType,Km=B.Report.Export.StiHtmlExportSettings,qm=B.Report.Export.StiDataExportSettings,Ym=B.Report.Export.StiImageExportSettings,Zm=B.Report.Export.StiSvgExportSettings,Qm=F.y.StiDataDashboardExportSettings,_m=F.y.StiImageDashboardExportSettings,$m=F.y.StiExcelDashboardExportSettings,ed=F.y.StiPdfDashboardExportSettings,td=B.Report.Export.StiDataExportMode,rd=B.Report.Export.StiPdfExportSettings,id=B.Report.Export.StiExcel2007ExportSettings;F.z.StiExportSettingsHelper=class{static getExportSettings(r){switch(r.format){case F.f.StiDashboardExportFormat.Pdf:{let e=new rd;return e.imageQuality=1,e.imageResolution=r.imageQuality,e}case F.f.StiDashboardExportFormat.Excel:{let e=new id;return e.imageQuality=1,e.imageResolution=r.imageQuality,e}case F.f.StiDashboardExportFormat.Data:{let e=new qm;return e.dataType=r.dataType,e.dataExportMode=td.DataAndHeadersFooters,e.skipColumnHeaders=!0,e}case F.f.StiDashboardExportFormat.Image:{let t=r.imageType;switch(t){case Vm.Svg:return new Zm;default:{let e=new Ym;return e.imageType=t,e.imageZoom=r.scale/100,e.imageResolution=100,e}}}case F.f.StiDashboardExportFormat.Html:{let e=new Km;return e.imageResolution=r.imageQuality,e.useEmbeddedImages=!0,e.zoom=r.scale/100,e.addPageBreaks=!1,e.chartType=r.enableAnimation?Um.AnimatedVector:Um.Vector,e}case F.f.StiDashboardExportFormat.Document:return null;default:throw new Nl(r.format)}}static getDashboardExportSettings(e){return this.getDashboardExportSettings2(e.getExportFormat())}static getDashboardExportSettings2(e){switch(e){case Xm.Pdf:return new ed;case Xm.Excel2007:return new $m;case Xm.Data:return new Qm;case Xm.Csv:return new Qm(Jm.Csv);case Xm.Dbf:return new Qm(Jm.Dbf);case Xm.Xml:return new Qm(Jm.Xml);case Xm.Json:return new Qm(Jm.Json);case Xm.Dif:return new Qm(Jm.Dif);case Xm.Sylk:return new Qm(Jm.Sylk);case Xm.Image:return new _m;case Xm.ImageBmp:return new _m(Vm.Bmp);case Xm.ImageGif:return new _m(Vm.Gif);case Xm.ImagePng:return new _m(Vm.Png);case Xm.ImageTiff:return new _m(Vm.Tiff);case Xm.ImageJpeg:return new _m(Vm.Jpeg);case Xm.ImageEmf:return new _m(Vm.Emf);case Xm.ImagePcx:return new _m(Vm.Pcx);case Xm.ImageSvgz:return new _m(Vm.Svgz);case Xm.ImageSvg:return new zm;case Xm.Html:return new Nm;case Xm.Document:return null;default:throw new Nl(e)}}static isDataExport(e){return e.is(Qm)||e.is($m)&&e.exportDataOnly}};{class cd{async render(e,t,r,i){}static getTool(e){let t=this.typeToTool.get(e);if(null!=t)return t;let r=Ke.attributes.get(e.stimulsoft().getTypeName()),i=null!=r?r.exportToolTypeName:null;if(null==i)return null;return t=hr.createObject2(i),this.typeToTool.set(e,t),t}}cd.typeToTool=new Na,F.A.StiExportTool=cd}let sd=B.System.Xml.XmlTextWriter,nd=B.Report.Components.StiImage;{class dd extends F.A.StiExportTool{async render(e,t,r,i){if(this.renderEmptyDataMessage(e,t,r.clone(),i))return;await this.renderContent(e,t,r.clone())}async renderContent(e,t,r){let i=new nd(r),s=(i.name=e.name+`_Content`,i.stretch=!0,i.aspectRatio=!1,await this.draw(e,r.clone()));i.imageToDraw=s,t.components.add(i)}async drawElement(t,e){let r=new na,i=new sd(Nn.UTF8),s=new Su;if(s.x=0,s.y=0,s.width=e.width,s.height=e.height,s.component=t.as(_e),t.is(Qe)){let e=j.getBackColor(t);e.a<255&&(e=N.white),i.writeStartElement("rect"),i.writeAttributeString("x","0"),i.writeAttributeString("y","0"),i.writeAttributeString("height",s.height.toString().stimulsoft().replaceAll(",",".")),i.writeAttributeString("width",s.width.toString().stimulsoft().replaceAll(",",".")),i.writeAttributeString("style",hu.writeFillBrush(i,e,new Se(0,0,s.width,s.height))),i.writeEndElement()}if(t.is(vh)){let e=B.Report.Dashboards.StiDashboardHelperCreator.createProgressVisualSvgHelper();null!=e&&await e.writeProgress(i,s)}else if(t.is(vu)){let e=B.Report.Dashboards.StiDashboardHelperCreator.createIndicatorVisualSvgHelper();null!=e&&await e.writeIndicator(i,s)}else if(t.is(Mh)){let e=B.Report.Dashboards.StiDashboardHelperCreator.createCardsVisualSvgHelper();null!=e&&await e.writeCards(i,s)}else if(t.is(Rh)){let e=B.Report.Dashboards.StiDashboardHelperCreator.createGaugeVisualSvgHelper();null!=e&&await e.writeGauge(i,s,!1)}let n=B.Report.Resources.StimulsoftFont.getBase64Content(),l="<style>@font-face {font-family: 'Stimulsoft';src: url(data:font/ttf;base64,"+n+") format('truetype');font-weight: normal;font-style: normal;}</style>",a=L.format(
'<svg xmlns="http://www.w3.org/2000/svg" style="width: {0}; height: {1}"><defs>{3}</defs><rect x="0" y="0" width="{0}" height="{1}" style="fill: white;"/>{2}</svg>',s.width.toString(),s.height.toString(),i.textWriter.getStringBuilder().toString(),l);return r.svg=a,await r.convertAsync(B.System.Drawing.Imaging.ImageFormat.Jpeg),r}async draw(t,e){if(t.is(Ih)){let e=await t.imageToDraw;return null!=e&&(e.url=t.imageHyperlink),e}if(t.is(vu)||t.is(vh)||t.is(Rh)||t.is(Mh))return this.drawElement(t,e);let r=new O(0,0,e.width,e.height),i=new na;try{if(t.is(Qe)){let e=j.getBackColor(t);e.a<255&&(e=N.white)}await this.paintContent(null,r,t)}catch(e){}return i}async paintContent(e,t,r){try{await this.paintAtom(e,t.clone(),r)}catch(e){}finally{}}async paintAtom(e,t,r){let i=null;if(r.isQuerable&&null==(i=await dd.getDataTable(r)))return}static async getDataTable(e){var t;let r=null==(t=e.as(uu))?void 0:t.getManuallyEnteredDataTable();if(null!=r)return r;return Jn.tryToGetOrCreate(e)}renderEmptyDataMessage(t,r,i,e){var e;if(!e.is(zm)||e.renderEmptyContent)return!1;if(t.is(so)&&t.dataFrom==io.Manual)return!1;if(t.is(ua)&&(null!=t.image||null!=t.icon||!L.isNullOrEmpty(t.imageHyperlink)))return!1;if(0<t.getMeters().length||(null==(e=t.as(uu))?void 0:e.dataMode)==ln.ManuallyEnteringData)return!1;let s=i.size,n=new z("Arial",9),l=t.is(ua)?c.get("Dashboard","ImageNotSpecified"):c.get("Dashboard","DragDropDataFromDictionary"),a=pu.measureString(l,n);if(i.y+=i.height/2-48,i.height=Math.min(32,i.height),48<=s.width&&64<=s.height){i.y+=s.width>a.width+16?16:32;let e=new nd(i);e.name=t.name+`_EmptyImage`,e.horAlignment=V.Center,r.components.add(e)}if(s.width>a.width+16&&32<=s.height){i.y+=32;let e=new Pm(i);e.name=t.name+`_EmptyText`,e.horAlignment=X.Center,e.vertAlignment=Mt.Center,e.font=n,e.text=l,e.textBrush=new M(N.darkGray),r.components.add(e)}return!0}format(e,t){var r,r;if(null!=t&&null!=e){if(t instanceof w&&!e.textFormat.is(Fr))return t.toShortDateString();return Xr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Xr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):e.textFormat.format(t)}return""}}F.A.StiElementExportTool=dd}let y=F.i.StiChartElementBuilder,ld=(F.A.StiChartElementExportTool=class extends F.A.StiElementExportTool{async render(e,t,r,i,s){if(this.renderEmptyDataMessage(e,t,r.clone(),i))return;let n=e.as(Eh),l=null,a=(0<n.chartValuesList().length&&(l=await F.A.StiElementExportTool.getDataTable(n)),await y.create(n).render(n,l));for(let e=0;e<a.series.count;e++){if(null==s||e>=s.length)break;a.series.getByIndex(e).valuesStart=s[e]}a.name=e.name+`_Content`,a.clientRectangle=r.clone(),t.components.add(a)}},F.h.StiGaugeVisualSvgHelper),ad=(F.A.StiGaugeElementExportTool=class extends F.A.StiElementExportTool{async render(e,l,t,r){if(this.renderEmptyDataMessage(e,l,t.clone(),r))return;let a=e.as(Rh),o=await F.A.StiElementExportTool.getDataTable(e),u=(new Ql).render2(a,t.size,o);if(1!=(await u()).count2()||r.is($m)||r.is(ed)){if(0<(await u()).count2())if(r.isDesignMode||r.format!=F.f.StiDashboardExportFormat.Html)await this.renderContent(e,l,t.clone());else{let i=0,s=Dm.getLocationRectangles(t,(await u()).count2(),a),n=s[0].clone();for(let r of await(u=(new Ql).render2(a,n.size,o))()){let e=s[i].clone(),t={ref:0};L.isNullOrEmpty(r.series)||(await this.renderSingleGaugeTitleFromIteration(a,l,r,e,n,u,i,t),e.height-=t.ref,e.y+=t.ref),this.renderSingleGaugeFromIteration(a,l,r,e,i),i++}}}else this.renderSingleGaugeFromIteration(a,l,(await u()).firstOrDefault(),t)}renderSingleGaugeFromIteration(e,t,r,i,s=0){let n=r.gauge;n.name=e.name+`_Content`+s,n.clientRectangle=i,n.style=j.getGaugeStyle(e),n.customStyleName=e.customStyleName,n.brush=new M(j.getBackColor(e,null,!0)),t.components.add(n)}async renderSingleGaugeTitleFromIteration(l,a,e,o,t,r,u,h){let m=e.series,i=await ld.getTitleHeight(null,r,o,l,null),d=await ld.getTitleMinFontSize(null,r,l.font,t.width,t.height);if(h.ref=i||0,null!=i){let e=new O(o.x,o.y,o.width,h.ref),t=ko.changeFontSize(l.font,d),r=Om.measureTitle4(null,e,l.font,m),i=(e.height=r.height,ul.getForeColor(l,l.foreColor)),s=N.transparent.equals(i)?j.getForeColor(l):i,n=new Pm(e);n.name=l.name+`_ContentTitle`+u,n.brush=new M(N.transparent),n.text=m,n.font=t,n.textBrush=new M(s),n.horAlignment=X.Center,a.components.add(n)}}},F.A.StiImageElementExportTool=class extends F.A.StiElementExportTool{async render(e,t,r,i){if(this.renderEmptyDataMessage(e,t,r.clone(),i))return;await this.renderContent(e,t,r.clone())}async renderContent(e,t,l){let a=e.as(Ih),o=await this.draw(a,l.clone()),u=(null==o?void 0:o.imageFormat)==B.System.Drawing.Imaging.ImageFormat.Svg;if(a.aspectRatio&&null!=o){let e=u?1:l.width/o.width,t=u?1:l.height/o.height,r=(e=t=e<t?e:t,(u?l:o).width*(e=t)),i=(u?l:o).height*t,s=this.calculateHorAlignmentPosition(a,l,r),n=this.calculateVertAlignmentPosition(a,l,i);l=new O(s,n,r,i)}let r=new nd(l);r.name=a.name+`_Content`,r.stretch=!0,r.aspectRatio=!1,r.imageToDraw=o,t.components.add(r)}calculateHorAlignmentPosition(e,t,r){switch(e.horAlignment){case V.Left:return t.x;case V.Right:return t.right-r;default:return t.x+(t.width-r)/2}}calculateVertAlignmentPosition(e,t,r){switch(e.vertAlignment){case Mt.Top:return t.y;case Mt.Bottom:return t.bottom-r;default:return t.y+(t.height-r)/2}}},F.A.StiImageElementExportTool),od=F.A.StiGaugeElementExportTool,ud=F.A.StiChartElementExportTool,hd=F.z.StiExportSettingsHelper,md=F.z.StiExportFormatHelper,dd=F.A.StiElementExportTool,cd=F.A.StiExportTool,gd=F.z.StiTitleExportHelper,pd=F.z.StiBackColorExportHelper,Sd=F.z.StiBorderExportHelper,wd=F.z.StiLayoutExportHelper,fd=B.Base.IStiReport,Cd=F.y.StiDashboardExportSettings;{class Zc{static exportAsync(t,r,i){setTimeout(async function(){let e=await Zc.export(r,i);t(e)})}static export(e,t){let r;return r=t instanceof Cd?t:t instanceof Lm?F.z.StiExportSettingsHelper.getDashboardExportSettings(t):F.z.StiExportSettingsHelper.getDashboardExportSettings2(t),this.exportToStream(e,r)}static async exportToStream(e,r){let s=new rh,i=(s.isDocument=!0,s.reportUnit=th.HundredthsOfInch,s.renderedPages.getByIndex(0)),t=(i.orientation=r.orientation,i.paperSize=r.paperSize,(r.is($m)||r.is(Qm)||r.is(_m))&&(i.margins=new ee(0)),r);if("width"in r&&null!=t&&0<t.width&&0<t.height&&(i.width=t.width,i.height=t.height),e.is(fd)){let t=e.fetchPages().where(e=>e.is(he)).cast();for(let e=0;e<t.length;e++)0<e&&(i=i.clone(!0,!1),s.renderedPages.add(i)),await this.renderDashboardAsync(i,t[e],r)}else e.is(he)?(e.report&&s.dictionary.resources.addRange(e.report.dictionary.resources),await this.renderDashboardAsync(i,e,r)):e.is(oe)&&(s.reportAlias=e.name,e.is(so)&&s.dictionary.resources.addRange(e.report.dictionary.resources),await this.renderSingleElementAsync(i,e,r));for(let i of s.renderedPages.list)i.components.toList().where(e=>e.is(x)).cast().forEach(e=>{let t=i.components.indexOf(e)+1,r=e.getComponentsList();for(let e=0;e<r.length;e++)r[e].page=i,r[e].setDirectDisplayRectangle(r[e].componentToPage(r[e].displayRectangle)),i.components.insert(t+e,r[e]);e.components.clear()});let n,l=null==r?Xm.Document:md.convert(r.format);if(l==Xm.Document)n=B.System.Text.Encoding.UTF8.getBytes(s.saveDocumentToJsonString());else{let e=hd.getExportSettings(r),t=await s.exportDocumentAsync2(l,null,e);n="string"==typeof t?B.System.Text.Encoding.UTF8.getBytes(t):"undefined"!=typeof Buffer&&Buffer.isBuffer(t)?t.toJSON().data:t}return n}static async renderDashboardAsync(e,t,r){if(null==t)return;null!=r&&(r.renderSinglePage=!0,r.renderSingleElement=!1);let i=t.as(kh),s=await i.getElements(!1).whereAsync(async e=>e.isEnabledAsync()),n=e.width/i.width,l=e.height/i.height;r.renderSingleElement=!1,e.brush=new M(j.getDashboardBackColor(t,!1)),await this.renderElementsAsync(e,s,n,l,r)}static async renderSingleElementAsync(e,t,r){if(null==t||!await t.isEnabledAsync())return;r.renderSingleElement=!0,e.brush=new M(j.getBackColor(t));let i=t.as(_e),s=e.width/i.width,n=e.height/i.height,l=await this.renderElementAsync(e,t,s,n,r),a=hd.isDataExport(r),o=t.margin;l.left=a?0:o.left,l.top=a?0:o.top}static async renderElementsAsync(i,t,s,n,l){l.renderSingleElement=!1;for(let e of t){let t=await this.renderElementAsync(i,e,s,n,l),r=e.as(Ze);if(null!=r){let e=r.getComponents().toList().where(e=>e.is(oe)).cast();await this.renderElementsAsync(t,e,s,n,l)}}}static async renderElementAsync(e,t,r,i,s,n,l={ref:new B.System.Drawing.Rectangle},a=new P){let o=t.as(_e),u=hd.isDataExport(s),h=Math.round(o.left*r),m=Math.round(o.top*i),d=Math.round(o.right*r),c=Math.round(o.bottom*i),g=new O(h,m,d-h,c-m);if(u||(g=wd.excludeMargin(t,g)),o.parent.is(Ze)){let e=o.parent;g.x-=e.margin.left,g.y-=e.margin.top}let p=new Ue(g),S=(p.name=t.name,u||(p.brush=new M(j.getBackColor(t,null,s.is(zm)||s.is(Nm)))),e.components.add(p),null!=p.report&&null!=t.report&&(p.report.styles.clear(),p.report.styles.addRange(t.report.styles)),g=await gd.render(t,p,s),u||(Sd.render(t,p,s),pd.render(t,p),g=wd.excludePadding(t,g),g=wd.excludeCornerRadius(t,g),l.ref=g),cd.getTool(fe.getType(t)));return(S=null==S?new dd:S).stimulsoft().is(ud)&&s.is(Nm)?(t.previousAnimations=a,await S.render(t,p,g.clone(),s,n)):(S.stimulsoft().is(od)&&s.is(Nm)?t.previousAnimations=a:S.stimulsoft().is(ad),await S.render(t,p,g.clone(),s)),p}}F.f.StiDashboardExportTools=Zc}let yd=B.Report.Dashboard.Helpers.StiBorderElementHelper,bd=(F.p.StiElementControlPainter=class{static getBorderContentRect(e,t){return yd.getBorderContentRect3(e.clone(),t,ja.factor,!1)}},F.p.StiLocHelper=class{static get locAll(){return`(${c.get("Report","RangeAll").stimulsoft().replaceAll("& ","")})`}},B.System.Drawing.StringFormat),xd=B.System.Drawing.StringFormatFlags,Td=(F.C.StiIndicatorCellPainter=class{static draw(e,t,r,i,s,n,l,a=!0){let o=this.getCellText(r,i,n);this.draw2(e,t.clone(),r,i,s,n,l,o,a)}static draw2(r,i,s,n,l,a,o,u,e=!0){let t=this.measureText(l,u,s.font),h=this.calculateIndicatorRect(i.clone(),n,l,t);if(this.drawIndicator(r,h,a,o),e){let e=this.calculateTextRect(i.clone(),n),t=this.getColor(n,a,o);this.drawText(r,e,n,l,u,s.font,t)}}static drawIndicator(n,l,a,e){let o=Math.min(l.width,l.height);if(null==a||0==a)n.fillRectangle(new Se(l.x+(l.width-o)/2,l.y+(l.height-4)/2,o,5),N.lightGray);else{let e=.75*o,t=(l=new O(l.x+(l.width-o)/2,l.y+(l.height-e)/2,o,e)).width/2,r,i,s;s=0<a?(r=new fl(l.left+t,l.top),i=new fl(l.left,l.bottom),new fl(l.right,l.bottom)):(r=new fl(l.left+t,l.bottom),i=new fl(l.left,l.top),new fl(l.right,l.top)),n.fillPolygon([r,i,s],0<a?N.green:N.red)}}static drawText(e,t,r,i,s,n,l){if(L.isNullOrWhiteSpace(s))return;t.width-=2;let a=new bd,o=J.Table.Font.getGdiFont(i,null,n);a.lineAlignment=Ns.Center,a.alignment=this.toAlignment(r),a.trimming=zo.None,a.formatFlags|=xd.NoWrap,e.drawString(s,o,l,t.clone(),a)}static measureText(e,t,r){if(L.isNullOrWhiteSpace(t))return 0;let i=J.Table.Font.getGdiFont(e,null,r);return Go.measureString(null,t,i).width}static calculateIndicatorRect(t,e,r,i){let s=16*r;switch(this.getHorAlignment(e)){case V.Left:t=new O(t.x,t.y,s,t.height);break;case V.Right:t=new O(t.right-s,t.y,s,t.height);break;case V.Center:{let e=i+s;t=new O(t.right-(t.width-e)/2-s,t.y,s,t.height);break}}return t.inflate(-4*r,-4*r),t}static getCellText(e,t,r){if(null==r)return"";return Ei.formatAsPercentage2(e.report,t.textFormat,r)}static calculateTextRect(e,t){let r=e.width/4;switch(this.getHorAlignment(t)){case V.Left:return new O(e.x+r,e.y,e.width-r,e.height);case V.Right:return new O(e.x,e.y,e.width-r,e.height);case V.Center:return new O(e.x,e.y,e.width,e.height)}return e}static getColor(e,t,r){if(!N.transparent.equals(e.foreColor))return e.foreColor;if(0<t)return r.cellIndicatorPositive;if(t<0)return r.cellIndicatorNegative;return r.cellIndicatorNeutral}static toAlignment2(e){if(e.stimulsoft().is(Ns))return e;let t=e.stimulsoft().as(rr);if(null==t)return Ns.Center;return this.toAlignment(t.horAlignment)}static toAlignment(e){switch(e){case V.Left:return Ns.Near;case V.Center:return Ns.Center;case V.Right:return Ns.Far}return Ns.Center}static getHorAlignment(e){let t=e;return null!=t?t.horAlignment:V.Right}},F.C.StiIndicatorCellPainter),Fd=B.Data.Engine.StiDataSortRuleHelper;{class qd{static getBackgroundColor(e,t){return t?e.alternatingCellBackColor:e.cellBackColor}static measureColumn(e,t,r,i,s){let n,l=J.Table.getHeight(r.font,r.zoom);if(i.is2(Ii))n=this.measureSparklinesCell(r,0,r.zoom);else if(i.is2(vi))n=this.measureIndicatorCell(e,r,i,s,r.zoom);else if(i.is2(Ai))n=this.measureDataBarsCell(e,r,i,s,r.zoom);else if(i.is2(fi))n=this.measureBubbleCell(e,r,i,s,r.zoom);else if(Uo.isImage(s))return new G(0,J.Table.getHeight(r.font,r.zoom));return new G(n.width,Math.max(n.height,l))}static getArrowSize(e,t){let r=J.Table.getHeight(e.headerFont,e.zoom),i=Fd.getSortDirection(e.userSorts,t.key);if(i!=fu.None)return new G(1.5*r,r);return G.empty}static getRightImageRect(e,t,r){let i=r.width*e.zoom,s=r.height*e.zoom;return new O(t.right-3-i,t.y+(t.height-s)/2,i,s)}static measureSparklinesCell(e,t,r){return new G(Math.max(t,80*r),0)}static measureIndicatorCell(e,t,r,i,s){let n=r,l=Td.getCellText(t,n,v.tryToNullableNumber(i)),a=this.measureCell2(e,l,t.font);return a.width=(a.width+4)*s*1.25,a}static measureDataBarsCell(e,t,r,i,s){let n=Ei.formatBasedOnColumnType(t,r,i),l=this.measureCell2(e,n,t.font);return l.width*=s,r.horAlignment!=V.Center&&(l.width*=2),l}static measureBubbleCell(r,i,s,n,e){let l=J.Table.getHeight(i.font,i.zoom);if(s.horAlignment==V.Center)return l-=2,new G(l,J.Table.getHeight(i.font));{let e=Ei.formatBasedOnColumnType(i,s,n),t=this.measureCell2(r,e,i.font);return t.width+=l,t}}static measureCommonCell(e,t,r,i,s,n){let l=Ei.formatBasedOnColumnType(t,r,i),a=new G(s,0);return Uo.isImage(l)||((a=this.measureCell2(e,l,t.font)).width*=n,a.height*=n),a}static measureHeader(e,t){return this.measureHeader2(null,e,t)}static measureHeader2(e,t,r){let i=zu.getLabel(r),s=this.measureCell2(e,i,t.headerFont);return s.width+=36,s}static measureCell(e,t){return this.measureCell2(null,e,t)}static measureCell2(e,t,r){let i=new G(8,J.Table.getHeight(r));if(L.isNullOrEmpty(t))return i;let s=r.stimulsoft().getHashCode().toString()+t;if(this.captionSizeCache.contains(s)){let e=this.captionSizeCache.get(s);return i.width=e.width,i.height=e.height,i}let n=J.Table.Font.getGdiFont(1,null,r),l=pu.measureString(t,n,1e6);return i.width=l.width,i.height=l.height,this.captionSizeCache.set(s,l),i}static measureHeaders(t,e){let i=J.Table.Font.getGdiFont(1,null,e),s=new G(8,J.Table.getHeight(i));for(let e of t){let t=new G(8,0),r=zu.getLabel(e);if(!L.isNullOrEmpty(r)){let e=pu.measureString(r,i,1e6);t.width+=e.width}s.width+=t.width}return s.width}}qd.captionSizeCache=new Na,F.q.StiTableElementGdiPainter=qd}let Md=B.System.Drawing.SolidBrush,vd=(F.C.StiBubbleCellPainter=class{static draw(s,e,t,n,r,l,i,a,o,u,h=!0){if(0==l)return;let m=Ei.formatBasedOnColumnType(t,n,l),d=(0<i&&(i=0),a<0&&(a=0),n.horAlignment),c=e,g=(c.inflate(-2,-2),this.calculateTextRect(t,c,n)),p=(c=this.calculateBubbleRect(t,c,n,Math.abs(l),i,a),j.getTableStyle(t)),S=this.getForeColor(t,n,p,o,u);if(h&&d!=V.Center&&s.drawString(m,t.font,S,g,null),0<c.width&&0<c.height){let e=n.as(fi),t=e.allowCustomColors?e.positiveColor:p.cellDataBarsPositive,r=e.allowCustomColors?e.negativeColor:p.cellDataBarsNegative,i=new Md(l<0?r:t);s.fillEllipse(c,i)}}static getForeColor(e,t,r,i,s){if(!N.transparent.equals(t.foreColor))return t.foreColor;if(!N.transparent.equals(e.foreColor))return e.foreColor;if(i)return r.alternatingCellForeColor;return s?null!=r?r.selectedCellForeColor:J.Table.Font.Color:null!=r?r.cellForeColor:J.Table.Font.Color}static calculateBubbleRect(e,t,r,i,s,n){let l=r;if(null==l)return t;let a=J.Table.getHeight(e.font,e.zoom),o=(a-=2,Math.max(Math.abs(s),Math.abs(n))),u=Math.abs(a*i/o);switch(l.horAlignment){case V.Left:return new Se(t.right-a+(a-u)/2,t.y+(t.height-u)/2,u,u);case V.Center:return new Se(t.x+(t.width-u)/2,t.y+(t.height-u)/2,u,u);case V.Right:return new Se(t.x+(a-u)/2,t.y+(t.height-u)/2,u,u)}return t}static calculateTextRect(t,r,e){let i=e;if(null!=i){let e=J.Table.getHeight(t.font,t.zoom);switch(i.horAlignment){case V.Left:r=new Se(r.x,r.y,r.width-e,r.height);break;case V.Right:r=new Se(r.x+e,r.y,r.width-e,r.height);break}}return r.inflate(-2,-2),r}static getCellText(e,t,r){return Ei.formatBasedOnColumnType(e,t,r)}},F.C.StiColorScaleCellPainter=class{static getScaleColor(t,r,i,e,s,n){let l=(i-r)/2,a=(t=Math.min(t,i),t=Math.max(t,r),0),o,u,h=e.cellBackColor;if(l<t){let e=i-l;u=0!=e?(a=(t-l)/e,o=N.fromArgb(255,h),N.fromArgb(255,n)):(o=N.lightGray,N.lightGray)}else{let e=l-r;u=0!=e?(a=t/e,o=N.fromArgb(255,s),N.fromArgb(255,h)):(o=N.lightGray,N.lightGray)}let m=(u.a-o.a)*a+o.a,d=(u.r-o.r)*a+o.r,c=(u.g-o.g)*a+o.g,g=(u.b-o.b)*a+o.b;return m=Math.min(m,255),d=Math.min(d,255),c=Math.min(c,255),g=Math.min(g,255),m=Math.max(m,0),d=Math.max(d,0),c=Math.max(c,0),g=Math.max(g,0),N.fromArgb(Math.round(m),Math.round(d),Math.round(c),Math.round(g))}},F.K.StiDataBarsDirection),Dd=F.K.StiDataBarsBrushType,Ad=B.Base.Drawing.StiGradientBrush,Id=(F.C.StiDataBarsCellPainter=class{static draw(e,t,r,i,s,n,l,a,o,u,h=!0,m=vd.LeftToRight,d=Dd.Solid){let c=Ei.formatBasedOnColumnType(r,i,n);this.draw2(e,t,n,l,a,s,c,r,i,o,u,h,m,d)}static draw2(s,e,n,t,r,i,l,a,o,u,h,m=!0,d=vd.LeftToRight,c=Dd.Solid){if(null==n||0==n)return;0<t&&(t=0),r<0&&(r=0);let g=o.horAlignment,p=e,S=(p.inflate(-2,-2),this.calculateTextRect(p,o)),w=(p=this.calculateDataBarsRect(p,o),j.getTableStyle(a)),f=this.getForeColor(a,o,w,u,h),C=(m&&s.drawString(l,a.font,f,S,null),g!=V.Center&&s.fillRectangle(p,N.fromArgb(40,w.cellDataBarsPositive)),r+Math.abs(t)),y=p.width*Math.abs(t)/C,b=p.width*r/C,x=p.width*Math.abs(n)/C,T=x>b,F=(T&&(x=b),0);if(d==vd.LeftToRight?p.x+=n<0?y-x:y:(F=180,p.x=n<0?p.right-y:p.right-y-x),p.width=x,n<0&&(F+=180),0<p.width&&0<p.height){if(c==Dd.Gradient){let i;if(i=d==vd.LeftToRight?0<n?new Se(e.left+y,e.top,b,e.height):new Se(e.left,e.top,y,e.height):n<0?new Se(e.left+b,e.top,y,e.height):new Se(e.left,e.top,b,e.height),0<p.width&&p.width<1&&(p.width=1),0<i.width&&i.width<1&&(i.width=1),0<i.width&&0<p.width){let e=n<0?w.cellDataBarsNegative:w.cellDataBarsPositive,t=ku.light(e,200),r=(i.x-=.1*i.width,i.width+=.2*i.width,new Ad(e,t,F));s.fillRectangle(p,r)}}else{let e=n<0?w.cellDataBarsNegative:w.cellDataBarsPositive;s.fillRectangle(p,e)}if(T){let e=w.cellDataBarsOverlapped,t=new Se(p.right-6*i,p.y,6*i,p.height);s.fillRectangle(t,e)}g==V.Center&&s.drawString(l,a.font,N.white,S,null)}}static getForeColor(e,t,r,i,s){if(!N.transparent.equals(t.foreColor))return t.foreColor;if(!N.transparent.equals(e.foreColor))return e.foreColor;if(i)return r.alternatingCellForeColor;return s?null!=r?r.selectedCellForeColor:J.Table.Font.Color:null!=r?r.cellForeColor:J.Table.Font.Color}static calculateDataBarsRect(e,t){let r=t;if(null==r)return e;switch(r.horAlignment){case V.Left:return new Se(e.right-e.width/2,e.y,e.width/2,e.height);case V.Right:return new Se(e.x,e.y,e.width/2,e.height)}return e}static calculateTextRect(e,t){let r=t;if(null!=r)switch(r.horAlignment){case V.Left:e=new Se(e.x,e.y,e.width/2,e.height);break;case V.Right:e=new Se(e.right-e.width/2,e.y,e.width/2,e.height);break}return e.inflate(-2,-2),e}},F.C.StiSparklinesCellPainter=class{static draw(e,t,r,i,s){}static castToArray(e){return un.isArray(e)?e:null}},F.y.IStiSizeExportSettings=new B.System.Interface("IStiSizeExportSettings"),B.Report.Dashboard.IStiControlElement),Rd=F.p.StiLocHelper,Ed=F.R.StiComboBoxHelper,kd=(F.A.StiComboBoxElementExportTool=class extends F.A.StiElementExportTool{async render(i,s,n,e){var r,t,l,a;if(0==i.getMeters().length)return;let o=await Jn.tryToGetOrCreate(i);if(null==o)return;let u=new Na;if(1<o.meters.countItems)for(let t of o.rows){let e=null==(r=t[1])?void 0:r.stimulsoft().toString();L.isNullOrWhiteSpace(e)||u.set(e,t[0])}let h=i,m=i,d="";if(h.selectionMode==Hn.One)if(m.userFilters.any())d=m.userFilters[0].value,d=null!=(t=u.get(d))?t:d;else if(h.showAllValue)d=Rd.locAll;else{let e=o.rows.firstOrDefault();null!=e&&0<e.length&&null!=e[0]&&(d=e[0].toString())}if(this.renderElement(s,i,n,this.format(i.as(Id),d)),h.selectionMode==Hn.Multi){let t=n;if(m.userFilters.any()){let r=m.userFilters;if(r.all(e=>e.condition==Ti.NotEqualTo)){r=new P;for(let e of o.rows){let t=null==(l=e[1])?void 0:l.stimulsoft().toString();if(m.userFilters.any(e=>e.value==t))continue;r.add(new p(null,null,Ti.EqualTo,t))}}for(let e of r){if(!(t.x+t.width<=n.x+n.width)){while(1<s.components.count)s.components.removeAt(1);this.renderItem(s,i,n,L.format(c.get("Dashboard","NSelected"),m.userFilters.length));break}(t=this.renderItem(s,i,t,this.format(i.as(Id),null!=(a=u.get(e.value))?a:e.value))).x+=t.width+4}}else if(h.showAllValue)this.renderItem(s,i,n,Rd.locAll);else{let e=this.getValuesCount(i,o);this.renderItem(s,i,n,L.format(c.get("Dashboard","NSelected"),e))}}}getValuesCount(e,t){let r=e.as(fh),i=Ed.fetchItems(r,t,r.showBlanks);return null!=i?i.length:0}renderElement(e,t,r,i){let s=j.getForeColor(t),n=j.getBackColor(t),l=new Pm(r);l.name=t.name+`_ComboBox`,l.allowHtmlTags=!0,l.vertAlignment=Mt.Center,l.horAlignment=X.Left,l.textBrush=new M(s),l.brush=new M(n),l.text=this.format(t.as(Id),i),e.components.add(l)}renderItem(e,t,r,i){let s=j.getControlStyle(t),n=new Pm,l=(n.name=t.name+`_ComboBoxItem`,n.allowHtmlTags=!0,n.vertAlignment=Mt.Center,n.horAlignment=X.Center,n.textBrush=new M(s.selectedForeColor),n.brush=new M(s.selectedBackColor),n.text=this.format(t.as(Id),i),e.components.add(n),pu.measureString(i,n.font));return n.clientRectangle=new O(r.x,r.y,l.width+4,r.height)}},F.Q.StiDatePickerHelper),Ld=(F.A.StiDatePickerElementExportTool=class extends F.A.StiElementExportTool{async render(t,r,i,e){let s=t;if(null==s.getValueMeter())return;let n=await Jn.tryToGetOrCreate(t),l=j.getForeColor(t),a=j.getBackColor(t);this.storedCulture=null;try{null==t.report||L.isNullOrWhiteSpace(t.report.culture)||(this.storedCulture=Hr.currentCulture,Hr.currentCulture=new Hr(t.report.culture))}finally{let e=new Pm(i);e.name=t.name+`_Content`,e.allowHtmlTags=!0,e.vertAlignment=Mt.Center,e.textBrush=new M(l),e.brush=new M(a),e.text=this.getDateTimeString(s,n),e.font=s.font,r.components.add(e),null!=this.storedCulture&&(Hr.currentCulture=this.storedCulture)}}getDateTimeString(r,e){var t,t;let i=kd.getDefaultValue(r);if(tl.isVariableSpecifiedAsExpression(r,null==(t=null==r?void 0:r.valueMeter)?void 0:t.expression)){let e=null==(t=kd.getVariableSpecifiedAsValue(r))?void 0:t.as(ws);if($n.isRangeType(null==e?void 0:e.type)&&r.initialRangeSelectionSource==qn.Selection){let e={ref:null},t={ref:null};return kd.calculateRangeFromInitial(r.initialRangeSelection,e,t),this.getRangeVariableString(r,new _n(e.ref,t.ref))}return null!=i&&i.stimulsoft().is(_n)?this.getRangeVariableString(r,i):this.format(r,i)}if(r.userFilters.any()){let e=this.format(r,r.userFilters[0].value);return r.selectionMode!=Yn.AutoRange&&r.selectionMode!=Yn.Range||(e+=` - `+this.format(r,r.userFilters[0].value2)),e}return r.selectionMode==Yn.AutoRange?this.getAutoRangeColumnString(r,e):r.selectionMode==Yn.Range?this.getRangeColumnString(r):this.format(r,i)}getRangeVariableString(e,t){let r=null==t?void 0:t.stimulsoft().as(_n);return this.format(e,null==r?void 0:r.fromObject)+` - `+this.format(e,null==r?void 0:r.toObject)}getAutoRangeColumnString(r,e){if(null==e)return"";let i=e.rows.select(e=>e[0]).where(e=>null!=e&&e instanceof w);if(i.any()){let e=i.where(e=>e instanceof w).cast().min(),t=i.where(e=>e instanceof w).cast().max();return this.format(r,e)+` - `+this.format(r,t)}return""}getRangeColumnString(e){let t={ref:null},r={ref:null};return kd.calculateRangeFromInitial(e.initialRangeSelection,t,r),this.format(e,t.ref)+` - `+this.format(e,r.ref)}},F.P.StiListBoxHelper),Vd=B.Report.Components.StiCheckBox,Bd=B.Report.Components.StiCheckStyle,Nd=B.Report.Components.IStiShape;{class Qc extends F.A.StiElementExportTool{async render(e,s,t,r){if(this.renderEmptyDataMessage(e,s,t.clone(),r))return;let n=s.report,l=s.page,a=e.as(Ch),o=s.clone(!0,!1),u=(r.renderSinglePage||(t.height=Number.MAX_VALUE),await this.renderItems(o,t.clone(),e),0),h=s.top;0<o.components.count&&(h+=o.getComponentsList().stimulsoft().toList().min(e=>e.top));while(1){let e=o.getComponentsList(),i=0;for(let r of e){let e=r.bottom,t=r.left;r.is(Nd)&&(e+=J.ListBox.ItemHeight/3),null!=a?(a.orientation==bs.Vertical&&e<=s.height||a.orientation==bs.Horizontal&&t<=s.width||0==i)&&(o.components.remove(r),s.components.add(r)):e<=s.height&&(o.components.remove(r),s.components.add(r)),i++}if(r.renderSinglePage||0==o.components.count)break;let t=o.getComponentsList().stimulsoft().toList().min(e=>e.top);o.getComponentsList().forEach(e=>e.top=e.top-t+1),n.renderedPages.count<=++u&&n.renderedPages.add(l.clone(!0,!1)),l=n.renderedPages.getByIndex(u),s=s.clone(!0,!1),r.renderSingleElement?(s.top=0,s.left=0):s.top=h,l.components.add(s)}for(let e of s.report.renderedPages.list)e.getComponentsList().forEach(e=>{e.report=n,e.page=l})}static getCheckStyle(e,t){let r=e;if(!r.userFilters.any())return Bd.CheckRectangle;if(r.userFilters.any(e=>e.condition==Ti.IsFalse))return Bd.NoneRectangle;if(r.userFilters.any(e=>e.condition==Ti.EqualTo&&e.value==(null==t?void 0:t.toString())))return Bd.CheckRectangle;return Bd.NoneRectangle}async renderItems(r,i,s){let e=await Jn.tryToGetOrCreate(s);if(null==e)return;let t=s,n=Ld.fetchItems(t,e,t.showBlanks);if(null!=n){let e=n.select(e=>null==e?"":null==e.label&&null!=e.value&&e.value instanceof w?e.value.toShortDateString():e.toString()),t=n.select(e=>Qc.getCheckStyle(s,e));this.renderItems2(r,i.clone(),s,e,t)}}renderItems2(r,i,s,n,l){var e;let t=s,a=t.selectionMode==Hn.Multi,o=s.is(Aa)&&s.orientation==bs.Horizontal,u=(null==(e=t.stimulsoft().as(Gt))?void 0:e.font)||new z("Arial",8),h=s,m=o?this.getHorizontalItemAutoWidth(t,u,n,i.width,a):i.width,d=o?i.height:J.ListBox.ItemHeight,c=i.x,g=i.y;if(t.showAllValue){o&&0==m&&(m=this.measureItemWidth(Rd.locAll,u,a));let e=new O(c,g,m,d),t=Bd.CheckRectangle;h.userFilters.any()&&(t=h.userFilters.any(e=>e.condition==Ti.IsFalse)?Bd.NoneRectangle:Bd.DotRectangle),this.renderItem(r,e,s,Rd.locAll,t,o?H.Right:H.Bottom,a),o?c+=m+1:g+=d+1}if(null!=n)for(let t=0;t<n.count2();t++){o&&0==m&&(m=this.measureItemWidth(n[t],u,a));let e=new O(c,g,m,d);if(this.renderItem(r,e,s,n[t],l[t],H.None,a),o?c+=m+1:g+=d+1,o&&c>=i.right||!o&&g>=i.bottom)break}}getHorizontalItemAutoWidth(e,t,r,i,s){let n=0,l=0;if(null!=r)while(n<i&&l<r.length)n+=this.measureItemWidth(r[l],t,s),l++;return e.showAllValue&&(this.measureItemWidth(Rd.locAll,t,s),l++),n<i&&0<l?i/l:0}measureItemWidth(e,t,r){let i=J.Table.Font.getGdiFont(1,null,t),s=pu.measureString(e,i,1e6),n=s.width;return r&&(n+=J.ListBox.CheckBoxWidth),n}renderItem(t,r,i,e,s,n,l){var s;if(l){let e=i.is(Aa)&&i.orientation==bs.Horizontal;Qc.renderCheckBox(t,r.clone(),i,s,e?H.None:n),r.x+=J.ListBox.CheckBoxWidth,r.width-=J.ListBox.CheckBoxWidth}let a=j.getForeColor(i),o=j.getBackColor(i,null,!0),u=(null==(s=i.stimulsoft().as(Gt))?void 0:s.font)||new z("Arial",8),h=new Pm(r);h.name=i.name+`_Item`,h.allowHtmlTags=!0,h.margins=l?new ee(1,0,0,0):ee.empty,h.border=n!=H.None?new U(n,N.gray,1,ui.Solid):new U(H.None,N.transparent,0,ui.None),h.brush=new M(o),h.excelDataValue=this.format(i.as(Id),e),h.horAlignment=X.Left,h.vertAlignment=Mt.Center,h.text=this.format(i.as(Id),e),h.textBrush=new M(a),h.wordWrap=!1,h.font=u,t.components.add(h)}static renderCheckBox(e,t,r,i,s){let n=j.getForeColor(r),l=(t=new O(t.x,t.y,J.ListBox.CheckBoxWidth,t.height),new Vd(t));l.name=r.name+`_ItemCheckBox`,l.border=s!=H.None?new U(s,N.gray,1,ui.Solid):new U(H.None,N.transparent,0,ui.None),l.contourColor=N.transparent,l.textBrush=new M(n),l.checkStyleForTrue=i,l.checkStyleForFalse=Bd.NoneRectangle,l.checkedValue=i!=Bd.NoneRectangle,e.components.add(l)}}F.A.StiListBoxElementExportTool=Qc}F.A.StiPanelElementExportTool=class extends F.A.StiElementExportTool{async render(e,t,r,i){let s=j.getBackColor(e),n=new x(r);n.name=e.name+`_Content`,n.brush=new M(s),t.components.add(n)}};let Pd=B.Report.Components.StiDockStyle,Od=B.Report.Engine.StiCrossTabBuilder,zd=B.Report.CrossTab.StiCrossTabParams,Hd=F.h.StiPivotTableHelper;{class _c extends F.A.StiElementExportTool{async render(s,n,l,a){if(this.renderEmptyDataMessage(s,n,l.clone(),a))return;let o=n.report,t=s.as(_u),u=n.page,r=a.is(zm)&&a.designMode,e=hd.isDataExport(a),h=Ju.get(t);if(null==h){let e=await Jn.tryToGetOrCreate(t);h=await Hd.convertToCrossTab(t,e),Ju.put(t,h),ju.putFalse(t)}Hd.applyStyle(t,h,e),r&&(_c.renderForWebDesigner(h,t),Ju.remove(t)),_c.convertSizes(t,h);let i=h.crossTabInfo.cross,m=i.widths.stimulsoft().toList().sum(),d=i.heights.stimulsoft().toList().sum();if(m<=l.width&&d<=l.height||r||a.renderSinglePage){Sd.render(s,n,a),pd.render(s,n);let e=await gd.render(s,n,a);e=wd.excludePadding(s,e),e=wd.excludeCornerRadius(s,e),_c.renderCells(n,e,e,null,h,r)}else if(a.is($m)){!a.renderSingleElement&&0!=o.renderedPages.getByIndex(0).components.count||o.renderedPages.removeAt(0),u=new me;let e=new Ue,t=(e.name=s.name,e.clientRectangle=new O(0,0,m,d),u.components.add(e),o.renderedPages.add(u),Sd.render(s,e,a),pd.render(s,e),await gd.render(s,e,a)),r=(o.renderedPages.remove(u),2*m-t.width+t.left+1),i=2*d-t.height+t.top+1;(u=new me).width=r,u.height=i,(e=new Ue).name=s.name,e.clientRectangle=new O(0,0,r,i),u.components.add(e),o.renderedPages.add(u),Sd.render(s,e,a),pd.render(s,e),t=await gd.render(s,e,a),u.unlimitedHeight=!0,_c.renderCells(e,t,t,null,h,!1)}else{let i=u.clone(!0,!1),e=(o.renderedPages.add(i),n.clone(!0,!1)),t=(e.left=0,e.top=0,e.width=i.width,e.height=i.height,l=new O(0,0,i.width,i.height),i.components.add(e),n=e,!a.renderSingleElement&&0!=o.renderedPages.getByIndex(0).components.count||o.renderedPages.removeAt(0),Sd.render(s,n,a),pd.render(s,n),await gd.render(s,n,a)),r=(t=wd.excludePadding(s,t),t=wd.excludeCornerRadius(s,t),new O(t.left,t.top,t.width+m,t.height+d));u.unlimitedHeight=!0,_c.renderCells(n,r,t,null,h,!1);for(let r=0;r<i.segmentPerWidth;r++)for(let t=0;t<i.segmentPerHeight;t++)if(0!=r||0!=t){let e=n.clone(!0,!1);e.left=r*u.width,e.top=t*u.height,e.width=u.width,e.height=u.height,i.components.insert(0,e),Sd.render(s,e,a),pd.render(s,e),await gd.render(s,e,a)}}for(let e of n.report.renderedPages.list)e.getComponentsList().forEach(e=>{e.report=o,e.page=u})}static renderForWebDesigner(e,t){if(!(1<t.columns.length||1<t.rows.length))return;let n=e.crossTabInfo.cross.cells,s=0,l=new P,a=new P,i=null,o=null,u=t.summaryDirection==Pa.LeftToRight?t.summaries.length:1,h=t.summaryDirection==Pa.UpToDown?t.summaries.length:1,m=Hd.getHeadersBounds(n);for(let r=0;r<n.length;r++){let t=n[r][0];for(t.cellType==Vu.LeftTopLineMain&&((i=new $c).cell=t,i.x=r,i.width=t.width),t.cellType==Vu.RightTopLineMain&&((o=new $c).cell=t,o.x=r),s=0;s<n[r].length;s++)if((t=n[r][s]).cellType==Vu.CornerColMain||t.cellType==Vu.CornerRowMain){let e=new $c;e.cell=t,e.x=r,e.y=s,e.width=t.width,e.height=t.height,l.add(e)}}if(-1<m.top){let s=-1;for(let i=0;i<n.length;i++){let r=n[i][m.top];if(r.cellType==Vu.HeaderColMain||r.cellType==Vu.HeaderColTotalMain){s=-1==s?i:s;let e=m.bottom-m.top+(1<u?0:1),t=new $c;if(t.cell=r,t.x=s,t.y=m.top,t.height=e,t.width=u,l.add(t),r.text=(1<e&&r.cellType!=Vu.HeaderColTotalMain?"> ":"")+r.text,a.add(i+r.width-1),1<u)for(let t=i+r.width-u;t<i+r.width;t++){let e=new $c;e.cell=n[t][m.bottom],e.x=s,e.y=m.bottom,l.add(e),a.add(t),s++}else s++}}}if(-1<m.left){let i=-1;for(s=0;s<n[0].length;s++){let r=n[0][s];if(r.cellType==Vu.HeaderRowMain||r.cellType==Vu.HeaderRowTotalMain){i=-1==i?s:i;let e=m.right+(1<h?0:1),t=new $c;if(t.cell=r,t.x=0,t.y=i,t.height=h,t.width=e,t.cellRow=1==h?s+r.height-1:-1,l.add(t),r.text=(1<e&&r.cellType!=Vu.HeaderRowTotalMain?"> ":"")+r.text,1<h)for(let t=s+r.height-h;t<s+r.height;t++){let e=new $c;e.cell=n[m.right][t],e.x=m.right,e.y=i,e.cellRow=t,l.add(e),i++}else i++}}}null!=i&&(i.width=m.right-m.left+1,l.add(i)),null!=o&&(o.width=l.max(e=>e.x)-m.right,l.add(o));let d=j.getPivotTableStyle(t),r=l.max(e=>e.y)+1,c=l.max(e=>e.x)+1,g=un.create2($u,c,r);for(let i of l)if(g[i.x][i.y]=i.cell,i.cell.width=i.width,i.cell.height=i.height,0<=i.cellRow)for(s=i.y;s<i.y+i.height;s++){let r=m.right+1;for(let e=i.width;e<n.length;e++)if(0<=a.indexOf(e)){g[r++][s]=n[e][i.cellRow+s-i.y],g[r-1][s].field.border.side=e==n.length-1?H.None:H.Right;let t=g[r-1][s];if(null!=t&&null!=t.field&&t.field.brush.is(M)){let e=t.field.brush.color;(e.equals(d.alternatingCellBackColor)||e.equals(d.cellBackColor))&&(t.field.brush=new M(s%2!=0?d.alternatingCellBackColor:d.cellBackColor),t.field.textBrush=new M(s%2!=0?d.alternatingCellForeColor:d.cellForeColor))}null!=t&&null!=t.field&&(t.field.brush=null!=t.field.conditionBrush?t.field.conditionBrush:t.field.brush,t.field.textBrush=null!=t.field.conditionTextBrush?t.field.conditionTextBrush:t.field.textBrush)}}n=un.create2($u,c,0);for(let t=0;t<c;t++){n[t]=un.create($u,r);for(let e=0;e<r;e++)n[t][e]=null!=g[t][e]?g[t][e]:new $u,null!=n[t][e].field&&t==c-1&&(n[t][e].field.border.side|=H.Top),0<e&&(n[t][e].parentCell=n[t][e])}let p=un.create(Number,r),S=un.create(Number,c);un.copy(e.crossTabInfo.cross.heights,0,p,r),un.copy(e.crossTabInfo.cross.widths,0,S,c),e.crossTabInfo.cross.cells=n,e.crossTabInfo.cross.widths=S,e.crossTabInfo.cross.heights=p,e.crossTabInfo.cross.doAutoSize()}static renderCells(e,t,r,i,s,n){s.page.unlimitedHeight=!0,e.canBreak=!0,e.dockStyle=Pd.None;let l=new zd,a=(l.startColumn=0,l.startRow=0,l.destinationContainer=e,l.destinationRectangle=r,l.forceNoBreak=n,new Od);a.renderCrossTabUnlimitedBreakable(l,s,e,t.clone())}static convertSizes(e,t){let r=t.crossTabInfo.cross,i=e.report.unit;ju.isConverted(e)||(this.convert(r.heights,i),this.convert(r.widths,i),this.convert(r.coordX,i),this.convert(r.coordY,i),ju.putTrue(e))}static convert(t,r){for(let e=0;e<t.length;e++)t[e]=r.convertToHInches(t[e])}}F.A.StiPivotTableElementExportTool=_c;class $c{constructor(){this.x=0,this.y=0,this.width=1,this.height=1,this.cellRow=-1}}}let Xd=B.Report.Maps.StiMapMode,Gd=(F.A.StiRegionMapElementExportTool=class extends F.A.StiElementExportTool{async render(e,t,r,i){if(this.renderEmptyDataMessage(e,t,r.clone(),i))return;let s=e,n=new eo;if(n.stretch=!0,n.page=s.page,n.mapType=s.mapType,n.dataFrom=s.dataFrom,n.language=s.language,n.mapStyle=j.getMapStyleIdent(s),n.componentStyle=s.customStyleName,n.mapIdent=s.mapIdent,n.mapMode=Xd.Choropleth,n.showValue=s.showValue,n.shortValue=s.shortValue,n.showZeros=s.showZeros,n.showBubble=s.showBubble,n.colorEach=s.colorEach,n.displayNameType=s.showName,n.colorDataColumn=null==s.colorMeter?"":s.colorMeter.expression,n.groupDataColumn=null==s.groupMeter?"":s.groupMeter.expression,n.valueDataColumn=null==s.valueMeter?"":s.valueMeter.expression,n.nameDataColumn=null==s.nameMeter?"":s.nameMeter.expression,n.keyDataColumn=null==s.keyMeter?"":s.keyMeter.expression,n.mapData=s.mapData,n.brush=new M(j.getBackColor(e,null,i.is(zm)||i.is(Nm))),n.left=r.left,n.top=r.top,n.width=r.width,n.height=r.height,s.dataFrom==io.DataColumns){let e=await Jn.tryToGetOrCreate(s);n.dataTable=e,t.report.dictionary=s.report.dictionary}t.components.add(n)}},F.A.StiShapeElementExportTool=class extends F.A.StiElementExportTool{async render(e,t,r,i){let s=e.as(wh),n=new Mm;n.shapeType=s.shapeType,n.size=s.size,n.borderColor=s.stroke,n.brush=s.fill,n.page=s.page,n.left=r.left,n.top=r.top,n.width=r.width,n.height=r.height,t.components.add(n)}},F.K.StiTableColumnVisibilityHelper),jd=F.C.StiBubbleCellPainter,Jd=F.C.StiSparklinesCellPainter,Wd=B.Report.Components.StiSparkline,Ud=B.Data.Functions.StiSystemVariableObject,Kd=B.Report.StiNameValidator,qd=F.q.StiTableElementGdiPainter,Yd=F.h.StiTableElementHelper,Zd=F.C.StiDataBarsCellPainter,Qd=B.Report.Export.StiSvgHelper,_d=B.Report.Export.StiSvgGeomWriter,$d=F.C.StiColorScaleCellPainter,ec=F.K.StiTableElementConditionHelper;{class eg extends F.A.StiElementExportTool{async render(e,r,t,i){if(this.renderEmptyDataMessage(e,r,t.clone(),i))return;let s=r.report,n=r.page,l=e.as(Fh),a=null==i?F.f.StiDashboardExportFormat.Document:i.format,o=i.renderSingleElement&&a==F.f.StiDashboardExportFormat.Excel,u=hd.isDataExport(i),h=r.clone(!0,!1),m=(i.renderSinglePage||(t.height=Number.MAX_VALUE),await eg.renderCells(h,t,l,1,a,u),o&&(t.width=h.components.toList().max(e=>e.right),t.height=h.components.toList().max(e=>e.bottom),r.width=r.page.width=t.width,r.height=r.page.height=t.height),0),d=r.top;0<h.components.count&&(d+=h.getComponentsList().stimulsoft().toList().min(e=>e.top));while(1){if(h.getComponentsList().stimulsoft().toList().where(e=>e.bottom<=r.height).toList().forEach(e=>{h.components.remove(e),(e.left<r.width||a==F.f.StiDashboardExportFormat.Data)&&(r.components.add(e),e.right>r.width&&a!=F.f.StiDashboardExportFormat.Data&&(e.width=Math.max(0,r.width-e.left)))}),i.renderSinglePage||0==h.components.count)break;let t=h.getComponentsList().stimulsoft().toList().min(e=>e.top);h.getComponentsList().stimulsoft().toList().forEach(e=>e.top=e.top-t+1),s.renderedPages.count<=++m&&s.renderedPages.add(n.clone(!0,!1)),n=s.renderedPages.getByIndex(m),r=r.clone(!0,!1),i.renderSingleElement?(r.top=0,r.left=0):r.top=d,n.components.add(r)}for(let e of r.report.renderedPages.list)e.getComponentsList().stimulsoft().toList().forEach(e=>{e.report=s,e.page=n})}static async renderCellsForViewer(e){var h;let m=e.as(Fh);if(null==m)return null;let d=await Jn.getOrCreate(m);if(null==d)return null;let c=1,g=[],p=J.Table.getHeight(m.font,c),S=d.meters.where(e=>e.is(Qi)).cast(),t=null!=S.firstOrDefault(e=>e.showTotalSummary),w=0;for(let u of S){let e=await Gd.getVisible(u,m.report);if(!e){w++;continue}let n=eg.measureHeader(m,u,c);if(u.is(Ii))n=eg.measureSparklinesCell(c,n);else{for(let r of d.rows){let e=r[w],t;t=u.is2(vi)?eg.measureIndicatorCell(m,u,c,e):u.is2(Ai)?eg.measureDataBarsCell(m,u,c,e):eg.measureCommonCell(m,u,c,e,n).width,n=Math.max(n,t)}if(u.showTotalSummary){let e=Yd.calculateTotal(u,w,d),t=this.measureFooter(m,u,c,e);n=Math.max(n,t)}}let l=Yd.minDataColumnValue(u,d,w),a=Yd.maxDataColumnValue(u,d,w),o=0;for(let s of d.rows){g.length<d.rows.length&&g.push([]);let t=s[w],e=(null!==t&&void 0!==t&&t.stimulsoft().is(Ud)&&(t=t==Ud.Line?u.textFormat.format(o+1):Ri.getSystemVariable(null===t||void 0===t?void 0:t.stimulsoft().as(Ud),o+1)),new O(0,0,n,p)),r=new Ue,i=(await eg.renderCell(r,e,m,s,S.select(e=>e.key),u,c,t,l,a,1==(1&o),F.f.StiDashboardExportFormat.Html,!1),{});if(0<m.tableConditions.length&&0<r.components.length){let e=r.components.getByIndex(0);e.is(Pm)||(e.is(Ht)&&(i["backColor"]=Bo.toHtml(_.toColor(e.as(Ht).brush))),e.is(Vt)&&(i["textColor"]=Bo.toHtml(_.toColor(e.as(Vt).textBrush))))}if("boolean"==typeof t)i["boolValue"]=t;else for(let e of r.components.list)if(e.is(Pm)){if(i["text"]=e.text,i["textColor"]=Bo.toHtml(_.toColor(e.textBrush)),i["backColor"]=Bo.toHtml(_.toColor(e.brush)),i["textWidth"]=e.width,i["textHeight"]=e.height,0<m.tableConditions.length){let e=null==(h=m.as(Gt))?void 0:h.font,t=await ec.processFontStyle(e,u.key,m,s,S.select(e=>e.key)),r=(e=new z(e.fontFamily.name,e.size,t),{});r["bold"]=e.bold,r["italic"]=e.italic,r["underline"]=e.underline,r["strikeout"]=e.strikeout,i["textFontStyle"]=r}null!=t&&t.toString()!=i["text"]&&(i["value"]=t.toString())}else e.is(nd)?(i["image"]=null!=e.imageToDraw?B.Base.Drawing.StiImageConverter.imageToString(e.imageToDraw):null,i["imageWidth"]=e.width,i["imageHeight"]=e.height):e.is(Wd)&&(i["sparkline"]=B.Report.Export.StiHtmlExportService.getSparklineData(null,e,e.width,e.height),i["sparklineWidth"]=e.width,i["sparklineHeight"]=e.height);null==i["boolValue"]&&null==i["text"]&&null==i["image"]&&(i["text"]=t),g[o].push(i),o++}if(t){g.length<d.rows.length+1&&g.push([]);let t={};if(t["text"]="",u.showTotalSummary){let e=Yd.calculateTotal(u,w,d);t["text"]=u.summaryType==Rr.Count?A.trunc(e).toString():Ei.formatBasedOnColumnType(m,u,e)}g[g.length-1].push(t)}w++}return g}static async renderCells(u,h,m,d,c,g){let p=await Jn.tryToGetOrCreate(m);if(null==p)return;let t=J.Table.getHeight(m.headerFont,d),e=J.Table.getHeight(m.font,d),S=p.meters.where(e=>e.is(Qi)).cast(),r=null!=S.firstOrDefault(e=>e.showTotalSummary),w=r?J.Table.getHeight(m.footerFont,d):0,f=new P,C=[],y=0;for(let i of S){let r=0,e=await Gd.getVisible(i,m.report);if(e&&(r=this.measureHeader(m,i,d),i.showTotalSummary)){let e=Yd.calculateTotal(i,y,p),t=this.measureFooter(m,i,d,e);r=Math.max(r,t)}f.push(r),y++}let b=h.y+t;if(b<h.bottom-w){for(let l of p.rows){let n=e;y=-1;for(let s of S){y++;let e=await Gd.getVisible(s,m.report);if(!e)continue;let i=f[y];if(s.is(Ii))i=this.measureSparklinesCell(d,i);else{let t=l[y],r;if(s.is2(vi))r=this.measureIndicatorCell(m,s,d,t);else if(s.is2(Ai))r=this.measureDataBarsCell(m,s,d,t);else if(s.is2(fi))r=eg.measureBubbleCell(m,s,d,t);else{let e=this.measureCommonCell(m,s,d,t,i);r=e.width,n=Math.max(e.height,n)}i=Math.max(i,r)}f[y]=i}if(b+n>h.bottom-w&&(n=h.bottom-w-b)<1.2&&(n=1.2),C.push(n),(b+=n)>=h.bottom-w)break}C.push(e)}if(m.sizeMode==po.Fit){let t=h.width/f.sum(),e=(1<t&&(f=f.select(e=>e*t).toList()),-1);for(let n of p.rows){if(++e>=C.length)break;y=-1;let s=C[e];for(let i of S){if(y++,i.is2(vi)||i.is2(Ai))continue;if(i.is(Ur)){let e=i,t=e.size.width,r=(e.size.width=f[y]-4,this.measureCommonCell(m,i,d,n[y],e.size.width));s=Math.max(r.height,s),e.size.width=t}}C[e]=s}}let x=h.x;y=0;for(let o of S){let e=await Gd.getVisible(o,m.report);if(!e){y++;continue}let a=f[y];if(c==F.f.StiDashboardExportFormat.Excel&&(a*=1.1),b=h.y,c!=F.f.StiDashboardExportFormat.Data){let e=new O(x,b,a,t);this.renderHeader(u,e,m,o,d,c,g),b+=e.height}if(b<=h.bottom-w){let s=Yd.minDataColumnValue(o,p,y),n=Yd.maxDataColumnValue(o,p,y),l=0;for(let i of p.rows){let e=Math.ceil(C[l]),t=i[y],r=(null!==t&&void 0!==t&&t.stimulsoft().is(Ud)&&(t=t==Ud.Line?o.textFormat.format(l+1):Ri.getSystemVariable(null===t||void 0===t?void 0:t.stimulsoft().as(Ud),l+1)),new O(x,b,a,e));if(await this.renderCell(u,r,m,i,S.select(e=>e.key),o,d,t,s,n,1==(1&l),c,g),b+=e,l++,b>=h.bottom-w)break}}if(c!=F.f.StiDashboardExportFormat.Data&&!g&&r){let e=new O(x,b,a,w);this.renderFooter(u,e,m,o,y,d,p)}x+=a,y++}}static measureSparklinesCell(e,t){return Math.max(t,80*e)}static measureHeader(e,t,r){return qd.measureHeader(e,t).width*r}static measureFooter(e,t,r,i){let s=Ei.formatBasedOnColumnType(e,t,i);return qd.measureCell(s,e.footerFont).width*r}static measureIndicatorCell(e,t,r,i){let s=t.as(vi),n=Td.getCellText(e,s,v.tryToNullableNumber(i)),l=qd.measureCell(n,e.font).width*r;return l*=1.25}static measureDataBarsCell(e,t,r,i){let s=Ei.formatBasedOnColumnType(e,t,i),n=qd.measureCell(s,e.font).width*r;return t.horAlignment!=V.Center&&(n*=2),n}static measureBubbleCell(e,t,r,i){let s=Ei.formatBasedOnColumnType(e,t,i),n=qd.measureCell(s,e.font).width*r,l=J.Table.getHeight(e.font,r);if(t.horAlignment==V.Center)return l;return n+=l}static measureCommonCell(e,t,r,i,s){if(Uo.isImage(i))return new G(s,0);let n=Ei.formatBasedOnColumnType(e,t,i),l=qd.measureCell(n,e.font);return l.width*=r,l.height*=r,l}static renderHeader(e,t,r,i,s,n,l){let a=null!=i?zu.getLabel(i):"",o=L.isNullOrWhiteSpace(a)?r.name+`_Column`:Kd.correctName(a),u=j.getTableStyle(r),h=0!=r.columns.indexOf(i)&&t.left<e.width&&!l,m=r.columns.indexOf(i)!=r.columns.length-1&&t.right<=e.width&&!l,d=(h?H.Left:H.None)|(m?H.Right:H.None),c=l?N.black:this.getHeaderForeColor(r),g=l?N.transparent:u.headerBackColor,p=l?new z("Arial",10,k.Bold):r.headerFont,S=new Pm(t);S.name=o,S.allowHtmlTags=!0,S.autoWidth=!1,S.horAlignment=this.getHeaderAlignment(i),S.vertAlignment=Mt.Center,S.wordWrap=!1,S.border=new U(d,u.lineColor,1,ui.Solid),S.brush=new M(g),S.font=J.Table.Font.getGdiFont(s,null,p),S.text=a,S.textFormat=null!=i.textFormat?i.textFormat.clone():null,S.textBrush=new M(c),S.componentPlacement=`h.`+r.name,e.components.add(S)}static getHeaderAlignment(e){if(e.headerAlignment==V.Left)return X.Left;if(e.headerAlignment==V.Right)return X.Right;return X.Center}static renderFooter(e,t,r,i,s,n,l){let a=j.getTableStyle(r),o=this.getFooterForeColor(r),u=a.footerColor,h=r.footerFont,m="";if(i.showTotalSummary){let e=Yd.calculateTotal(i,s,l);m=i.summaryType==Rr.Count?A.trunc(e).toString():Ei.formatBasedOnColumnType(r,i,e)}let d=X.Right,c=(i.summaryAlignment==V.Left?d=X.Left:i.summaryAlignment==V.Center&&(d=X.Center),new Pm(t));c.name=r.name+`_FooterCell`,c.border=this.getBorderSides(e,t,r,i,H.All),c.brush=new M(u),c.excelDataValue=m,c.font=J.Table.Font.getGdiFont(n,null,h),c.horAlignment=d,c.vertAlignment=Mt.Center,c.text=m,c.textBrush=new M(o),c.textFormat=null!=i.textFormat?i.textFormat.clone():null,c.wordWrap=!1,c.componentPlacement=`f.`+r.name,e.components.add(c)}static async renderCell(e,t,r,i,s,n,l,a,o,u,h,m,d){let c=j.getTableStyle(r),g=this.getForeColor(r,n,c,h),p=qd.getBackgroundColor(c,null!=h&&h);p=await ec.processBackColor(p,n.key,r,i,s),d?await this.renderTextCell(e,t,r,i,s,n,l,a,H.None,N.black,N.transparent,m,!0):n.is2(Ai)||n.is2(Ii)||n.is2(vi)||n.is2(fi)?await this.renderGraphicCell(e,t.clone(),r,i,s,n,l,a,o,u,p,c,null!=h&&h,m):n.is2(Di)?await this.drawColorScaleColumn(e,t.clone(),r,i,s,n,l,a,o,u,c,m):Uo.isImage(a)?this.renderImageCell(e,t.clone(),r,n,a,p,m):"boolean"==typeof a?await this.renderBoolCell2(e,t.clone(),r,i,s,n,l,a,g,p,m):await this.renderTextCell(e,t.clone(),r,i,s,n,l,a,H.All,g,p,m,!1)}static async renderGraphicCell(s,n,l,t,r,a,i,o,u,h,m,d,c,g){let p="",S=n,w=this.getForeColor(l,a,d,c),f=new sd(Nn.UTF8);if(f.indentation=-1,f.writeStartElement("svg"),f.writeAttributeString("version","1.1"),f.writeAttributeString("baseProfile","full"),f.writeAttributeString("xmlns","http://www.w3.org/2000/svg"),f.writeAttributeString("xmlns:xlink","http://www.w3.org/1999/xlink"),f.writeAttributeString("xmlns:ev","http://www.w3.org/2001/xml-events"),f.writeAttributeString("height",Qd.toUnits(n.height)),f.writeAttributeString("width",Qd.toUnits(n.width)),f.writeStartElement("rect"),f.writeAttributeString("x","0"),f.writeAttributeString("y","0"),f.writeAttributeString("width",Qd.toUnits(n.width)),f.writeAttributeString("height",Qd.toUnits(n.height)),f.writeAttributeString("style",Qd.writeFillBrush(f,m,n)),f.writeEndElement(),a.is2(Ii)){let e=Jd.castToArray(o),t=null==e?void 0:e.stimulsoft().toList().select(e=>null==e?void 0:e.stimulsoft().toNumber()),r=a.as(Ii),i=new Wd(n.clone());return i.values=t,i.positiveColor=r.allowCustomColors?r.positiveColor:d.cellSparkline,i.negativeColor=r.allowCustomColors?r.negativeColor:d.cellWinLossNegative,i.showFirstLastPoints=r.showFirstLastPoints,i.showHighLowPoints=r.showHighLowPoints,i.type=r.type,i.brush=new M(m),i.componentPlacement=`d.`+l.name,void s.components.add(i)}let C=new _d(f),y=H.None,b="GraphicCell",x=new O(0,0,n.width,n.height),T=a.horAlignment;if(a.is2(Ai)){Zd.draw(C,x,l,a,i,v.tryToNumber(o),u,h,c,!1,!1),g!=F.f.StiDashboardExportFormat.Data&&(S=Zd.calculateTextRect(n.clone(),a)).inflate(2,2),p=Ei.formatBasedOnColumnType(l,a,o),w=Zd.getForeColor(l,a,d,c,!1);let e=v.tryToNumber(o);e<0&&xu.isNegativeInRed(a.textFormat)&&(w=W.Engine.negativeColor),w=await ec.processForeColor(w,a.key,l,t,r),y=H.Right,b="DataBarsCell"}else if(a.is2(vi))Td.draw(C,x,l,a,i,v.tryToNullableNumber(o),d,!1),S=Td.calculateTextRect(n.clone(),a),p=Td.getCellText(l,a,v.tryToNullableNumber(o)),w=Td.getColor(a,v.tryToNullableNumber(o),d),w=await ec.processForeColor(w,a.key,l,t,r),y=H.None,b="IndicatorCell";else if(a.is2(fi)){jd.draw(C,x,l,a,i,v.tryToNullableNumber(o),u,h,c,!1,!1),g!=F.f.StiDashboardExportFormat.Data&&(S=jd.calculateTextRect(l,n.clone(),a)).inflate(2,2),p=jd.getCellText(l,a,v.tryToNullableNumber(o)),w=Zd.getForeColor(l,a,d,c,!1),w=await ec.processForeColor(w,a.key,l,t,r),y=H.None,b="BubbleCell";let e=a.stimulsoft().as(rr);null!=e&&(e.horAlignment==V.Center&&g!=F.f.StiDashboardExportFormat.Data&&(p=null),e.horAlignment==V.Left&&(T=V.Right),e.horAlignment==V.Right&&(T=V.Left))}if(f.writeFullEndElement(),f.flush(),g!=F.f.StiDashboardExportFormat.Data&&!a.is2(Ii)){let e=new nd(n),t=(e.name=l.name+`_`+b,e.border=this.getBorderSides(s,n.clone(),l,a,H.All),e.stretch=!0,e.aspectRatio=a.is2(vi)||a.is2(fi),f.textWriter.getStringBuilder().toString());e.image=aa.stringToImage(B.System.Convert.toBase64String(t)),e.brush=new M(m),e.horAlignment=T,s.components.add(e)}g!=F.f.StiDashboardExportFormat.Data&&L.isNullOrEmpty(p)||await this.renderTextCell(s,S,l,t,r,a,i,o,y,w,m,g,!1,!1)}static async drawColorScaleColumn(e,t,r,i,s,n,l,a,o,u,h,m){let d=n.as(Di),c=this.getForeColor(r,n,h,!1),g=(c=await ec.processForeColor(c,n.key,r,i,s),$d.getScaleColor(v.tryToNumber(a),o,u,h,d.minimumColor,d.maximumColor));g=await ec.processBackColor(g,n.key,r,i,s),await this.renderTextCell(e,t.clone(),r,i,s,n,l,a,H.All,c,g,m,!1)}static async renderBoolCell2(r,i,s,n,l,a,e,o,u,h,t){if(t==F.f.StiDashboardExportFormat.Data)await this.renderTextCell(r,i.clone(),s,n,l,a,e,o,H.None,u,h,t,!1);else{u=await ec.processForeColor(u,a.key,s,n,l),h=await ec.processBackColor(h,a.key,s,n,l);let e=o?Bd.CheckRectangle:Bd.NoneRectangle,t=new Vd(i);t.name=s.name+`_Cell`,t.border=this.getBorderSides(r,i,s,a,H.All),t.contourColor=N.transparent,t.textBrush=new M(u),t.brush=new M(h),t.checkStyleForTrue=e,t.checkStyleForFalse=Bd.NoneRectangle,t.checkedValue=e!=Bd.NoneRectangle,t.excelDataValue=o.toString(),t.componentPlacement=`d.`+s.name,r.components.add(t)}}static async renderTextCell(e,t,s,n,l,r,i,a,o,u,h,m,d,c=null){var g;let p=Ei.formatBasedOnColumnType(s,r,a),S=d?new z("Arial",10):s.font,w=(r.is(ki)&&r.showHyperlink&&(S=new z(S.fontFamily.name,S.size,S.style|k.Underline)),await ec.processFontStyle(S,r.key,s,n,l)),f=(S=new z(S.fontFamily.name,S.size,w),v.tryToNumber(a));if(f<0&&xu.isNegativeInRed(r.textFormat)&&(u=W.Engine.negativeColor),r.is(Ii)){let e=Jd.castToArray(a),t=null==e?void 0:e.stimulsoft().toList().select(e=>e.toString());p=L.join(" ",t)}u=await ec.processForeColor(u,r.key,s,n,l),h=await ec.processBackColor(h,r.key,s,n,l);let C=gd.convert(r.horAlignment),y=(r.is(fi)&&(C=X.Right),r.as(Ur)),b=(null!=y&&null==c&&(c=y.size.wordWrap),null);if(r.is(ki)&&r.showHyperlink&&!L.isNullOrWhiteSpace(r.hyperlinkPattern)){let i=new B.System.Collections.Hashtable;i.add("Value",a);for(let r=0;r<l.length;r++){let e=s.columns.firstOrDefault(e=>e.key==l[r]),t="Row."+Kd.correctName(e.label,!0);i.add(t,null==(g=n[r])?void 0:g.toString())}b=await B.Report.Dashboard.StiReportParser.parseAsync(r.hyperlinkPattern,s,!1,i)}let x=new Pm(t);x.name=s.name+`_Cell`,x.border=this.getBorderSides(e,t.clone(),s,r,o),x.brush=new M(h),x.excelDataValue=null!=r.textFormat&&r.textFormat.is(vt)?null:p,x.font=J.Table.Font.getGdiFont(i,null,S),x.horAlignment=C,x.vertAlignment=Mt.Center,x.text=p,x.textBrush=new M(u),x.textFormat=null!=r.textFormat?r.textFormat.clone():null,x.wordWrap=0!=c,x.componentPlacement=`d.`+s.name,x.trimming=zo.EllipsisCharacter,x.hyperlinkValue=b,e.components.add(x)}static renderImageCell(e,t,r,i,s,n,l){if(l==F.f.StiDashboardExportFormat.Data)return;let a=Uo.getImageFromObject(s);if(null==a)return;let o=new nd(t);o.name=r.name+`_Cell`,o.border=this.getBorderSides(e,t.clone(),r,i,H.All),o.brush=new M(n),o.stretch=!0,o.aspectRatio=!1,o.imageToDraw=a,e.components.add(o)}static async renderBoolCell(e,t,r,i,s,n,l,a,o,u,h){if(h==F.f.StiDashboardExportFormat.Data)return void await this.renderTextCell(e,t.clone(),r,i,s,n,l,a,o,null,u,h,!1);let m=0!=r.columns.indexOf(n),d=r.columns.indexOf(n)!=r.columns.length-1,c=(m?H.Left:H.None)|(d?H.Right:H.None),g=j.getTableStyle(r),p=new nd(t);p.name=r.name+`_Cell`,p.border=o?new U(c,g.lineColor,1,ui.Solid):new U(H.None,N.transparent,0,ui.None),p.brush=new M(u),p.horAlignment=V.Center,p.vertAlignment=Mt.Center,e.components.add(p)}static getForeColor(e,t,r,i){if(!N.transparent.equals(t.foreColor))return t.foreColor;if(t.is(ki)&&t.showHyperlink)return ar.get("165dc8");let s=ul.getForeColor(e,e.foreColor);if(!N.transparent.equals(s))return s;return null!=r?i?r.alternatingCellForeColor:r.cellForeColor:J.Table.Font.Color}static getHeaderForeColor(e){if(!N.transparent.equals(e.headerForeColor))return e.headerForeColor;let t=j.getTableStyle(e);return t.headerForeColor}static getFooterForeColor(e){if(!N.transparent.equals(e.footerForeColor))return e.footerForeColor;let t=j.getTableStyle(e);return t.footerForeground}static getBorderSides(e,t,r,i,s){let n=j.getTableStyle(r),l=0!=(s&H.Left)&&0!=r.columns.indexOf(i)&&t.left<e.width,a=0!=(s&H.Right)&&r.columns.indexOf(i)!=r.columns.length-1&&t.right<=e.width,o=(l?H.Left:H.None)|(a?H.Right:H.None),u=o!=H.None?1:0,h=o!=H.None?n.lineColor:N.transparent;return new U(o,h,u,ui.Solid)}}F.A.StiTableElementExportTool=eg}let tc=F.h.StiAutoSizeHtmlTextHelper,rc=(F.A.StiTextElementExportTool=class extends F.A.StiElementExportTool{async render(e,t,s,r){if(this.renderEmptyDataMessage(e,t,s.clone(),r))return;let n=e.as(Th),l="";if(W.Engine.dashboardTextElementExpressionParser==yo.ReportParser||ls.isTimeExpression(n.text))l=await rt.parseAsync(n.text,n,!1);else if(n.isQuerable){let e=await Jn.tryToGetOrCreate(n),t=new P(null==e?void 0:e.rows.firstOrDefault()).select(e=>v.tryToString(e)).toList();null!=t&&(l=ls.replaceExpressionBlocksByValues(n.text,t))}else l=n.text;if(!L.isNullOrEmpty(l)&&l.toLowerCase().stimulsoft().replaceAll(" ","").stimulsoft().contains("javascript:")&&(l=l.toLowerCase().stimulsoft().replaceAll("javascript","")),n.sizeMode==ot.Fit){let i,e=3;do{let e=tc.measure(null,s.clone(),l,n),t=e.width>s.width?s.width/e.width:1,r=e.height>s.height?s.height/e.height:1;(i=Math.min(Math.abs(t),Math.abs(r)))<1&&(l=this.changeFontSize(l,.99*i))}while(i<1&&0<e--)}let i=new Pm(s);i.name=e.name+`_Content`,i.allowHtmlTags=!0,i.vertAlignment=n.vertAlignment,i.horAlignment=n.horAlignment,i.text=l,i.textBrush=new M(j.getForeColor(n)),i.trimming=n.sizeMode==ot.Trimming?zo.EllipsisCharacter:zo.None,i.wordWrap=n.sizeMode==ot.WordWrap,t.components.add(i)}changeFontSize(e,t){if(null==e||!e.stimulsoft().startsWith("<font ")||e.indexOf(' size="')<0)return e;let r=e.indexOf(' size="')+7,i=e.substring(r),s=(i=i.substring(0,i.indexOf('"'))).stimulsoft().toNumber();return null==s&&(s=12),s=Math.ceil(s*t*10)/10,e.substring(0,r)+s.toString().replace(",",".")+e.substring(r+i.length)}},F.A.StiTreeViewBoxElementExportTool=class extends F.A.StiComboBoxElementExportTool{async render(e,t,r,i){return super.render(e,t,r,i)}getValuesCount(e,t){let r=e.as(Eo),i=Ro.fetchItems(t,r.showBlanks);return null!=i?i.length:0}},B.Report.Components.StiShapeDirection),ic=B.Report.Components.StiTriangleShapeType;{class tg extends F.A.StiListBoxElementExportTool{async render(e,t,r,i){return super.render(e,t,r,i)}getCheckStyle(t,r){let e=t;if(!e.userFilters.any())return Bd.CheckRectangle;if(e.userFilters.any(e=>e.condition==Ti.IsFalse))return Bd.NoneRectangle;if(null!=r.items){let e=r.items.select(e=>this.getCheckStyle(t,e));if(e.all(e=>e==Bd.CheckRectangle))return Bd.CheckRectangle;if(e.all(e=>e==Bd.NoneRectangle))return Bd.NoneRectangle;return Bd.DotRectangle}if(e.userFilters.any(e=>e.condition==Ti.EqualTo&&e.value==r.toString()))return Bd.CheckRectangle;return Bd.NoneRectangle}async renderItems(e,t,r){let i=await Jn.tryToGetOrCreate(r);if(null==i)return;let s=r.as(Do),n=Ro.fetchItems(i,s.showBlanks),l=null==n?void 0:n.select(e=>null==e?"":null!=e.key&&e.key instanceof w?e.key.toShortDateString():e.toString()),a=null==n?void 0:n.select(e=>this.getCheckStyle(r,e));this.renderItems2(e,t.clone(),r,l,a)}renderItem(e,t,r,i,s,n,l){i!=Rd.locAll&&(tg.renderExpander(e,t.clone(),r),t.x+=J.ListBox.CheckBoxWidth/2,t.width-=J.ListBox.CheckBoxWidth/2),super.renderItem(e,t.clone(),r,i,s,n,l)}static renderExpander(e,t,r){t=new O(t.x,t.y+t.height/3,J.ListBox.CheckBoxWidth/3,t.height/3);let i=new Mm(t);i.name=r.name+`_ItemExpander`,i.shapeType=new ic(rc.Right),i.brush=new M(N.dimGray),i.style=ui.None,e.components.add(i)}}F.A.StiTreeViewElementExportTool=tg}{class rg{static run(t,r){if(void 0===t)return void rg.run(B,"Stimulsoft");r=r.stimulsoft().replaceAll("Stimulsoft.System","System");for(let e in t)"function"==typeof t[e]?(t[e].ssTypeName=e,t[e].ssNamespace=r):"object"==typeof t[e]&&rg.run(t[e],r+"."+e)}}F.c.StiTypesHelper=rg}return F.c.StiTypesHelper.run(),{Stimulsoft:B,StiOptions:W}});